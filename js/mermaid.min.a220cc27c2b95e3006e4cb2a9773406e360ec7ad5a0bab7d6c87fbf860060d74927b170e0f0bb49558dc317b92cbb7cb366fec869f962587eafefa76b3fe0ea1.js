(()=>{sv=Object.create,Ia=Object.defineProperty,B3=Object.getOwnPropertyDescriptor,F3=Object.getOwnPropertyNames,Y3=Object.getPrototypeOf,X3=Object.prototype.hasOwnProperty,Q3=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Wa=(e,t)=>function(){return t||(0,e[F3(e)[0]])((t={exports:{}}).exports,t),t.exports},w3=(e,t)=>{for(var n in t)Ia(e,n,{get:t[n],enumerable:!0})},Ah=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F3(t))!X3.call(e,o)&&o!==n&&Ia(e,o,{get:()=>t[o],enumerable:!(s=B3(t,o))||s.enumerable});return e},Ua=(e,t,n)=>(n=e!=null?sv(Y3(e)):{},Ah(t||!e||!e.__esModule?Ia(n,"default",{value:e,enumerable:!0}):n,e)),Th=Wa({"node_modules/moment-mini/moment.min.js"(e,t){!function(n,s){"object"==typeof e&&"undefined"!=typeof t?t.exports=s():"function"==typeof define&&define.amd?define(s):n.moment=s()}(e,function(){"use strict";function n(){return tn.apply(null,arguments)}function k(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return e!=null&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dt(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(l(e,t))return;return 1}function j(e){return void 0===e}function I(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function je(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function jt(e,t){for(var s=[],o=e.length,n=0;n<o;++n)s.push(t(e[n],n));return s}function U(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function T(e,t,n,s){return St(e,t,n,s,!0).utc()}function a(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function lt(e){if(null==e._isValid){var t=a(e),n=fn.call(t.parsedDateParts,function(e){return e!=null}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function Fe(e){var t=T(NaN);return e!=null?U(a(t),e):a(t).userInvalidated=!0,t}var fn=Array.prototype.some||function(e){for(var n=Object(this),s=n.length>>>0,t=0;t<s;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1},_t=n.momentProperties=[],ot=!1;function st(e,t){var n,s,o,i=_t.length;if(j(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),j(t._i)||(e._i=t._i),j(t._f)||(e._f=t._f),j(t._l)||(e._l=t._l),j(t._strict)||(e._strict=t._strict),j(t._tzm)||(e._tzm=t._tzm),j(t._isUTC)||(e._isUTC=t._isUTC),j(t._offset)||(e._offset=t._offset),j(t._pf)||(e._pf=a(t)),j(t._locale)||(e._locale=t._locale),0<i)for(n=0;n<i;n++)j(o=t[s=_t[n]])||(e[s]=o);return e}function he(e){st(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ot&&(ot=!0,n.updateOffset(this),ot=!1)}function C(e){return e instanceof he||e!=null&&null!=e._isAMomentObject}function vt(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var s=!0;return U(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),s){for(var o,a,r=[],c=arguments.length,i=0;i<c;i++){if(o="","object"==typeof arguments[i]){for(a in o+=`
[`+i+"] ",arguments[0])l(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}vt(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+(new Error).stack),s=!1}return t.apply(this,arguments)},t)}Xe={};function Wt(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),Xe[e]||(vt(t),Xe[e]=!0)}function M(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function rt(e,t){var n,s=U({},e);for(n in t)l(t,n)&&(Y(e[n])&&Y(t[n])?(s[n]={},U(s[n],e[n]),U(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)l(e,n)&&!l(t,n)&&Y(e[n])&&(s[n]=U({},s[n]));return s}function ct(e){e!=null&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,Ct=Object.keys||function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};function S(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var ht=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,xe=/(\[[^[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,at={},ie={};function o(e,t,n,s){var o="string"==typeof s?function(){return this[s]()}:s;e&&(ie[e]=o),t&&(ie[t[0]]=function(){return S(o.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Te(e,t){return e.isValid()?(t=Dt(t,e.localeData()),at[t]=at[t]||function(e){for(var s,t=e.match(ht),n=0,o=t.length;n<o;n++)ie[t[n]]?t[n]=ie[t[n]]:t[n]=(s=t[n]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(n){for(var i="",s=0;s<o;s++)i+=M(t[s])?t[s].call(n,e):t[s];return i}}(t),at[t](e)):e.localeData().invalidDate()}function Dt(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(xe.lastIndex=0;0<=n&&xe.test(e);)e=e.replace(xe,s),xe.lastIndex=0,--n;return e}le={};function g(e,t){var n=e.toLowerCase();le[n]=le[n+"s"]=le[t]=e}function O(e){return"string"==typeof e?le[e]||le[e.toLowerCase()]:void 0}function qe(e){var t,n,s={};for(t in e)l(e,t)&&(n=O(t))&&(s[n]=e[t]);return s}Ue={};function v(e,t){Ue[e]=t}function we(e){return e%4==0&&e%100!=0||e%400==0}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function r(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?w(e):t}function Z(e,t){return function(s){return s!=null?(an(this,e,s),n.updateOffset(this,t),this):Be(this,e)}}function Be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function an(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&we(e.year())&&1===e.month()&&29===e.date()?(n=r(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var c,F,V,tn,Xe,Ct,le,Ue,e=/\d/,i=/\d\d/,Pe=/\d{3}/,X=/\d{4}/,B=/[+-]?\d{6}/,h=/\d\d?/,ne=/\d\d\d\d?/,se=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,W=/\d{1,4}/,$=/[+-]?\d{1,6}/,re=/\d+/,Me=/[+-]?\d+/,Mn=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,L=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oe,Ve,pe,te,Rt,Vt,$t,nt,ke;function s(e,t,n){Oe[e]=M(t)?t:function(e){return e&&n?n:t}}function Fn(e,t){return l(Oe,e)?Oe[e](t._strict,t._locale):new RegExp(y(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\][]*)\]|\\(.)/g,function(e,t,n,s,o){return t||n||s||o})))}function y(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}Oe={},Ve={};function d(e,t){var n,s,o=t;for("string"==typeof e&&(e=[e]),I(t)&&(o=function(e,n){n[t]=r(e)}),s=e.length,n=0;n<s;n++)Ve[e[n]]=o}function be(e,t){d(e,function(e,n,s,o){s._w=s._w||{},t(e,s._w,s,o)})}var f,b=0,z=1,A=2,p=3,x=4,N=5,q=6,An=7,En=8;function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?we(e)?29:28:31-n%7%2}f=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},o("M",["MM",2],"Mo",function(){return this.month()+1}),o("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),o("MMMM",0,0,function(e){return this.localeData().months(this,e)}),g("month","M"),v("month",8),s("M",h),s("MM",h,i),s("MMM",function(e,t){return t.monthsShortRegex(e)}),s("MMMM",function(e,t){return t.monthsRegex(e)}),d(["M","MM"],function(e,t){t[z]=r(e)-1}),d(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict),s!=null?t[z]=s:a(n).invalidMonth=e});var ue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ot=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,pn=L,_n=L;function It(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=r(t);else if(!I(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Xt(e){return e!=null?(It(this,e),n.updateOffset(this,!0),this):Be(this,"Month")}function on(){function i(e,t){return t.length-e.length}for(var n,s=[],o=[],t=[],e=0;e<12;e++)n=T([2e3,e]),s.push(this.monthsShort(n,"")),o.push(this.months(n,"")),t.push(this.months(n,"")),t.push(this.monthsShort(n,""));for(s.sort(i),o.sort(i),t.sort(i),e=0;e<12;e++)s[e]=y(s[e]),o[e]=y(o[e]);for(e=0;e<24;e++)t[e]=y(t[e]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function me(e){return we(e)?366:365}o("Y",0,0,function(){var e=this.year();return e<=9999?S(e,4):"+"+e}),o(0,["YY",2],0,function(){return this.year()%100}),o(0,["YYYY",4],0,"year"),o(0,["YYYYY",5],0,"year"),o(0,["YYYYYY",6,!0],0,"year"),g("year","y"),v("year",1),s("Y",Me),s("YY",h,i),s("YYYY",W,X),s("YYYYY",$,B),s("YYYYYY",$,B),d(["YYYYY","YYYYYY"],b),d("YYYY",function(e,t){t[b]=2===e.length?n.parseTwoDigitYear(e):r(e)}),d("YY",function(e,t){t[b]=n.parseTwoDigitYear(e)}),d("Y",function(e,t){t[b]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return r(e)+(68<r(e)?1900:2e3)},pe=Z("FullYear",!0);function ln(e,t,n,s,o,i,a){var r;return e<100&&0<=e?(r=new Date(e+400,t,n,s,o,i,a),isFinite(r.getFullYear())&&r.setFullYear(e)):r=new Date(e,t,n,s,o,i,a),r}function ge(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _e(e,t,n){return n=7+t-n,n-(7+ge(e,0,n).getUTCDay()-t)%7-1}function en(e,t,n,s,o){var i,t=1+7*(t-1)+(7+n-s)%7+_e(e,s,o),n=t<=0?me(i=e-1)+t:t>me(e)?(i=e+1,t-me(e)):(i=e,t);return{year:i,dayOfYear:n}}function ye(e,t,n){var o,i,s=_e(e.year(),t,n),s=Math.floor((e.dayOfYear()-s-1)/7)+1;return s<1?o=s+H(i=e.year()-1,t,n):s>H(e.year(),t,n)?(o=s-H(e.year(),t,n),i=e.year()+1):(i=e.year(),o=s),{week:o,year:i}}function H(e,t,n){var s=_e(e,t,n),t=_e(e+1,t,n);return(me(e)-s+t)/7}o("w",["ww",2],"wo","week"),o("W",["WW",2],"Wo","isoWeek"),g("week","w"),g("isoWeek","W"),v("week",5),v("isoWeek",5),s("w",h),s("ww",h,i),s("W",h),s("WW",h,i),be(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=r(e)});function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}o("d",0,"do","day"),o("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),o("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),o("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),o("e",0,0,"weekday"),o("E",0,0,"isoWeekday"),g("day","d"),g("weekday","e"),g("isoWeekday","E"),v("day",11),v("weekday",11),v("isoWeekday",11),s("d",h),s("e",h),s("E",h),s("dd",function(e,t){return t.weekdaysMinRegex(e)}),s("ddd",function(e,t){return t.weekdaysShortRegex(e)}),s("dddd",function(e,t){return t.weekdaysRegex(e)}),be(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict),s!=null?t.d=s:a(n).invalidWeekday=e}),be(["d","e","E"],function(e,t,n,s){t[s]=r(e)});var fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cn=L,hn=L,mn=L;function Je(){function n(e,t){return t.length-e.length}for(var e,s,o,i=[],a=[],r=[],t=[],c=0;c<7;c++)e=T([2e3,1]).day(c),s=y(this.weekdaysMin(e,"")),o=y(this.weekdaysShort(e,"")),e=y(this.weekdays(e,"")),i.push(s),a.push(o),r.push(e),t.push(s),t.push(o),t.push(e);i.sort(n),a.sort(n),r.sort(n),t.sort(n),this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function et(){return this.hours()%12||12}function Pt(e,t){o(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Nt(e,t){return t._meridiemParse}o("H",["HH",2],0,"hour"),o("h",["hh",2],0,et),o("k",["kk",2],0,function(){return this.hours()||24}),o("hmm",0,0,function(){return""+et.apply(this)+S(this.minutes(),2)}),o("hmmss",0,0,function(){return""+et.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),o("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),o("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Pt("a",!0),Pt("A",!1),g("hour","h"),v("hour",13),s("a",Nt),s("A",Nt),s("H",h),s("h",h),s("k",h),s("HH",h,i),s("hh",h,i),s("kk",h,i),s("hmm",ne),s("hmmss",se),s("Hmm",ne),s("Hmmss",se),d(["H","HH"],p),d(["k","kk"],function(e,t){e=r(e),t[p]=24===e?0:e}),d(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),d(["h","hh"],function(e,t,n){t[p]=r(e),a(n).bigHour=!0}),d("hmm",function(e,t,n){var s=e.length-2;t[p]=r(e.substr(0,s)),t[x]=r(e.substr(s)),a(n).bigHour=!0}),d("hmmss",function(e,t,n){var s=e.length-4,o=e.length-2;t[p]=r(e.substr(0,s)),t[x]=r(e.substr(s,2)),t[N]=r(e.substr(o)),a(n).bigHour=!0}),d("Hmm",function(e,t){var s=e.length-2;t[p]=r(e.substr(0,s)),t[x]=r(e.substr(s))}),d("Hmmss",function(e,t){var s=e.length-4,o=e.length-2;t[p]=r(e.substr(0,s)),t[x]=r(e.substr(s,2)),t[N]=r(e.substr(o))});var L=Z("Hours",!0),ve,zt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ue,monthsShort:yt,week:{dow:0,doy:6},weekdays:fe,weekdaysMin:He,weekdaysShort:bt,meridiemParse:/[ap]\.?m?\.?/i},m={},de={};function Tt(e){return e&&e.toLowerCase().replace("_","-")}function gn(e){for(var t,n,o,i,s=0;s<e.length;){for(t=(o=Tt(e[s]).split("-")).length,n=(n=Tt(e[s+1]))?n.split("-"):null;0<t;){if(i=Ae(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var s=Math.min(e.length,t.length),n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}(o,n)>=t-1)break;t--}s++}return ve}function Ae(e){var n;if(void 0===m[e]&&"undefined"!=typeof t&&t&&t.exports&&null!=e.match("^[^/\\\\]*$"))try{n=ve._abbr,Q3("./locale/"+e),K(n)}catch{m[e]=null}return m[e]}function K(e,t){return e&&((t=j(t)?D(e):ut(e,t))?ve=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ve._abbr}function ut(e,t){if(null===t)return delete m[e],null;var s,n=zt;if(t.abbr=e,null!=m[e])Wt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=m[e]._config;else if(null!=t.parentLocale)if(null!=m[t.parentLocale])n=m[t.parentLocale]._config;else{if(null==(s=Ae(t.parentLocale)))return de[t.parentLocale]||(de[t.parentLocale]=[]),de[t.parentLocale].push({name:e,config:t}),null;n=s._config}return m[e]=new ct(rt(n,t)),de[e]&&de[e].forEach(function(e){ut(e.name,e.config)}),K(e),m[e]}function D(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return ve;if(!k(e)){if(t=Ae(e))return t;e=[e]}return gn(e)}function mt(e){var t=e._a;return t&&-2===a(e).overflow&&(t=t[z]<0||11<t[z]?z:t[A]<1||t[A]>Se(t[b],t[z])?A:t[p]<0||24<t[p]||24===t[p]&&(0!==t[x]||0!==t[N]||0!==t[q])?p:t[x]<0||59<t[x]?x:t[N]<0||59<t[N]?N:t[q]<0||999<t[q]?q:-1,a(e)._overflowDayOfYear&&(t<b||A<t)&&(t=A),a(e)._overflowWeeks&&-1===t&&(t=An),a(e)._overflowWeekday&&-1===t&&(t=En),a(e).overflow=t),e}var vn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yn=/Z|[+-]\d\d(?::?\d\d)?/,De=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,un={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,s,o,r,c,l,i=e._i,n=vn.exec(i)||bn.exec(i),i=De.length,d=gt.length;if(n){for(a(e).iso=!0,t=0,s=i;t<s;t++)if(De[t][1].exec(n[1])){r=De[t][0],c=!1!==De[t][2];break}if(r==null)e._isValid=!1;else{if(n[3]){for(t=0,s=d;t<s;t++)if(gt[t][1].exec(n[3])){o=(n[2]||" ")+gt[t][0];break}if(o==null)return void(e._isValid=!1)}if(c||o==null){if(n[4]){if(!yn.exec(n[4]))return void(e._isValid=!1);l="Z"}e._f=r+(o||"")+(l||""),ft(e)}else e._isValid=!1}}else e._isValid=!1}function rn(e,t,n,s,o,i){return e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),yt.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(o,10)],i&&e.push(parseInt(i,10)),e}function xt(e){var n,s,o,i,t=Cn.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));t?(i=rn(t[4],t[3],t[2],t[5],t[6],t[7]),n=t[1],s=i,o=e,n&&bt.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()?(a(o).weekdayMismatch=!0,o._isValid=!1):(e._a=i,e._tzm=(n=t[8],s=t[9],o=t[10],n?un[n]:s?0:60*(((n=parseInt(o,10))-(s=n%100))/100)+s),e._d=ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),a(e).rfc2822=!0)):e._isValid=!1}function ee(e,t,n){return e??t??n}function pt(e){var t,s,o,i,r,c,l,d,h,m,f,g=[];if(!e._d){for(o=e,t=new Date(n.now()),f=o._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()],e._w&&null==e._a[A]&&null==e._a[z]&&(null!=(t=(o=e)._w).GG||null!=t.W||null!=t.E?(r=1,m=4,l=ee(t.GG,o._a[b],ye(u(),1,4).year),h=ee(t.W,1),((i=ee(t.E,1))<1||7<i)&&(c=!0)):(r=o._locale._week.dow,m=o._locale._week.doy,d=ye(u(),r,m),l=ee(t.gg,o._a[b],d.year),h=ee(t.w,d.week),null!=t.d?((i=t.d)<0||6<i)&&(c=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(c=!0)):i=r),h<1||h>H(l,r,m)?a(o)._overflowWeeks=!0:c!=null?a(o)._overflowWeekday=!0:(d=en(l,h,i,r,m),o._a[b]=d.year,o._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(t=ee(e._a[b],f[b]),(e._dayOfYear>me(t)||0===e._dayOfYear)&&(a(e)._overflowDayOfYear=!0),c=ge(t,0,e._dayOfYear),e._a[z]=c.getUTCMonth(),e._a[A]=c.getUTCDate()),s=0;s<3&&null==e._a[s];++s)e._a[s]=g[s]=f[s];for(;s<7;s++)e._a[s]=g[s]=null==e._a[s]?2===s?1:0:e._a[s];24===e._a[p]&&0===e._a[x]&&0===e._a[N]&&0===e._a[q]&&(e._nextDay=!0,e._a[p]=0),e._d=(e._useUTC?ge:ln).apply(null,g),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[p]=24),e._w&&void 0!==e._w.d&&e._w.d!==l&&(a(e).weekdayMismatch=!0)}}function ft(e){if(e._f===n.ISO_8601)wt(e);else if(e._f===n.RFC_2822)xt(e);else{e._a=[],a(e).empty=!0;for(var s,o,i,r,u,t=""+e._i,c=t.length,h=0,m=Dt(e._f,e._locale).match(ht)||[],f=m.length,d=0;d<f;d++)o=m[d],(s=(t.match(Fn(o,e))||[])[0])&&(0<(i=t.substr(0,t.indexOf(s))).length&&a(e).unusedInput.push(i),t=t.slice(t.indexOf(s)+s.length),h+=s.length),ie[o]?(s?a(e).empty=!1:a(e).unusedTokens.push(o),i=o,r=e,null!=(u=s)&&l(Ve,i)&&Ve[i](u,r._a,r,i)):e._strict&&!s&&a(e).unusedTokens.push(o);a(e).charsLeftOver=c-h,0<t.length&&a(e).unusedInput.push(t),e._a[p]<=12&&!0===a(e).bigHour&&0<e._a[p]&&(a(e).bigHour=void 0),a(e).parsedDateParts=e._a.slice(0),a(e).meridiem=e._meridiem,e._a[p]=function(e,t,n){return n==null?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[p],e._meridiem),null!==(c=a(e).era)&&(e._a[b]=e._locale.erasConvertYear(c,e._a[b])),pt(e),mt(e)}}function At(e){var t,i,r,s=e._i,o=e._f;return e._locale=e._locale||D(e._l),null===s||void 0===o&&""===s?Fe({nullInput:!0}):("string"==typeof s&&(e._i=s=e._locale.preparse(s)),C(s)?new he(mt(s)):(je(s)?e._d=s:k(o)?!function(e){var t,n,s,o,i,r,c=!1,l=e._f.length;if(0===l)return a(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<l;o++)n=0,i=!1,t=st({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ft(t),lt(t)&&(i=!0),n=(n+=a(t).charsLeftOver)+10*a(t).unusedTokens.length,a(t).score=n,c?n<s&&(s=n,r=t):(s==null||n<s||i)&&(s=n,r=t,i&&(c=!0));U(e,r||t)}(e):o?ft(e):j(o=(s=e)._i)?s._d=new Date(n.now()):je(o)?s._d=new Date(o.valueOf()):"string"==typeof o?(t=s,null!==(i=Sn.exec(t._i))?t._d=new Date(+i[1]):(wt(t),!1===t._isValid&&(delete t._isValid,xt(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t))))):k(o)?(s._a=jt(o.slice(0),function(e){return parseInt(e,10)}),pt(s)):Y(o)?(i=s)._d||(r=void 0===(t=qe(i._i)).day?t.date:t.day,i._a=jt([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pt(i)):I(o)?s._d=new Date(o):n.createFromInputFallback(s),lt(e)||(e._d=null),e))}function St(e,t,n,s,o){var i={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(Y(e)&&dt(e)||k(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=s,(o=new he(mt(At(o=i))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function u(e,t,n,s){return St(e,t,n,s,!1)}n.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){},ne=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=u.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Fe()}),se=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=u.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:Fe()});function Ft(e,t){var n,s;if(!(t=1===t.length&&k(t[0])?t[0]:t).length)return u();for(s=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](s)||(s=t[n]);return s}te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ze(e){var e=qe(e),t=e.year||0,n=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,i=e.day||0,a=e.hour||0,c=e.minute||0,d=e.second||0,u=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,o=te.length;for(n in e)if(l(e,n)&&(-1===f.call(te,n)||null!=e[n]&&isNaN(e[n])))return!1;for(t=0;t<o;++t)if(e[te[t]]){if(s)return!1;parseFloat(e[te[t]])!==r(e[te[t]])&&(s=!0)}return!0}(e),this._milliseconds=+u+1e3*d+6e4*c+1e3*a*60*60,this._days=+i+7*o,this._months=+s+3*n+12*t,this._data={},this._locale=D(),this._bubble()}function Le(e){return e instanceof ze}function We(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){o(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+S(~~(e/60),2)+t+S(~~e%60,2)})}Lt("Z",":"),Lt("ZZ",""),s("Z",Ce),s("ZZ",Ce),d(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=tt(Ce,e)}),Rt=/([+-]|\d\d)/gi;function tt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Rt)||["-",0,0])[1]+r(e[2]))?0:"+"===e[0]?t:-t}function Ze(e,t){var s;return t._isUTC?(t=t.clone(),s=(C(e)||je(e)?e:u(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+s),n.updateOffset(t,!1),t):u(e).local()}function Qe(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){},Vt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function E(e,t){var o,s=e,n=null;return Le(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:I(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(n=Vt.exec(e))?(o="-"===n[1]?-1:1,s={y:0,d:r(n[A])*o,h:r(n[p])*o,m:r(n[x])*o,s:r(n[N])*o,ms:r(We(1e3*n[q]))*o}):(n=$t.exec(e))?(o="-"===n[1]?-1:1,s={y:G(n[2],o),M:G(n[3],o),w:G(n[4],o),d:G(n[5],o),h:G(n[6],o),m:G(n[7],o),s:G(n[8],o)}):s==null?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(t=function(e,t){var n;return!e.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=Ze(t,e),e.isBefore(t)?n=Kt(e,t):((n=Kt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n)}(u(s.from),u(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),n=new ze(s),Le(e)&&l(e,"_locale")&&(n._locale=e._locale),Le(e)&&l(e,"_isValid")&&(n._isValid=e._isValid),n}function G(e,t){return e=e&&parseFloat(e.replace(",",".")),(isNaN(e)?0:e)*t}function Kt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){return function(n,s){var o;return null===s||isNaN(+s)||(Wt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),Yt(this,E(n,s),e),this}}function Yt(e,t,s,o){var a=t._milliseconds,i=We(t._days),t=We(t._months);e.isValid()&&(o=o==null||o,t&&It(e,Be(e,"Month")+t*s),i&&an(e,"Date",Be(e,"Date")+i*s),a&&e._d.setTime(e._d.valueOf()+a*s),o&&n.updateOffset(e,i||t))}E.fn=ze.prototype,E.invalid=function(){return E(NaN)},ue=qt(1,"add"),fe=qt(-1,"subtract");function Gt(e){return"string"==typeof e||e instanceof String}function jn(e){return C(e)||je(e)||Gt(e)||I(e)||function(e){var t=k(e),n=!1;return t&&(n=0===e.filter(function(t){return!I(t)&&Gt(e)}).length),t&&n}(e)||function(e){var t,s,i=Y(e)&&!dt(e),n=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(t=0;t<a;t+=1)s=o[t],n=n||l(e,s);return i&&n}(e)||e==null}function Ie(e,t){if(e.date()<t.date())return-Ie(t,e);var s=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(s,"months"),t=t-n<0?(t-n)/(n-e.clone().add(s-1,"months")):(t-n)/(e.clone().add(1+s,"months")-n);return-(s+t)||0}function Zt(e){return void 0===e?this._locale._abbr:(null!=(e=D(e))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",He=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Jt(){return this._locale}nt=126227808e5;function ce(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-nt:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-nt:Date.UTC(e,t,n)}function Ye(e,t){return t.erasAbbrRegex(e)}function Ge(){for(var s=[],o=[],i=[],n=[],t=this.eras(),e=0,a=t.length;e<a;++e)o.push(y(t[e].name)),s.push(y(t[e].abbr)),i.push(y(t[e].narrow)),n.push(y(t[e].name)),n.push(y(t[e].abbr)),n.push(y(t[e].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Re(e,t){o(0,[e,e.length],0,t)}function Qt(e,t,n,s,o){var i;return e==null?ye(this,s,o).year:(i=H(e,s,o),function(e,t,n,s,o){return e=en(e,t,n,s,o),t=ge(e.year,0,e.dayOfYear),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=i<t?i:t,n,s,o))}o("N",0,0,"eraAbbr"),o("NN",0,0,"eraAbbr"),o("NNN",0,0,"eraAbbr"),o("NNNN",0,0,"eraName"),o("NNNNN",0,0,"eraNarrow"),o("y",["y",1],"yo","eraYear"),o("y",["yy",2],0,"eraYear"),o("y",["yyy",3],0,"eraYear"),o("y",["yyyy",4],0,"eraYear"),s("N",Ye),s("NN",Ye),s("NNN",Ye),s("NNNN",function(e,t){return t.erasNameRegex(e)}),s("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),d(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){s=n._locale.erasParse(e,s,n._strict),s?a(n).era=s:a(n).invalidEra=e}),s("y",re),s("yy",re),s("yyy",re),s("yyyy",re),s("yo",function(e,t){return t._eraYearOrdinalRegex||re}),d(["y","yy","yyy","yyyy"],b),d(["yo"],function(e,t,n){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[b]=n._locale.eraYearOrdinalParse(e,o):t[b]=parseInt(e,10)}),o(0,["gg",2],0,function(){return this.weekYear()%100}),o(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Re("gggg","weekYear"),Re("ggggg","weekYear"),Re("GGGG","isoWeekYear"),Re("GGGGG","isoWeekYear"),g("weekYear","gg"),g("isoWeekYear","GG"),v("weekYear",1),v("isoWeekYear",1),s("G",Me),s("g",Me),s("GG",h,i),s("gg",h,i),s("GGGG",W,X),s("gggg",W,X),s("GGGGG",$,B),s("ggggg",$,B),be(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=r(e)}),be(["gg","GG"],function(e,t,s,o){t[o]=n.parseTwoDigitYear(e)}),o("Q",0,"Qo","quarter"),g("quarter","Q"),v("quarter",7),s("Q",e),d("Q",function(e,t){t[z]=3*(r(e)-1)}),o("D",["DD",2],"Do","date"),g("date","D"),v("date",9),s("D",h),s("DD",h,i),s("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),d(["D","DD"],A),d("Do",function(e,t){t[A]=r(e.match(h)[0])}),W=Z("Date",!0),o("DDD",["DDDD",3],"DDDo","dayOfYear"),g("dayOfYear","DDD"),v("dayOfYear",4),s("DDD",oe),s("DDDD",Pe),d(["DDD","DDDD"],function(e,t,n){n._dayOfYear=r(e)}),o("m",["mm",2],0,"minute"),g("minute","m"),v("minute",14),s("m",h),s("mm",h,i),d(["m","mm"],x),X=Z("Minutes",!1),$=(o("s",["ss",2],0,"second"),g("second","s"),v("second",15),s("s",h),s("ss",h,i),d(["s","ss"],N),Z("Seconds",!1));for(o("S",0,0,function(){return~~(this.millisecond()/100)}),o(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),o(0,["SSS",3],0,"millisecond"),o(0,["SSSS",4],0,function(){return 10*this.millisecond()}),o(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),o(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),o(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),o(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),o(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),g("millisecond","ms"),v("millisecond",16),s("S",oe,e),s("SS",oe,i),s("SSS",oe,Pe),V="SSSS";V.length<=9;V+="S")s(V,re);function dn(e,t){t[q]=r(1e3*("0."+e))}for(V="S";V.length<=9;V+="S")d(V,dn);B=Z("Milliseconds",!1),o("z",0,0,"zoneAbbr"),o("zz",0,0,"zoneName"),e=he.prototype;function Ut(e){return e}e.add=ue,e.calendar=function(e,t){1===arguments.length&&(arguments[0]?jn(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var o=Y(e)&&!dt(e),t=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n=0;n<s.length;n+=1)t=t||l(e,s[n]);return o&&t}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||u(),s=Ze(e,this).startOf("day"),s=n.calendarFormat(this,s)||"sameElse",t=t&&(M(t[s])?t[s].call(this,e):t[s]);return this.format(t||this.localeData().calendar(s,this,u(e)))},e.clone=function(){return new he(this)},e.diff=function(e,t,n){var s,o,i;if(!this.isValid())return NaN;if(!(s=Ze(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=O(t)){case"year":o=Ie(this,s)/12;break;case"month":o=Ie(this,s);break;case"quarter":o=Ie(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-i)/864e5;break;case"week":o=(this-s-i)/6048e5;break;default:o=this-s}return n?o:w(o)},e.endOf=function(e){var t,s;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-ce(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-ce(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-ce(t,1e3)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this},e.format=function(e){return e=e||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat),e=Te(this,e),this.localeData().postformat(e)},e.from=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||u(e).isValid())?E({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},e.fromNow=function(e){return this.from(u(),e)},e.to=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||u(e).isValid())?E({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},e.toNow=function(e){return this.to(u(),e)},e.get=function(e){return M(this[e=O(e)])?this[e]():this},e.invalidAt=function(){return a(this).overflow},e.isAfter=function(e,t){return e=C(e)?e:u(e),!!this.isValid()&&!!e.isValid()&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},e.isBefore=function(e,t){return e=C(e)?e:u(e),!!this.isValid()&&!!e.isValid()&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},e.isBetween=function(e,t,n,s){return e=C(e)?e:u(e),t=C(t)?t:u(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},e.isSame=function(e,t){var e=C(e)?e:u(e);return!!this.isValid()&&!!e.isValid()&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},e.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},e.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},e.isValid=function(){return lt(this)},e.lang=He,e.locale=Zt,e.localeData=Jt,e.max=se,e.min=ne,e.parsingFlags=function(){return U({},a(this))},e.set=function(e,t){if("object"==typeof e)for(var s=function(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:Ue[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=qe(e)),o=s.length,n=0;n<o;n++)this[s[n].unit](e[s[n].unit]);else if(M(this[e=O(e)]))return this[e](t);return this},e.startOf=function(e){var t,s;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ce(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=ce(t,6e4);break;case"second":t=this._d.valueOf(),t-=ce(t,1e3);break}return this._d.setTime(t),n.updateOffset(this,!0),this},e.subtract=fe,e.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},e.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},e.toDate=function(){return new Date(this.valueOf())},e.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?Te(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Te(t,"Z")):Te(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(e[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},e.eraName=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].name;if(t[e].until<=n&&n<=t[e].since)return t[e].name}return""},e.eraNarrow=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].narrow;if(t[e].until<=n&&n<=t[e].since)return t[e].narrow}return""},e.eraAbbr=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].abbr;if(t[e].until<=n&&n<=t[e].since)return t[e].abbr}return""},e.eraYear=function(){for(var s,o,t=this.localeData().eras(),e=0,i=t.length;e<i;++e)if(o=t[e].since<=t[e].until?1:-1,s=this.clone().startOf("day").valueOf(),t[e].since<=s&&s<=t[e].until||t[e].until<=s&&s<=t[e].since)return(this.year()-n(t[e].since).year())*o+t[e].offset;return this.year()},e.year=pe,e.isLeapYear=function(){return we(this.year())},e.weekYear=function(e){return Qt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},e.isoWeekYear=function(e){return Qt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},e.quarter=e.quarters=function(e){return e==null?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},e.month=Xt,e.daysInMonth=function(){return Se(this.year(),this.month())},e.week=e.weeks=function(e){var t=this.localeData().week(this);return e==null?t:this.add(7*(e-t),"d")},e.isoWeek=e.isoWeeks=function(e){var t=ye(this,1,4).week;return e==null?t:this.add(7*(e-t),"d")},e.weeksInYear=function(){var e=this.localeData()._week;return H(this.year(),e.dow,e.doy)},e.weeksInWeekYear=function(){var e=this.localeData()._week;return H(this.weekYear(),e.dow,e.doy)},e.isoWeeksInYear=function(){return H(this.year(),1,4)},e.isoWeeksInISOWeekYear=function(){return H(this.isoWeekYear(),1,4)},e.date=W,e.day=e.days=function(e){if(!this.isValid())return e!=null?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},e.weekday=function(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")},e.isoWeekday=function(e){return this.isValid()?e!=null?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:e!=null?this:NaN;var t,n},e.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")},e.hour=e.hours=L,e.minute=e.minutes=X,e.second=e.seconds=$,e.millisecond=e.milliseconds=B,e.utcOffset=function(e,t,s){var o,i=this._offset||0;if(!this.isValid())return e!=null?this:NaN;if(e==null)return this._isUTC?i:Qe(this);if("string"==typeof e){if(null===(e=tt(Ce,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&t&&(o=Qe(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Yt(this,E(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},e.utc=function(e){return this.utcOffset(0,e)},e.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Qe(this),"m")),this},e.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=tt(Mn,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},e.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?u(e).utcOffset():0,(this.utcOffset()-e)%60==0)},e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},e.isLocal=function(){return!!this.isValid()&&!this._isUTC},e.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},e.isUtc=Bt,e.isUTC=Bt,e.zoneAbbr=function(){return this._isUTC?"UTC":""},e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},e.dates=_("dates accessor is deprecated. Use date instead.",W),e.months=_("months accessor is deprecated. Use month instead",Xt),e.years=_("years accessor is deprecated. Use year instead",pe),e.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return e!=null?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),e.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!j(this._isDSTShifted))return this._isDSTShifted;var t,e={};return st(e,this),(e=At(e))._a?(t=(e._isUTC?T:u)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0,s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&r(e[s])!==r(t[s]))&&o++;return o+a}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),i=ct.prototype;function Ne(e,t,n,s){var o=D(),s=T().set(s,t);return o[n](s,e)}function Ht(e,t,n){if(I(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ne(e,t,n,"month");for(var o=[],s=0;s<12;s++)o[s]=Ne(e,s,n,"month");return o}function $e(e,t,n,s){t=("boolean"==typeof e?I(t)&&(n=t,t=void 0):(t=e,e=!1,I(n=t)&&(n=t,t=void 0)),t||"");var o,r=D(),i=e?r._week.dow:0,a=[];if(n!=null)return Ne(t,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=Ne(t,(o+i)%7,s,"day");return a}i.calendar=function(e,t,n){return M(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},i.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(ht).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},i.invalidDate=function(){return this._invalidDate},i.ordinal=function(e){return this._ordinal.replace("%d",e)},i.preparse=Ut,i.postformat=Ut,i.relativeTime=function(e,t,n,s){var o=this._relativeTime[n];return M(o)?o(e,t,n,s):o.replace(/%d/i,e)},i.pastFuture=function(e,t){return M(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},i.set=function(e){var t,n;for(t in e)l(e,t)&&(M(n=e[t])?this[t]=n:this["_"+t]=n);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},i.eras=function(){for(var i,s=this._eras||D("en")._eras,o=0,a=s.length;o<a;++o){switch(typeof s[o].since){case"string":i=n(s[o].since).startOf("day"),s[o].since=i.valueOf();break}switch(typeof s[o].until){case"undefined":s[o].until=1/0;break;case"string":i=n(s[o].until).startOf("day").valueOf(),s[o].until=i.valueOf();break}}return s},i.erasParse=function(e,t,n){var s,i,a,r,c,o=this.eras();for(e=e.toUpperCase(),s=0,c=o.length;s<c;++s)if(i=o[s].name.toUpperCase(),a=o[s].abbr.toUpperCase(),r=o[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[s];break;case"NNNN":if(i===e)return o[s];break;case"NNNNN":if(r===e)return o[s];break}else if(0<=[i,a,r].indexOf(e))return o[s]},i.erasConvertYear=function(e,t){var s=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*s},i.erasAbbrRegex=function(e){return l(this,"_erasAbbrRegex")||Ge.call(this),e?this._erasAbbrRegex:this._erasRegex},i.erasNameRegex=function(e){return l(this,"_erasNameRegex")||Ge.call(this),e?this._erasNameRegex:this._erasRegex},i.erasNarrowRegex=function(e){return l(this,"_erasNarrowRegex")||Ge.call(this),e?this._erasNarrowRegex:this._erasRegex},i.months=function(e,t){return e?(k(this._months)?this._months:this._months[(this._months.isFormat||Ot).test(t)?"format":"standalone"])[e.month()]:k(this._months)?this._months:this._months.standalone},i.monthsShort=function(e,t){return e?(k(this._monthsShort)?this._monthsShort:this._monthsShort[Ot.test(t)?"format":"standalone"])[e.month()]:k(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},i.monthsParse=function(e,t,n){var s,o;if(this._monthsParseExact)return function(e,t,n){var s,o,i,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)i=T([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(s=f.call(this._shortMonthsParse,e))?s:null:-1!==(s=f.call(this._longMonthsParse,e))?s:null:"MMM"===t?-1!==(s=f.call(this._shortMonthsParse,e))||-1!==(s=f.call(this._longMonthsParse,e))?s:null:-1!==(s=f.call(this._longMonthsParse,e))||-1!==(s=f.call(this._shortMonthsParse,e))?s:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(o=T([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(o="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},i.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||on.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=_n),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},i.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||on.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=pn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},i.week=function(e){return ye(e,this._week.dow,this._week.doy).week},i.firstDayOfYear=function(){return this._week.doy},i.firstDayOfWeek=function(){return this._week.dow},i.weekdays=function(e,t){return t=k(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ke(t,this._week.dow):e?t[e.day()]:t},i.weekdaysMin=function(e){return!0===e?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},i.weekdaysShort=function(e){return!0===e?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},i.weekdaysParse=function(e,t,n){var s,o;if(this._weekdaysParseExact)return function(e,t,n){var s,o,i,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)i=T([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(s=f.call(this._weekdaysParse,e))?s:null:"ddd"===t?-1!==(s=f.call(this._shortWeekdaysParse,e))?s:null:-1!==(s=f.call(this._minWeekdaysParse,e))?s:null:"dddd"===t?-1!==(s=f.call(this._weekdaysParse,e))||-1!==(s=f.call(this._shortWeekdaysParse,e))||-1!==(s=f.call(this._minWeekdaysParse,e))?s:null:"ddd"===t?-1!==(s=f.call(this._shortWeekdaysParse,e))||-1!==(s=f.call(this._weekdaysParse,e))||-1!==(s=f.call(this._minWeekdaysParse,e))?s:null:-1!==(s=f.call(this._minWeekdaysParse,e))||-1!==(s=f.call(this._weekdaysParse,e))||-1!==(s=f.call(this._shortWeekdaysParse,e))?s:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(o=T([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},i.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=cn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},i.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},i.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},i.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},i.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},K("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===r(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",K),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",D),F=Math.abs;function Mt(e,t,n,s){return t=E(t,n),e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function kt(e){return e<0?Math.floor(e):Math.ceil(e)}function Et(e){return 4800*e/146097}function it(e){return 146097*e/4800}function R(e){return function(){return this.as(e)}}oe=R("ms"),Pe=R("s"),ue=R("m"),se=R("h"),ne=R("d"),fe=R("w"),L=R("M"),X=R("Q"),$=R("y");function Q(e){return function(){return this.isValid()?this._data[e]:NaN}}var B=Q("milliseconds"),W=Q("seconds"),pe=Q("minutes"),i=Q("hours"),wn=Q("days"),On=Q("months"),xn=Q("years"),P=Math.round,J={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kn(e,t,n,s){var i=E(e).abs(),o=P(i.as("s")),a=P(i.as("m")),r=P(i.as("h")),c=P(i.as("d")),l=P(i.as("M")),d=P(i.as("w")),i=P(i.as("y")),o=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||a<=1&&["m"]||a<n.m&&["mm",a]||r<=1&&["h"]||r<n.h&&["hh",r]||c<=1&&["d"]||c<n.d&&["dd",c];return(o=(o=null!=n.w?o||d<=1&&["w"]||d<n.w&&["ww",d]:o)||l<=1&&["M"]||l<n.M&&["MM",l]||i<=1&&["y"]||["yy",i])[2]=t,o[3]=0<+e,o[4]=s,function(e,t,n,s,o){return o.relativeTime(t||1,!!n,e,s)}.apply(null,o)}ke=Math.abs;function ae(e){return(0<e)-(e<0)||+e}function Ee(){if(!this.isValid())return this.localeData().invalidDate();var e,s,o,a,r,c,l,t=ke(this._milliseconds)/1e3,d=ke(this._days),i=ke(this._months),n=this.asSeconds();return n?(e=w(t/60),s=w(e/60),t%=60,e%=60,a=w(i/12),i%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",r=ae(this._months)!==ae(n)?"-":"",l=ae(this._days)!==ae(n)?"-":"",o=ae(this._milliseconds)!==ae(n)?"-":"",(n<0?"-":"")+"P"+(a?r+a+"Y":"")+(i?r+i+"M":"")+(d?l+d+"D":"")+(s||e||t?"T":"")+(s?o+s+"H":"")+(e?o+e+"M":"")+(t?o+c+"S":"")):"P0D"}return c=ze.prototype,c.isValid=function(){return this._isValid},c.abs=function(){var e=this._data;return this._milliseconds=F(this._milliseconds),this._days=F(this._days),this._months=F(this._months),e.milliseconds=F(e.milliseconds),e.seconds=F(e.seconds),e.minutes=F(e.minutes),e.hours=F(e.hours),e.months=F(e.months),e.years=F(e.years),this},c.add=function(e,t){return Mt(this,e,t,1)},c.subtract=function(e,t){return Mt(this,e,t,-1)},c.as=function(e){if(!this.isValid())return NaN;var t,s,n=this._milliseconds;if("month"===(e=O(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,s=this._months+Et(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(it(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},c.asMilliseconds=oe,c.asSeconds=Pe,c.asMinutes=ue,c.asHours=se,c.asDays=ne,c.asWeeks=fe,c.asMonths=L,c.asQuarters=X,c.asYears=$,c.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12):NaN},c._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*kt(it(n)+t),n=t=0),s.milliseconds=e%1e3,e=w(e/1e3),s.seconds=e%60,e=w(e/60),s.minutes=e%60,e=w(e/60),s.hours=e%24,t+=w(e/24),n+=e=w(Et(t)),t-=kt(it(e)),e=w(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},c.clone=function(){return E(this)},c.get=function(e){return e=O(e),this.isValid()?this[e+"s"]():NaN},c.milliseconds=B,c.seconds=W,c.minutes=pe,c.hours=i,c.days=wn,c.weeks=function(){return w(this.days()/7)},c.months=On,c.years=xn,c.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=J;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},J,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),e=this.localeData(),t=kn(this,!n,s,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},c.toISOString=Ee,c.toString=Ee,c.toJSON=Ee,c.locale=Zt,c.localeData=Jt,c.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ee),c.lang=He,o("X",0,0,"unix"),o("x",0,0,"valueOf"),s("x",Me),s("X",/[+-]?\d+(\.\d{1,3})?/),d("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),d("x",function(e,t,n){n._d=new Date(r(e))}),n.version="2.29.4",tn=u,n.fn=e,n.min=function(){return Ft("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ft("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=T,n.unix=function(e){return u(1e3*e)},n.months=function(e,t){return Ht(e,t,"months")},n.isDate=je,n.locale=K,n.invalid=Fe,n.duration=E,n.isMoment=C,n.weekdays=function(e,t,n){return $e(e,t,n,"weekdays")},n.parseZone=function(){return u.apply(null,arguments).parseZone()},n.localeData=D,n.isDuration=Le,n.monthsShort=function(e,t){return Ht(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return $e(e,t,n,"weekdaysMin")},n.defineLocale=ut,n.updateLocale=function(e,t){var n,s;return t!=null?(n=zt,null!=m[e]&&null!=m[e].parentLocale?m[e].set(rt(m[e]._config,t)):(t=rt(n=null!=(s=Ae(e))?s._config:n,t),s==null&&(t.abbr=e),(n=new ct(t)).parentLocale=m[e],m[e]=n),K(e)):null!=m[e]&&(null!=m[e].parentLocale?(m[e]=m[e].parentLocale,e===K()&&K(e)):null!=m[e]&&delete m[e]),m[e]},n.locales=function(){return Ct(m)},n.weekdaysShort=function(e,t,n){return $e(e,t,n,"weekdaysShort")},n.normalizeUnits=O,n.relativeTimeRounding=function(e){return void 0===e?P:"function"==typeof e&&(P=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==J[e]&&(void 0===t?J[e]:(J[e]=t,"s"===e&&(J.ss=t-1),!0))},n.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},n.prototype=e,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}}),$h=Wa({"node_modules/@braintree/sanitize-url/dist/index.js"(e){"use strict",Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,s=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,i=/^.+(:|&colon;)/gim,a=[".","/"];function r(e){return a.indexOf(e[0])>-1}function c(e){return e.replace(n,function(e,t){return String.fromCharCode(t)})}function l(e){var a,l,n=c(e||"").replace(s,"").replace(o,"").trim();return n?r(n)?n:(a=n.match(i),a?(l=a[0],t.test(l)?"about:blank":n):n):"about:blank"}e.sanitizeUrl=l}}),Uh=Wa({"node_modules/dompurify/dist/purify.js"(e,t){(function(n,s){typeof e=="object"&&typeof t!="undefined"?t.exports=s():typeof define=="function"&&define.amd?define(s):(n=typeof globalThis!="undefined"?globalThis:n||self,n.DOMPurify=s())})(e,function(){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function x(e,t){return x=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},x(e,t)}function se(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(){return se()?y=Reflect.construct:y=function(t,n,s){var i,a,o=[null];return o.push.apply(o,n),a=Function.bind.apply(t,o),i=new a,s&&x(i,s.prototype),i},y.apply(null,arguments)}function i(e){return ie(e)||ae(e)||Q(e)||Z()}function ie(e){if(Array.isArray(e))return k(e)}function ae(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q(e,t){if(!e)return;if(typeof e=="string")return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}function k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,o,l,d,u,h,m,f,p,g,v,_,O,C,E,A,S,M,F,z,D,N,R,P,I,B,V,$,W,U,K,q,Y,G,X=Object.hasOwnProperty,H=Object.setPrototypeOf,ee=Object.isFrozen,ne=Object.getPrototypeOf,J=Object.getOwnPropertyDescriptor,n=Object.freeze,a=Object.seal,te=Object.create,L=typeof Reflect!="undefined"&&Reflect,j=L.apply,w=L.construct;j||(j=function(t,n,s){return t.apply(n,s)}),n||(n=function(t){return t}),a||(a=function(t){return t}),w||(w=function(t,n){return y(t,i(n))}),K=s(Array.prototype.forEach),O=s(Array.prototype.pop),l=s(Array.prototype.push),u=s(String.prototype.toLowerCase),m=s(String.prototype.toString),W=s(String.prototype.match),o=s(String.prototype.replace),$=s(String.prototype.indexOf),D=s(String.prototype.trim),t=s(RegExp.prototype.test),h=oe(TypeError);function s(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return j(e,t,o)}}function oe(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return w(e,s)}}function e(e,t,n){n=n||u,H&&H(e,null);for(var s,o,i=t.length;i--;)s=t[i],typeof s=="string"&&(o=n(s),o!==s&&(ee(t)||(t[i]=o),s=o)),e[s]=!0;return e}function c(e){var t,n=te(null);for(t in e)j(X,e,[t])&&(n[t]=e[t]);return n}function b(e,t){for(;e!==null;){var n=J(e,t);if(n){if(n.get)return s(n.get);if(typeof n.value=="function")return s(n.value)}e=ne(e)}function o(e){return console.warn("fallback value for",e),null}return o}_=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),v=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),g=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),p=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),A=n(["#text"]),E=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),f=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),d=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),S=a(/<%[\w\W]*|[\w\W]*%>/gm),G=a(/\${[\w\W]*}/gm),M=a(/^data-[-\w.\u00B7-\uFFFF]/),q=a(/^aria-[-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),P=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),R=a(/^html$/i),N=function(){return typeof window=="undefined"?null:window},z=function(t,n){if(r(t)!=="object"||typeof t.createPolicy!="function")return null;var o,s=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(s=n.currentScript.getAttribute(i)),o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function T(){if(a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N(),s=function(t){return T(t)},s.version="2.4.1",s.removed=[],!a||!a.document||a.document.nodeType!==9)return s.isSupported=!1,s;var s,a,y,k,L,H,Z,xe=a.document,Q=a.document,lt=a.DocumentFragment,Ft=a.HTMLTemplateElement,Fe=a.Node,Ke=a.Element,Be=a.NodeFilter,Ue=a.NamedNodeMap,Mt=Ue===void 0?a.NamedNodeMap||a.MozNamedAttrMap:Ue,St=a.HTMLFormElement,At=a.DOMParser,be=a.trustedTypes,le,fe,We,je,ze,_e,Qe,ne,Ae,Ne,Pe,Ve,at,de=Ke.prototype,kt=b(de,"cloneNode"),Et=b(de,"nextSibling"),Ct=b(de,"childNodes"),Ee=b(de,"parentNode");typeof Ft=="function"&&(le=Q.createElement("template"),le.content&&le.content.ownerDocument&&(Q=le.content.ownerDocument));var F=z(be,xe),st=F?F.createHTML(""):"",pe=Q,Ce=pe.implementation,xt=pe.createNodeIterator,ht=pe.createDocumentFragment,Ot=pe.getElementsByTagName,wt=xe.importNode,ut={};try{ut=c(Q).documentMode?Q.documentMode:{}}catch{}k={},s.isSupported=typeof Ee=="function"&&Ce&&typeof Ce.createHTMLDocument!="undefined"&&ut!==9;var Ie=Y,He=S,De=G,_t=M,yt=q,jt=B,et=P,Oe=U,w=null,it=e({},[].concat(i(_),i(v),i(g),i(p),i(A))),x=null,ot=e({},[].concat(i(E),i(f),i(C),i(d))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,Me=null,Ze=!0,Te=!0,Je=!1,ee=!1,J=!1,Le=!1,Re=!1,te=!1,ve=!1,ge=!1,qe=!0,tt=!1,bt="user-content-",$e=!0,ce=!1,se={},oe=null,Ye=e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Xe=e({},["audio","video","img","source","image","track"]),ye=null,nt=e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",X="http://www.w3.org/1999/xhtml",ie=X,Se=!1,ke=null,vt=e({},[me,he,X],m),pt=["application/xhtml+xml","text/html"],ft="text/html",ae=null,mt=Q.createElement("form"),dt=function(t){return t instanceof RegExp||t instanceof Function},we=function(s){if(ae&&ae===s)return;(!s||r(s)!=="object")&&(s={}),s=c(s),Z=pt.indexOf(s.PARSER_MEDIA_TYPE)===-1?Z=ft:Z=s.PARSER_MEDIA_TYPE,y=Z==="application/xhtml+xml"?m:u,w="ALLOWED_TAGS"in s?e({},s.ALLOWED_TAGS,y):it,x="ALLOWED_ATTR"in s?e({},s.ALLOWED_ATTR,y):ot,ke="ALLOWED_NAMESPACES"in s?e({},s.ALLOWED_NAMESPACES,m):vt,ye="ADD_URI_SAFE_ATTR"in s?e(c(nt),s.ADD_URI_SAFE_ATTR,y):nt,Ge="ADD_DATA_URI_TAGS"in s?e(c(Xe),s.ADD_DATA_URI_TAGS,y):Xe,oe="FORBID_CONTENTS"in s?e({},s.FORBID_CONTENTS,y):Ye,re="FORBID_TAGS"in s?e({},s.FORBID_TAGS,y):{},Me="FORBID_ATTR"in s?e({},s.FORBID_ATTR,y):{},se="USE_PROFILES"in s&&s.USE_PROFILES,Ze=s.ALLOW_ARIA_ATTR!==!1,Te=s.ALLOW_DATA_ATTR!==!1,Je=s.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=s.SAFE_FOR_TEMPLATES||!1,J=s.WHOLE_DOCUMENT||!1,te=s.RETURN_DOM||!1,ve=s.RETURN_DOM_FRAGMENT||!1,ge=s.RETURN_TRUSTED_TYPE||!1,Re=s.FORCE_BODY||!1,qe=s.SANITIZE_DOM!==!1,tt=s.SANITIZE_NAMED_PROPS||!1,$e=s.KEEP_CONTENT!==!1,ce=s.IN_PLACE||!1,Oe=s.ALLOWED_URI_REGEXP||Oe,ie=s.NAMESPACE||X,s.CUSTOM_ELEMENT_HANDLING&&dt(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&dt(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Te=!1),ve&&(te=!0),se&&(w=e({},i(A)),x=[],se.html===!0&&(e(w,_),e(x,E)),se.svg===!0&&(e(w,v),e(x,f),e(x,d)),se.svgFilters===!0&&(e(w,g),e(x,f),e(x,d)),se.mathMl===!0&&(e(w,p),e(x,C),e(x,d))),s.ADD_TAGS&&(w===it&&(w=c(w)),e(w,s.ADD_TAGS,y)),s.ADD_ATTR&&(x===ot&&(x=c(x)),e(x,s.ADD_ATTR,y)),s.ADD_URI_SAFE_ATTR&&e(ye,s.ADD_URI_SAFE_ATTR,y),s.FORBID_CONTENTS&&(oe===Ye&&(oe=c(oe)),e(oe,s.FORBID_CONTENTS,y)),$e&&(w["#text"]=!0),J&&e(w,["html","head","body"]),w.table&&(e(w,["tbody"]),delete re.tbody),n&&n(s),ae=s},ct=e({},["mi","mo","mn","ms","mtext"]),rt=e({},["foreignobject","desc","title","annotation-xml"]),gt=e({},["title","style","font","a","script"]),ue=e({},v);return e(ue,g),e(ue,I),fe=e({},p),e(fe,V),We=function(t){var s,o,n=Ee(t);return(!n||!n.tagName)&&(n={namespaceURI:ie,tagName:"template"}),s=u(t.tagName),o=u(n.tagName),!!ke[t.namespaceURI]&&(t.namespaceURI===he?n.namespaceURI===X?s==="svg":n.namespaceURI===me?s==="svg"&&(o==="annotation-xml"||ct[o]):Boolean(ue[s]):t.namespaceURI===me?n.namespaceURI===X?s==="math":n.namespaceURI===he?s==="math"&&rt[o]:Boolean(fe[s]):t.namespaceURI===X?!(n.namespaceURI===he&&!rt[o])&&!(n.namespaceURI===me&&!ct[o])&&!fe[s]&&(gt[s]||!ue[s]):!!(Z==="application/xhtml+xml"&&ke[t.namespaceURI]))},L=function(t){l(s.removed,{element:t});try{t.parentNode.removeChild(t)}catch{try{t.outerHTML=st}catch{t.remove()}}},je=function(t,n){try{l(s.removed,{attribute:n.getAttributeNode(t),from:n})}catch{l(s.removed,{attribute:null,from:n})}if(n.removeAttribute(t),t==="is"&&!x[t])if(te||ve)try{L(n)}catch{}else try{n.setAttribute(t,"")}catch{}},ze=function(t){if(Re)t="<remove></remove>"+t;else{var n,s,o,i,a=W(t,/^[\r\n\t ]+/);o=a&&a[0]}if(Z==="application/xhtml+xml"&&ie===X&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"),i=F?F.createHTML(t):t,ie===X)try{n=(new At).parseFromString(i,Z)}catch{}if(!n||!n.documentElement){n=Ce.createDocument(ie,"template",null);try{n.documentElement.innerHTML=Se?"":i}catch{}}return s=n.body||n.documentElement,t&&o&&s.insertBefore(Q.createTextNode(o),s.childNodes[0]||null),ie===X?Ot.call(n,J?"html":"body")[0]:J?n.documentElement:s},_e=function(t){return xt.call(t.ownerDocument||t,t,Be.SHOW_ELEMENT|Be.SHOW_COMMENT|Be.SHOW_TEXT,null,!1)},Qe=function(t){return t instanceof St&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof Mt)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},ne=function(t){return r(Fe)==="object"?t instanceof Fe:t&&r(t)==="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},H=function(t,n,o){if(!k[t])return;K(k[t],function(e){e.call(s,n,o,ae)})},Ae=function(n){if(H("beforeSanitizeElements",n,null),Qe(n))return L(n),!0;if(t(/[\u0080-\uFFFF]/,n.nodeName))return L(n),!0;var a,r,c,d,u,i=y(n.nodeName);if(H("uponSanitizeElement",n,{tagName:i,allowedTags:w}),n.hasChildNodes()&&!ne(n.firstElementChild)&&(!ne(n.content)||!ne(n.content.firstElementChild))&&t(/<[/\w]/g,n.innerHTML)&&t(/<[/\w]/g,n.textContent))return L(n),!0;if(i==="select"&&t(/<template/i,n.innerHTML))return L(n),!0;if(!w[i]||re[i]){if(!re[i]&&Pe(i)){if(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,i))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(i))return!1}if($e&&!oe[i]&&(d=Ee(n)||n.parentNode,r=Ct(n)||n.childNodes,r&&d)){u=r.length;for(c=u-1;c>=0;--c)d.insertBefore(kt(r[c],!0),Et(n))}return L(n),!0}return n instanceof Ke&&!We(n)?(L(n),!0):(i==="noscript"||i==="noembed")&&t(/<\/no(script|embed)/i,n.innerHTML)?(L(n),!0):(ee&&n.nodeType===3&&(a=n.textContent,a=o(a,Ie," "),a=o(a,He," "),a=o(a,De," "),n.textContent!==a&&(l(s.removed,{element:n.cloneNode()}),n.textContent=a)),H("afterSanitizeElements",n,null),!1)},Ne=function(n,s,i){if(qe&&(s==="id"||s==="name")&&(i in Q||i in mt))return!1;if(Te&&!Me[s]&&t(_t,s));else if(Ze&&t(yt,s));else if(!x[s]||Me[s])if(Pe(n)&&(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))&&(j.attributeNameCheck instanceof RegExp&&t(j.attributeNameCheck,s)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(s))||s==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,i)||j.tagNameCheck instanceof Function&&j.tagNameCheck(i)));else return!1;else if(ye[s]);else if(t(Oe,o(i,et,"")));else if((s==="src"||s==="xlink:href"||s==="href")&&n!=="script"&&$(i,"data:")===0&&Ge[n]);else if(Je&&!t(jt,o(i,et,"")));else if(i)return!1;return!0},Pe=function(t){return t.indexOf("-")>0},Ve=function(n){if(H("beforeSanitizeAttributes",n,null),u=n.attributes,!u)return;for(a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:x},h=u.length;h--;){d=u[h];var i,a,l,d,u,h,f,p=d,c=p.name,m=p.namespaceURI;if(i=c==="value"?d.value:D(d.value),l=y(c),a.attrName=l,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,H("uponSanitizeAttribute",n,a),i=a.attrValue,a.forceKeepAttr)continue;if(je(c,n),!a.keepAttr)continue;if(t(/\/>/i,i)){je(c,n);continue}if(ee&&(i=o(i,Ie," "),i=o(i,He," "),i=o(i,De," ")),f=y(n.nodeName),!Ne(f,l,i))continue;if(tt&&(l==="id"||l==="name")&&(je(c,n),i=bt+i),F&&r(be)==="object"&&typeof be.getAttributeType=="function")if(m);else switch(be.getAttributeType(f,l)){case"TrustedHTML":i=F.createHTML(i);break;case"TrustedScriptURL":i=F.createScriptURL(i);break}try{m?n.setAttributeNS(m,c,i):n.setAttribute(c,i),O(s.removed)}catch{}}H("afterSanitizeAttributes",n,null)},at=function e(t){var n,s=_e(t);for(H("beforeSanitizeShadowDOM",t,null);n=s.nextNode();){if(H("uponSanitizeShadowNode",n,null),Ae(n))continue;n.content instanceof lt&&e(n.content),Ve(n)}H("afterSanitizeShadowDOM",t,null)},s.sanitize=function(e){var n,i,c,l,d,u,m,f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Se=!e,Se&&(e="<!-->"),typeof e!="string"&&!ne(e)){if(typeof e.toString!="function")throw h("toString is not a function");if(e=e.toString(),typeof e!="string")throw h("dirty is not a string, aborting")}if(!s.isSupported){if(r(a.toStaticHTML)==="object"||typeof a.toStaticHTML=="function"){if(typeof e=="string")return a.toStaticHTML(e);if(ne(e))return a.toStaticHTML(e.outerHTML)}return e}if(Le||we(p),s.removed=[],typeof e=="string"&&(ce=!1),ce){if(e.nodeName&&(m=y(e.nodeName),!w[m]||re[m]))throw h("root node is forbidden and cannot be sanitized in-place")}else if(e instanceof Fe)n=ze("<!---->"),l=n.ownerDocument.importNode(e,!0),l.nodeType===1&&l.nodeName==="BODY"?n=l:l.nodeName==="HTML"?n=l:n.appendChild(l);else{if(!te&&!ee&&!J&&e.indexOf("<")===-1)return F&&ge?F.createHTML(e):e;if(n=ze(e),!n)return te?null:ge?st:""}for(n&&Re&&L(n.firstChild),f=_e(ce?e:n);c=f.nextNode();){if(c.nodeType===3&&c===u)continue;if(Ae(c))continue;c.content instanceof lt&&at(c.content),Ve(c),u=c}if(u=null,ce)return e;if(te){if(ve)for(d=ht.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return x.shadowroot&&(d=wt.call(xe,d,!0)),d}return i=J?n.outerHTML:n.innerHTML,J&&w["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&t(R,n.ownerDocument.doctype.name)&&(i="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+i),ee&&(i=o(i,Ie," "),i=o(i,He," "),i=o(i,De," ")),F&&ge?F.createHTML(i):i},s.setConfig=function(e){we(e),Le=!0},s.clearConfig=function(){ae=null,Le=!1},s.isValidAttribute=function(e,t,n){ae||we({});var s=y(e),o=y(t);return Ne(s,o,n)},s.addHook=function(e,t){if(typeof t!="function")return;k[e]=k[e]||[],l(k[e],t)},s.removeHook=function(e){if(k[e])return O(k[e])},s.removeHooks=function(e){k[e]&&(k[e]=[])},s.removeAllHooks=function(){k={}},s}return F=T(),F})}}),De=Ua(Th(),1),Ht=Ua($h(),1);function Ya(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d3(e){let t,n,s;e.length!==2?(t=Ya,n=(t,n)=>Ya(e(t),n),s=(t,n)=>e(t)-n):(t=e===Ya||e===LV?e:NV,n=e,s=e);function o(e,s,o=0,i=e.length){if(o<i){if(t(s,s)!==0)return i;do{const t=o+i>>>1;n(e[t],s)<0?o=t+1:i=t}while(o<i)}return o}function i(e,s,o=0,i=e.length){if(o<i){if(t(s,s)!==0)return i;do{const t=o+i>>>1;n(e[t],s)<=0?o=t+1:i=t}while(o<i)}return o}function a(e,t,n=0,i=e.length){const a=o(e,t,n,i-1);return a>n&&s(e[a-1],t)>-s(e[a],t)?a-1:a}return{left:o,center:a,right:i}}function NV(){return 0}function MV(e){return e===null?NaN:+e}a3=d3(Ya),cm=a3.right,EV=a3.left,CV=d3(MV).center,um=cm,J2=class extends Map{constructor(e,t=jV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(fm(this,e))}has(e){return super.has(fm(this,e))}set(e,t){return super.set(wV(this,e),t)}delete(e){return super.delete(yV(this,e))}};function fm({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function wV({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function yV({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function jV(e){return e!==null&&typeof e=="object"?e.valueOf():e}_m=Math.sqrt(50),wm=Math.sqrt(10),Cm=Math.sqrt(2);function jr(e,t,n){const c=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(c)),r=c/Math.pow(10,a),l=r>=_m?10:r>=wm?5:r>=Cm?2:1;let o,i,s;return a<0?(s=Math.pow(10,-a)/l,o=Math.round(e*s),i=Math.round(t*s),o/s<e&&++o,i/s>t&&--i,s=-s):(s=Math.pow(10,a)*l,o=Math.round(e/s),i=Math.round(t/s),o*s<e&&++o,i*s>t&&--i),i<o&&.5<=n&&n<2?jr(e,t,n*2):[o,i,s]}function rV(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const c=t<e,[a,r,s]=c?jr(t,e,n):jr(e,t,n);if(!(r>=a))return[];const o=r-a+1,i=new Array(o);if(c)if(s<0)for(let e=0;e<o;++e)i[e]=(r-e)/-s;else for(let e=0;e<o;++e)i[e]=(r-e)*s;else if(s<0)for(let e=0;e<o;++e)i[e]=(a+e)/-s;else for(let e=0;e<o;++e)i[e]=(a+e)*s;return i}function u2(e,t,n){return t=+t,e=+e,n=+n,jr(e,t,n)[2]}function d2(e,t,n){t=+t,e=+e,n=+n;const o=t<e,s=o?u2(t,e,n):u2(e,t,n);return(o?-1:1)*(s<0?1/-s:s)}function aV(e,t){let n;if(t===void 0)for(const t of e)t!=null&&(n<t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function oV(e,t){let n;if(t===void 0)for(const t of e)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function sV(e){return e}ea=1,wr=2,Or=3,Ji=4,M0=1e-6;function nV(e){return"translate("+e+",0)"}function tV(e){return"translate(0,"+e+")"}function ZB(e){return t=>+e(t)}function QB(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function XB(){return!this.__axis}function Pm(e,t){var r=[],c=null,l=null,a=6,o=6,u=3,s=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,i=e===ea||e===Ji?-1:1,d=e===Ji||e===wr?"x":"y",h=e===ea||e===Or?nV:tV;function n(n){var C=c??(t.ticks?t.ticks.apply(t,r):t.domain()),E=l??(t.tickFormat?t.tickFormat.apply(t,r):sV),x=Math.max(a,0)+u,w=t.range(),y=+w[0]+s,j=+w[w.length-1]+s,b=(t.bandwidth?QB:ZB)(t.copy(),s),p=n.selection?n.selection():n,f=p.selectAll(".domain").data([null]),m=p.selectAll(".tick").data(C,t).order(),O=m.exit(),_=m.enter().append("g").attr("class","tick"),v=m.select("line"),g=m.select("text"),f=f.merge(f.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(_),v=v.merge(_.append("line").attr("stroke","currentColor").attr(d+"2",i*a)),g=g.merge(_.append("text").attr("fill","currentColor").attr(d,i*x).attr("dy",e===ea?"0em":e===Or?"0.71em":"0.32em"));n!==p&&(f=f.transition(n),m=m.transition(n),v=v.transition(n),g=g.transition(n),O=O.transition(n).attr("opacity",M0).attr("transform",function(e){return isFinite(e=b(e))?h(e+s):this.getAttribute("transform")}),_.attr("opacity",M0).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:b(e))+s)})),O.remove(),f.attr("d",e===Ji||e===wr?o?"M"+i*o+","+y+"H"+s+"V"+j+"H"+i*o:"M"+s+","+y+"V"+j:o?"M"+y+","+i*o+"V"+s+"H"+j+"V"+i*o:"M"+y+","+s+"H"+j),m.attr("opacity",1).attr("transform",function(e){return h(b(e)+s)}),v.attr(d+"2",i*a),g.attr(d,i*x).text(E),p.filter(XB).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===wr?"start":e===Ji?"end":"middle"),p.each(function(){this.__axis=b})}return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return r=Array.from(arguments),n},n.tickArguments=function(e){return arguments.length?(r=e==null?[]:Array.from(e),n):r.slice()},n.tickValues=function(e){return arguments.length?(c=e==null?null:Array.from(e),n):c&&c.slice()},n.tickFormat=function(e){return arguments.length?(l=e,n):l},n.tickSize=function(e){return arguments.length?(a=o=+e,n):a},n.tickSizeInner=function(e){return arguments.length?(a=+e,n):a},n.tickSizeOuter=function(e){return arguments.length?(o=+e,n):o},n.tickPadding=function(e){return arguments.length?(u=+e,n):u},n.offset=function(e){return arguments.length?(s=+e,n):s},n}function YB(e){return Pm(ea,e)}function qB(e){return Pm(Or,e)}Xm={value:()=>{}};function a8(){for(var e,t=0,s=arguments.length,n={};t<s;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new Wr(n)}function Wr(e){this._=e}function BB(e,t){return e.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");if(n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:s}})}Wr.prototype=a8.prototype={constructor:Wr,on:function(e,t){var n,s=this._,i=BB(e+"",s),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=IB(s[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)s[n]=d8(s[n],e.name,t);else if(t==null)for(n in s)s[n]=d8(s[n],e.name,null);return this},copy:function(){var n,e={},t=this._;for(n in t)e[n]=t[n].slice();return new Wr(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var s,o,i=new Array(s),n=0;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,s=o.length;n<s;++n)o[n].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(t,n)}};function IB(e,t){for(var s,n=0,o=e.length;n<o;++n)if((s=e[n]).name===t)return s.value}function d8(e,t,n){for(var s=0,o=e.length;s<o;++s)if(e[s].name===t){e[s]=Xm,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}f8=a8,Xr="http://www.w3.org/1999/xhtml",X4={svg:"http://www.w3.org/2000/svg",xhtml:Xr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),X4.hasOwnProperty(t)?{space:X4[t],local:e}:e}function LB(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xr&&t.documentElement.namespaceURI===Xr?t.createElement(e):t.createElementNS(n,e)}}function DB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function j8(e){var t=Zr(e);return(t.local?DB:LB)(t)}function MB(){}function B4(e){return e==null?MB:function(){return this.querySelector(e)}}function SB(e){typeof e!="function"&&(e=B4(e));for(var a=this._groups,r=a.length,c=new Array(r),s=0;s<r;++s)for(var t,i,o=a[s],l=o.length,d=c[s]=new Array(l),n=0;n<l;++n)(t=o[n])&&(i=e.call(t,t.__data__,n,o))&&("__data__"in t&&(i.__data__=t.__data__),d[n]=i);return new ae(c,this._parents)}function T8(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wB(){return[]}function L8(e){return e==null?wB:function(){return this.querySelectorAll(e)}}function jB(e){return function(){return T8(e.apply(this,arguments))}}function bB(e){typeof e=="function"?e=jB(e):e=L8(e);for(var i=this._groups,c=i.length,a=[],r=[],s=0;s<c;++s)for(var t,o=i[s],l=o.length,n=0;n<l;++n)(t=o[n])&&(a.push(e.call(t,t.__data__,n,o)),r.push(t));return new ae(a,r)}function Y8(e){return function(){return this.matches(e)}}function Af(e){return function(t){return t.matches(e)}}Sf=Array.prototype.find;function iB(e){return function(){return Sf.call(this.children,e)}}function oB(){return this.firstElementChild}function tB(e){return this.select(e==null?oB:iB(typeof e=="function"?e:Af(e)))}If=Array.prototype.filter;function XI(){return Array.from(this.children)}function GI(e){return function(){return If.call(this.children,e)}}function UI(e){return this.selectAll(e==null?XI:GI(typeof e=="function"?e:Af(e)))}function WI(e){typeof e!="function"&&(e=Y8(e));for(var i=this._groups,a=i.length,r=new Array(a),t=0;t<a;++t)for(var n,o=i[t],c=o.length,l=r[t]=[],s=0;s<c;++s)(n=o[s])&&e.call(n,n.__data__,s,o)&&l.push(n);return new ae(r,this._parents)}function b6(e){return new Array(e.length)}function VI(){return new ae(this._enter||this._groups.map(b6),this._parents)}function bc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bc.prototype={constructor:bc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function BI(e){return function(){return e}}function II(e,t,n,s,o,i){for(var r,a=0,c=t.length,l=i.length;a<l;++a)(r=t[a])?(r.__data__=i[a],s[a]=r):n[a]=new bc(e,i[a]);for(;a<c;++a)(r=t[a])&&(o[a]=r)}function HI(e,t,n,s,o,i,a){var r,c,l,d=new Map,u=t.length,m=i.length,h=new Array(u);for(r=0;r<u;++r)(c=t[r])&&(h[r]=l=a.call(c,c.__data__,r,t)+"",d.has(l)?o[r]=c:d.set(l,c));for(r=0;r<m;++r)l=a.call(e,i[r],r,i)+"",(c=d.get(l))?(s[r]=c,c.__data__=i[r],d.delete(l)):n[r]=new bc(e,i[r]);for(r=0;r<u;++r)(c=t[r])&&d.get(h[r])===c&&(o[r]=c)}function PI(e){return e.__data__}function LI(e,t){if(!arguments.length)return Array.from(this,PI);var _=t?HI:II,l=this._parents,h=this._groups;typeof e!="function"&&(e=BI(e));for(var r=h.length,s=new Array(r),d=new Array(r),u=new Array(r),n=0;n<r;++n){var o,i,f,b,a=l[n],m=h[n],j=m.length,p=DI(e.call(a,a&&a.__data__,n,l)),c=p.length,g=d[n]=new Array(c),v=s[n]=new Array(c),y=u[n]=new Array(j);_(a,m,g,v,y,p,t);for(o=0,i=0;o<c;++o)if(b=g[o]){for(o>=i&&(i=o+1);!(f=v[i])&&++i<c;);b._next=f||null}}return s=new ae(s,l),s._enter=d,s._exit=u,s}function DI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zI(){return new ae(this._exit||this._groups.map(b6),this._parents)}function xI(e,t,n){var s=this.enter(),o=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),s&&o?s.merge(o).order():o}function _I(e){a=e.selection?e.selection():e;for(var a,i=this._groups,r=a._groups,o=i.length,u=r.length,h=Math.min(o,u),s=new Array(o),t=0;t<h;++t)for(var d,c=i[t],m=r[t],l=c.length,f=s[t]=new Array(l),n=0;n<l;++n)(d=c[n]||m[n])&&(f[n]=d);for(;t<o;++t)s[t]=i[t];return new ae(s,this._parents)}function fI(){for(var o=this._groups,i=-1,a=o.length;++i<a;)for(var t,n=o[i],s=n.length-1,e=n[s];--s>=0;)(t=n[s])&&(e&&t.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(t,e),e=t);return this}function mI(e){e||(e=uI);function d(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var s=this._groups,o=s.length,i=new Array(o),t=0;t<o;++t){for(var l,a=s[t],r=a.length,c=i[t]=new Array(r),n=0;n<r;++n)(l=a[n])&&(c[n]=l);c.sort(d)}return new ae(i,this._parents).order()}function uI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function iI(){return Array.from(this)}function sI(){for(var n,s=this._groups,e=0,i=s.length;e<i;++e)for(var o=s[e],t=0,a=o.length;t<a;++t)if(n=o[t],n)return n;return null}function nI(){let e=0;for(const t of this)++e;return e}function WH(){return!this.node()}function BH(e){for(var i=this._groups,n=0,a=i.length;n<a;++n)for(var o,s=i[n],t=0,r=s.length;t<r;++t)(o=s[t])&&e.call(o,o.__data__,t,s);return this}function IH(e){return function(){this.removeAttribute(e)}}function DH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TH(e,t){return function(){this.setAttribute(e,t)}}function SH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function AH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function OH(e,t){var s,n=Zr(e);return arguments.length<2?(s=this.node(),n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)):this.each((t==null?n.local?DH:IH:typeof t=="function"?n.local?xH:AH:n.local?SH:TH)(n,t))}function t5(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bH(e){return function(){this.style.removeProperty(e)}}function vH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fH(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function dH(e,t,n){return arguments.length>1?this.each((t==null?bH:typeof t=="function"?fH:vH)(e,t,n??"")):zo(this.node(),e)}function zo(e,t){return e.style.getPropertyValue(t)||t5(e).getComputedStyle(e,null).getPropertyValue(t)}function rH(e){return function(){delete this[e]}}function aH(e,t){return function(){this[e]=t}}function iH(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function oH(e,t){return arguments.length>1?this.each((t==null?rH:typeof t=="function"?iH:aH)(e,t)):this.node()[e]}function p5(e){return e.trim().split(/^|\s+/)}function _1(e){return e.classList||new g5(e)}function g5(e){this._node=e,this._names=p5(e.getAttribute("class")||"")}g5.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function v5(e,t){for(var s=_1(e),n=-1,o=t.length;++n<o;)s.add(t[n])}function j5(e,t){for(var s=_1(e),n=-1,o=t.length;++n<o;)s.remove(t[n])}function XP(e){return function(){v5(this,e)}}function GP(e){return function(){j5(this,e)}}function YP(e,t){return function(){(t.apply(this,arguments)?v5:j5)(this,e)}}function qP(e,t){if(n=p5(e+""),arguments.length<2){for(var n,o=_1(this.node()),s=-1,i=n.length;++s<i;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?YP:t?XP:GP)(n,t))}function KP(){this.textContent=""}function UP(e){return function(){this.textContent=e}}function WP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $P(e){return arguments.length?this.each(e==null?KP:(typeof e=="function"?WP:UP)(e)):this.node().textContent}function IP(){this.innerHTML=""}function HP(e){return function(){this.innerHTML=e}}function RP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function DP(e){return arguments.length?this.each(e==null?IP:(typeof e=="function"?RP:HP)(e)):this.node().innerHTML}function zP(){this.nextSibling&&this.parentNode.appendChild(this)}function TP(){return this.each(zP)}function xP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OP(){return this.each(xP)}function wP(e){var t=typeof e=="function"?e:j8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _P(){return null}function yP(e,t){var n=typeof e=="function"?e:j8(e),s=t==null?_P:typeof t=="function"?t:B4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function jP(){var e=this.parentNode;e&&e.removeChild(this)}function gP(){return this.each(jP)}function pP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hP(e){return this.select(e?fP:pP)}function uP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dP(e){return function(t){e.call(this,t,this.__data__)}}function cP(e){return e.trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");return t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),{type:e,name:n}})}function rP(e){return function(){if(n=this.__on,!n)return;for(var t,n,s=0,o=-1,i=n.length;s<i;++s)t=n[s],(!e.type||t.type===e.type)&&t.name===e.name?this.removeEventListener(t.type,t.listener,t.options):n[++o]=t;++o?n.length=o:delete this.__on}}function aP(e,t,n){return function(){var s,i,r,o=this.__on,a=dP(t);if(o)for(i=0,r=o.length;i<r;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function UR(e,t,n){var s,o,i,a,l,d,r=cP(e+""),c=r.length;if(arguments.length<2){if(o=this.node().__on,o)for(i=0,d=o.length;i<d;++i)for(s=0,a=o[i];s<c;++s)if((l=r[s]).type===a.type&&l.name===a.name)return a.value;return}o=t?aP:rP;for(s=0;s<c;++s)this.each(o(r[s],t,n));return this}function C7(e,t,n){var o=t5(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function $R(e,t){return function(){return C7(this,e,t)}}function VR(e,t){return function(){return C7(this,e,t.apply(this,arguments))}}function RR(e,t){return this.each((typeof t=="function"?VR:$R)(e,t))}function*LR(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,s=n[e],t=0,a=s.length;t<a;++t)(o=s[t])&&(yield o)}ll=[null];function ae(e,t){this._groups=e,this._parents=t}function J7(){return new ae([[document.documentElement]],ll)}function zR(){return this}ae.prototype=J7.prototype={constructor:ae,select:SB,selectAll:bB,selectChild:tB,selectChildren:UI,filter:WI,data:LI,enter:VI,exit:zI,join:xI,merge:_I,selection:zR,order:fI,sort:mI,call:aI,nodes:iI,node:sI,size:nI,empty:WH,each:BH,attr:OH,style:dH,property:oH,classed:qP,text:$P,html:DP,raise:TP,lower:OP,append:wP,insert:yP,remove:gP,clone:hP,datum:uP,on:UR,dispatch:RR,[Symbol.iterator]:LR},Qs=J7;function i(e){return typeof e=="string"?new ae([[document.querySelector(e)]],[document.documentElement]):new ae([[e]],ll)}function Su(e){return typeof e=="string"?new ae([document.querySelectorAll(e)],[document.documentElement]):new ae([T8(e)],ll)}function Ri(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dl(e,t){var s,n=Object.create(e.prototype);for(s in t)n[s]=t[s];return n}function kn(){}Ks=.7,sa=1/Ks,_n="\\s*([+-]?\\d+)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tv=/^#([0-9a-f]{3,8})$/,lv=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),hv=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),mv=new RegExp(`^rgba\\(${_n},${_n},${_n},${Vs}\\)$`),jv=new RegExp(`^rgba\\(${We},${We},${We},${Vs}\\)$`),Tv=new RegExp(`^hsl\\(${Vs},${We},${We}\\)$`),Dv=new RegExp(`^hsla\\(${Vs},${We},${We},${Vs}\\)$`),bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ri(kn,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Iv,formatHex:Iv,formatHex8:yR,formatHsl:vR,formatRgb:Zv,toString:Zv});function Iv(){return this.rgb().formatHex()}function yR(){return this.rgb().formatHex8()}function vR(){return O9(this).formatHsl()}function Zv(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i9(t):n===3?new ee(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lv.exec(e))?new ee(t[1],t[2],t[3],1):(t=hv.exec(e))?new ee(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mv.exec(e))?hl(t[1],t[2],t[3],t[4]):(t=jv.exec(e))?hl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tv.exec(e))?y9(t[1],t[2]/100,t[3]/100,1):(t=Dv.exec(e))?y9(t[1],t[2]/100,t[3]/100,t[4]):bu.hasOwnProperty(e)?i9(bu[e]):e==="transparent"?new ee(NaN,NaN,NaN,0):null}function i9(e){return new ee(e>>16&255,e>>8&255,e&255,1)}function hl(e,t,n,s){return s<=0&&(e=t=n=NaN),new ee(e,t,n,s)}function u9(e){return e instanceof kn||(e=Fn(e)),e?(e=e.rgb(),new ee(e.r,e.g,e.b,e.opacity)):new ee}function fl(e,t,n,s){return arguments.length===1?u9(e):new ee(e,t,n,s??1)}function ee(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}Ri(ee,fl,dl(kn,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ks:Math.pow(Ks,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ee(jn(this.r),jn(this.g),jn(this.b),gl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g9,formatHex:g9,formatHex8:eR,formatRgb:j9,toString:j9}));function g9(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}`}function eR(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}${Vn((isNaN(this.opacity)?1:this.opacity)*255)}`}function j9(){const e=gl(this.opacity);return`${e===1?"rgb(":"rgba("}${jn(this.r)}, ${jn(this.g)}, ${jn(this.b)}${e===1?")":`, ${e})`}`}function gl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vn(e){return e=jn(e),(e<16?"0":"")+e.toString(16)}function y9(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,n,s)}function O9(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof kn||(e=Fn(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var i=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(i,n,a),s=Math.max(i,n,a),o=NaN,t=s-r,c=(s+r)/2;return t?(i===s?o=(n-a)/t+(n<a)*6:n===s?o=(a-i)/t+2:o=(i-n)/t+4,t/=c<.5?s+r:2-s-r,o*=60):t=c>0&&c<1?0:o,new Ke(o,t,c,e.opacity)}function XL(e,t,n,s){return arguments.length===1?O9(e):new Ke(e,t,n,s??1)}function Ke(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}Ri(Ke,XL,dl(kn,{brighter(e){return e=e==null?sa:Math.pow(sa,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ks:Math.pow(Ks,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,o=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*o,s=2*t-n;return new ee(Zd(e>=240?e-240:e+120,s,n),Zd(e,s,n),Zd(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ke(k9(this.h),yl(this.s),yl(this.l),gl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gl(this.opacity);return`${e===1?"hsl(":"hsla("}${k9(this.h)}, ${yl(this.s)*100}%, ${yl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function k9(e){return e=(e||0)%360,e<0?e+360:e}function yl(e){return Math.max(0,Math.min(1,e||0))}function Zd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}F9=Math.PI/180,P9=180/Math.PI,La=18,Wd=.96422,$d=1,Vd=.82521,Hd=4/29,ss=6/29,Pd=3*ss*ss,H9=ss*ss*ss;function I9(e){if(e instanceof Ze)return new Ze(e.l,e.a,e.b,e.opacity);if(e instanceof Wt)return B9(e);e instanceof ee||(e=u9(e));var i,a,n=xd(e.r),t=xd(e.g),s=xd(e.b),o=Md((.2225045*n+.7168786*t+.0606169*s)/$d);return n===t&&t===s?i=a=o:(i=Md((.4360747*n+.3850649*t+.1430804*s)/Wd),a=Md((.0139322*n+.0971045*t+.7141733*s)/Vd)),new Ze(116*o-16,500*(i-o),200*(o-a),e.opacity)}function DL(e,t,n,s){return arguments.length===1?I9(e):new Ze(e,t,n,s??1)}function Ze(e,t,n,s){this.l=+e,this.a=+t,this.b=+n,this.opacity=+s}Ri(Ze,DL,dl(kn,{brighter(e){return new Ze(this.l+La*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ze(this.l-La*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200,t=Wd*Ad(t),e=$d*Ad(e),n=Vd*Ad(n);return new ee(kd(3.1338561*t-1.6168667*e-.4906146*n),kd(-.9787684*t+1.9161415*e+.033454*n),kd(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Md(e){return e>H9?Math.pow(e,1/3):e/Pd+Hd}function Ad(e){return e>ss?e*e*e:Pd*(e-Hd)}function kd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function xd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zL(e){if(e instanceof Wt)return new Wt(e.h,e.c,e.l,e.opacity);if(e instanceof Ze||(e=I9(e)),e.a===0&&e.b===0)return new Wt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*P9;return new Wt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yd(e,t,n,s){return arguments.length===1?zL(e):new Wt(e,t,n,s??1)}function Wt(e,t,n,s){this.h=+e,this.c=+t,this.l=+n,this.opacity=+s}function B9(e){if(isNaN(e.h))return new Ze(e.l,0,0,e.opacity);var t=e.h*F9;return new Ze(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ri(Wt,yd,dl(kn,{brighter(e){return new Wt(this.h,this.c,this.l+La*(e??1),this.opacity)},darker(e){return new Wt(this.h,this.c,this.l-La*(e??1),this.opacity)},rgb(){return B9(this).rgb()}}));function W9(e,t,n,s,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*s+a*o)/6}function dL(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[s],i=e[s+1],a=s>0?e[s-1]:2*o-i,r=s<t-1?e[s+2]:2*i-o;return W9((n-s/t)*t,a,o,i,r)}}function HL(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),o=e[(s+t-1)%t],i=e[s%t],a=e[(s+1)%t],r=e[(s+2)%t];return W9((n-s/t)*t,o,i,a,r)}}za=e=>()=>e;function fb(e,t){return function(n){return e+n*t}}function pS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function aL(e,t){var n=t-e;return n?fb(e,n>180||n<-180?n-360*Math.round(n/360):n):za(isNaN(e)?t:e)}function sL(e){return(e=+e)===1?js:function(t,n){return n-t?pS(t,n,e):za(isNaN(t)?n:t)}}function js(e,t){var n=t-e;return n?fb(e,n):za(isNaN(e)?t:e)}_a=function e(t){var n=sL(t);function s(e,t){var s=n((e=fl(e)).r,(t=fl(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=js(e.opacity,t.opacity);return function(t){return e.r=s(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return s.gamma=e,s}(1);function Ab(e){return function(t){var n,s,o=t.length,i=new Array(o),a=new Array(o),r=new Array(o);for(s=0;s<o;++s)n=fl(t[s]),i[s]=n.r||0,a[s]=n.g||0,r[s]=n.b||0;return i=e(i),a=e(a),r=e(r),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=r(e),n+""}}}JN=Ab(dL),ZN=Ab(HL);function $N(e,t){t||(t=[]);var n,o=e?Math.min(t.length,e.length):0,s=t.slice();return function(i){for(n=0;n<o;++n)s[n]=e[n]*(1-i)+t[n]*i;return s}}function VN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HN(e,t){var n,s=t?t.length:0,o=e?Math.min(s,e.length):0,a=new Array(o),i=new Array(s);for(n=0;n<o;++n)a[n]=sd(e[n],t[n]);for(;n<s;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=a[n](e);return i}}function MN(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function Pe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function SN(e,t){var n,s={},o={};(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=sd(e[n],t[n]):o[n]=t[n];return function(e){for(n in s)o[n]=s[n](e);return o}}Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(Ul.source,"g");function kN(e){return function(){return e}}function xN(e){return function(t){return e(t)+""}}function aj(e,t){var o,i,c,a=Ul.lastIndex=Yl.lastIndex=0,s=-1,n=[],r=[];for(e=e+"",t=t+"";(c=Ul.exec(e))&&(i=Yl.exec(t));)(o=i.index)>a&&(o=t.slice(a,o),n[s]?n[s]+=o:n[++s]=o),(c=c[0])===(i=i[0])?n[s]?n[s]+=i:n[++s]=i:(n[++s]=null,r.push({i:s,x:Pe(c,i)})),a=Yl.lastIndex;return a<t.length&&(o=t.slice(a),n[s]?n[s]+=o:n[++s]=o),n.length<2?r[0]?xN(r[0].x):kN(t):(t=r.length,function(e){for(var o,s=0;s<t;++s)n[(o=r[s]).i]=o.x(e);return n.join("")})}function sd(e,t){var s,n=typeof t;return t==null||n==="boolean"?za(t):(n==="number"?Pe:n==="string"?(s=Fn(t))?(t=s,_a):aj:t instanceof Fn?_a:t instanceof Date?MN:VN(t)?$N:Array.isArray(t)?HN:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SN:Pe)(e,t)}function bN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}id=180/Math.PI,Vl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jj(e,t,n,s,o,i){var a,r,c;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*s)&&(n-=e*a,s-=t*a),(c=Math.sqrt(n*n+s*s))&&(n/=c,s/=c,a/=c),e*s<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*id,skewX:Math.atan(a)*id,scaleX:r,scaleY:c}}function fN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Vl:jj(t.a,t.b,t.c,t.d,t.e,t.f)}function hN(e){return e==null?Vl:(Hl||(Hl=document.createElementNS("http://www.w3.org/2000/svg","g")),Hl.setAttribute("transform",e),(e=Hl.transform.baseVal.consolidate())?(e=e.matrix,jj(e.a,e.b,e.c,e.d,e.e,e.f)):Vl)}function Cj(e,t,n,s){function o(e){return e.length?e.pop()+" ":""}function i(e,s,o,i,a,r){if(e!==o||s!==i){var c=a.push("translate(",null,t,null,n);r.push({i:c-4,x:Pe(e,o)},{i:c-2,x:Pe(s,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}function a(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,s)-2,x:Pe(e,t)})):t&&n.push(o(n)+"rotate("+t+s)}function r(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,s)-2,x:Pe(e,t)}):t&&n.push(o(n)+"skewX("+t+s)}function c(e,t,n,s,i,a){if(e!==n||t!==s){var r=i.push(o(i)+"scale(",null,",",null,")");a.push({i:r-4,x:Pe(e,n)},{i:r-2,x:Pe(t,s)})}else(n!==1||s!==1)&&i.push(o(i)+"scale("+n+","+s+")")}return function(t,n){var s=[],o=[];return t=e(t),n=e(n),i(t.translateX,t.translateY,n.translateX,n.translateY,s,o),a(t.rotate,n.rotate,s,o),r(t.skewX,n.skewX,s,o),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,s,o),t=n=null,function(e){for(var n,t=-1,i=o.length;++t<i;)s[(n=o[t]).i]=n.x(e);return s.join("")}}}Aj=Cj(fN,"px, ","px)","deg)"),Sj=Cj(hN,", ",")",")");function Mj(e){return function(t,n){var s=e((t=yd(t)).h,(n=yd(n)).h),o=js(t.c,n.c),i=js(t.l,n.l),a=js(t.opacity,n.opacity);return function(e){return t.h=s(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}$j=Mj(aL),sN=Mj(js),qn=0,so=0,oo=0,md=1e3,ji=0,Xt=0,gi=0,ho=typeof performance=="object"&&performance.now?performance:Date,wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ld(){return Xt||(wd(nN),Xt=ho.now()+gi)}function nN(){Xt=0}function wl(){this._call=this._time=this._next=null}wl.prototype=Wj.prototype={constructor:wl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ld():+n)+(t==null?0:+t),!this._next&&Oi!==this&&(Oi?Oi._next=this:Fl=this,Oi=this),this._call=e,this._time=n,Vu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vu())}};function Wj(e,t,n){var s=new wl;return s.restart(e,t,n),s}function eN(){Ld(),++qn;for(var t,e=Fl;e;)(t=Xt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qn}function Kj(){Xt=(ji=ho.now())+gi,qn=so=0;try{eN()}finally{qn=0,AD(),Xt=0}}function QD(){var e=ho.now(),t=e-ji;t>md&&(gi-=t,ji=e)}function AD(){for(var t,n,e=Fl,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fl=n);Oi=t,Vu(s)}function Vu(e){if(qn)return;so&&(so=clearTimeout(so));var t=e-Xt;t>24?(e<1/0&&(so=setTimeout(Kj,e-ho.now()-gi)),oo&&(oo=clearInterval(oo))):(oo||(ji=ho.now(),oo=setInterval(QD,md)),qn=1,wd(Kj))}function Cy(e,t,n){var s=new wl;return t=t==null?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,n),s}Ey=f8("start","end","cancel","interrupt"),ky=[],Qu=0,e1=1,Xc=2,Wo=3,n1=4,Yc=5,Bo=6;function qc(e,t,n,s,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};xD(e,n,{name:t,index:s,group:o,on:Ey,tween:ky,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Qu})}function o1(e,t){var n=Be(e,t);if(n.state>Qu)throw new Error("too late; already scheduled");return n}function yt(e,t){var n=Be(e,t);if(n.state>Wo)throw new Error("too late; already running");return n}function Be(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xD(e,t,n){var o,s=e.__transition;s[t]=n,n.timer=Wj(c,0,n.time);function c(e){n.state=e1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(c){var l,d,u,h;if(n.state!==e1)return a();for(d in s){if(l=s[d],l.name!==n.name)continue;if(l.state===Wo)return Cy(i);l.state===n1?(l.state=Bo,l.timer.stop(),l.on.call("interrupt",e,e.__data__,l.index,l.group),delete s[d]):+d<t&&(l.state=Bo,l.timer.stop(),l.on.call("cancel",e,e.__data__,l.index,l.group),delete s[d])}if(Cy(function(){n.state===Wo&&(n.state=n1,n.timer.restart(r,n.delay,n.time),r(c))}),n.state=Xc,n.on.call("start",e,e.__data__,n.index,n.group),n.state!==Xc)return;n.state=Wo,o=new Array(h=n.tween.length);for(d=0,u=-1;d<h;++d)(l=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=l);o.length=u+1}function r(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=Yc,1),s=-1,r=o.length;++s<r;)o[s].call(e,i);n.state===Yc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Bo,n.timer.stop(),delete s[t];for(var o in s)return;delete e.__transition}}function OD(e,t){var n,o,i,s=e.__transition,a=!0;if(!s)return;t=t==null?null:t+"";for(o in s){if((n=s[o]).name!==t){a=!1;continue}i=n.state>Xc&&n.state<Yc,n.state=Bo,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[o]}a&&delete e.__transition}function wD(e){return this.each(function(){OD(this,e)})}function _D(e,t){var n,s;return function(){var o,r,i=yt(this,e),a=i.tween;if(a!==s){n=s=a;for(o=0,r=n.length;o<r;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function yD(e,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){if(a=yt(this,e),r=a.tween,r!==o){s=(o=r).slice();for(var a,r,c={name:t,value:n},i=0,l=s.length;i<l;++i)if(s[i].name===t){s[i]=c;break}i===l&&s.push(c)}a.tween=s}}function jD(e,t){if(n=this._id,e+="",arguments.length<2){s=Be(this.node(),n).tween;for(var n,s,i,o=0,a=s.length;o<a;++o)if((i=s[o]).name===e)return i.value;return null}return this.each((t==null?_D:yD)(n,e,t))}function h1(e,t,n){var s=e._id;return e.each(function(){var e=yt(this,s);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Be(e,s).value[t]}}function Ay(e,t){var n;return(typeof t=="number"?Pe:t instanceof Fn?_a:(n=Fn(t))?(t=n,_a):aj)(e,t)}function vD(e){return function(){this.removeAttribute(e)}}function gD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pD(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===s?o:o=t(s=a,n)}}function fD(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===s?o:o=t(s=a,n)}}function uD(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function dD(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function rD(e,t){var n=Zr(e),s=n==="transform"?Sj:Ay;return this.attrTween(e,typeof t=="function"?(n.local?dD:uD)(n,s,h1(this,"attr."+e,t)):t==null?(n.local?gD:vD)(n):(n.local?fD:pD)(n,s,t))}function aD(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function oD(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function eD(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&oD(e,o)),n}return o._value=t,o}function Jz(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&aD(e,o)),n}return o._value=t,o}function Qz(e,t){var s,n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return s=Zr(e),this.tween(n,(s.local?eD:Jz)(s,t))}function Gz(e,t){return function(){o1(this,e).delay=+t.apply(this,arguments)}}function Nz(e,t){return t=+t,function(){o1(this,e).delay=t}}function Dz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gz:Nz)(t,e)):Be(this.node(),t).delay}function zz(e,t){return function(){yt(this,e).duration=+t.apply(this,arguments)}}function xz(e,t){return t=+t,function(){yt(this,e).duration=t}}function Oz(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zz:xz)(t,e)):Be(this.node(),t).duration}function wz(e,t){if(typeof t!="function")throw new Error;return function(){yt(this,e).ease=t}}function gz(e){var t=this._id;return arguments.length?this.each(wz(t,e)):Be(this.node(),t).ease}function iz(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,e).ease=n}}function QT(e){if(typeof e!="function")throw new Error;return this.each(iz(this._id,e))}function GT(e){typeof e!="function"&&(e=Y8(e));for(var i=this._groups,a=i.length,r=new Array(a),t=0;t<a;++t)for(var n,o=i[t],c=o.length,l=r[t]=[],s=0;s<c;++s)(n=o[s])&&e.call(n,n.__data__,s,o)&&l.push(n);return new Ut(r,this._parents,this._name,this._id)}function YT(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,l=e._groups,o=i.length,h=l.length,d=Math.min(o,h),s=new Array(o),t=0;t<d;++t)for(var c,r=i[t],u=l[t],a=r.length,m=s[t]=new Array(a),n=0;n<a;++n)(c=r[n]||u[n])&&(m[n]=c);for(;t<o;++t)s[t]=i[t];return new Ut(s,this._parents,this._name,this._id)}function qT(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function KT(e,t,n){var s,o,i=qT(t)?o1:yt;return function(){var a=i(this,e),r=a.on;r!==s&&(o=(s=r).copy()).on(t,n),a.on=o}}function UT(e,t){var n=this._id;return arguments.length<2?Be(this.node(),n).on.on(e):this.each(KT(n,e,t))}function WT(e){return function(){var n,t=this.parentNode;for(n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $T(){return this.on("end.remove",WT(this._id))}function VT(e){i=this._name,s=this._id,typeof e!="function"&&(e=B4(e));for(var s,i,l=this._groups,d=l.length,u=new Array(d),o=0;o<d;++o)for(var n,c,a=l[o],h=a.length,r=u[o]=new Array(h),t=0;t<h;++t)(n=a[t])&&(c=e.call(n,n.__data__,t,a))&&("__data__"in n&&(c.__data__=n.__data__),r[t]=c,qc(r[t],i,s,t,r,Be(n,s)));return new Ut(u,this._parents,i,s)}function BT(e){a=this._name,n=this._id,typeof e!="function"&&(e=L8(e));for(var n,a,h=this._groups,f=h.length,u=[],d=[],r=0;r<f;++r)for(var t,c=h[r],m=c.length,i=0;i<m;++i)if(t=c[i]){for(var l,o=e.call(t,t.__data__,i,c),p=Be(t,n),s=0,g=o.length;s<g;++s)(l=o[s])&&qc(l,a,n,s,o,p);u.push(o),d.push(t)}return new Ut(u,d,a,n)}bO=Qs.prototype.constructor;function HT(){return new bO(this._groups,this._parents)}function PT(e,t){var n,s,o;return function(){var i=zo(this,e),a=(this.style.removeProperty(e),zo(this,e));return i===a?null:i===n&&a===s?o:o=t(n=i,s=a)}}function jO(e){return function(){this.style.removeProperty(e)}}function LT(e,t,n){var s,o,i=n+"";return function(){var a=zo(this,e);return a===i?null:a===s?o:o=t(s=a,n)}}function TT(e,t,n){var s,o,i;return function(){var c=zo(this,e),a=n(this),r=a+"";return a==null&&(r=a=(this.style.removeProperty(e),zo(this,e))),c===r?null:c===s&&r===o?i:(o=r,i=t(s=c,a))}}function FT(e,t){var n,s,o,a,i="style."+t,r="end."+i;return function(){var c=yt(this,e),l=c.on,d=c.value[i]==null?a||(a=jO(t)):void 0;(l!==n||o!==d)&&(s=(n=l).copy()).on(r,o=d),c.on=s}}function CT(e,t,n){var s=(e+="")==="transform"?Aj:Ay;return t==null?this.styleTween(e,PT(e,s)).on("end.style."+e,jO(e)):typeof t=="function"?this.styleTween(e,TT(e,s,h1(this,"style."+e,t))).each(FT(this._id,e)):this.styleTween(e,LT(e,s,t),n).on("end.style."+e,null)}function OT(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function bT(e,t,n){var s,o;function i(){var i=t.apply(this,arguments);return i!==o&&(s=(o=i)&&OT(e,i,n)),s}return i._value=t,i}function vT(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,bT(e,t,n??""))}function pT(e){return function(){this.textContent=e}}function mT(e){return function(){var t=e(this);this.textContent=t??""}}function aT(e){return this.tween("text",typeof e=="function"?mT(h1(this,"text",e)):pT(e==null?"":e+""))}function nT(e){return function(t){this.textContent=e.call(this,t)}}function tT(e){var t,n;function s(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&nT(s)),t}return s._value=e,s}function ZF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tT(e))}function WF(){for(var e,a=this._name,c=this._id,r=kx(),n=this._groups,l=n.length,s=0;s<l;++s)for(var i,o=n[s],d=o.length,t=0;t<d;++t)(i=o[t])&&(e=Be(i,c),qc(i,a,r,t,o,{time:e.time+e.delay+e.duration,delay:0,duration:e.duration,ease:e.ease}));return new Ut(n,this._parents,a,r)}function $F(){var e,n,t=this,o=t._id,s=t.size();return new Promise(function(i,a){var r={value:a},c={value:function(){--s===0&&i()}};t.each(function(){var t=yt(this,o),s=t.on;s!==n&&(e=(n=s).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(c)),t.on=e}),s===0&&i()})}xx=0;function Ut(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function BF(e){return Qs().transition(e)}function kx(){return++xx}Xe=Qs.prototype,Ut.prototype=BF.prototype={constructor:Ut,select:VT,selectAll:BT,selectChild:Xe.selectChild,selectChildren:Xe.selectChildren,filter:GT,merge:YT,selection:HT,transition:WF,call:Xe.call,nodes:Xe.nodes,node:Xe.node,size:Xe.size,empty:Xe.empty,each:Xe.each,on:UT,attr:rD,attrTween:Qz,style:CT,styleTween:vT,text:aT,textTween:ZF,remove:$T,tween:jD,delay:Dz,duration:Oz,ease:gz,easeVarying:QT,end:$F,[Symbol.iterator]:Xe[Symbol.iterator]};function NF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Bx={time:null,delay:0,duration:250,ease:NF};function FF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function AF(e){e instanceof Ut?(t=e._id,e=e._name):(t=kx(),(r=Bx).time=Ld(),e=e==null?null:e+"");for(var t,r,s=this._groups,c=s.length,o=0;o<c;++o)for(var a,i=s[o],l=i.length,n=0;n<l;++n)(a=i[n])&&qc(a,e,t,n,i,r||FF(a,t));return new Ut(s,this._parents,e,t)}Qs.prototype.interrupt=wD,Qs.prototype.transition=AF;var{abs:XV,max:QV,min:ZV}=Math,e,t,n,s,o,a,r,l,u,h,m,f,p,g,v,j,y,_,w,O,x,C,E,k,A,S,M,F,T,D,N,L,P,H,I,B,V,$,U,K,q,Y,G,X,Q,Z,J,Ia,B3,F3,Y3,X3,Q3,Wa,w3,Ah,Ua,Th,$h,Uh,De,Ht,a3,cm,EV,CV,um,J2,_m,wm,Cm,ea,wr,Or,Ji,M0,Xm,f8,Xr,X4,Sf,If,ll,Qs,Ks,sa,_n,Vs,We,tv,lv,hv,mv,jv,Tv,Dv,bu,F9,P9,La,Wd,$d,Vd,Hd,ss,Pd,H9,za,_a,JN,ZN,Ul,Yl,id,Vl,Hl,Aj,Sj,$j,sN,qn,so,oo,md,Fl,Oi,ji,Xt,gi,ho,wd,Ey,ky,Qu,e1,Xc,Wo,n1,Yc,Bo,bO,xx,Xe,Bx,sv,UM,LM,NM,Ar,Er,qt,OE,_r,CM,xM,ME,kk,Mk,U2,n3,o3,Ga,jA,yA,x3,m3,rr,cr,Sa,CS,st,ve,ot,Ct,gr,_2,br,Ln,ES,Ns,kS,q0,SS,Ps,MS,V0,FS,fn,TS,Fr,zS,D0,DS,Hn,Zi,IA,HA,ls,PA,RA,NS,LS,HS,IS,BS,VS,$S,Qr,Hi,hA,iA,wn,Hk,Pk,WS,US,qS,YS,GS,XS,QS,co,JS,S4,tM,pt,nM,zt,sM,V1,ck,ak,$s,Kl,zF,DF,LF,nd,un,jx,Bl,Ie,Pn,oe,Ms,xa,Ca,dT,ww,Ds,ua,K_,$_,L_,N_,D_,z_,Ft,F_,g_,p_,f_,s_,aa,Eu,Bs,Bi,Li,Fi,Fu,Tu,Ei,n_,tt,t_,Xl,e_,lo,Jy,Bu,Zy,Xy,Ky,Wy,$y,Vy,Iy,Ju,Hy,Py,Ae,Ry,ye,i1,Ly,zy,Fo,_y,yy,uy,ey,Zj,Qj,v1,kt,de,Bj,Hj,Pj,Tj,Zn,Ej,zc,M1,uj,cj,rj,tn,Yb,qb,$b,Vb,Bb,vb,E9,l9,t9,Qt,Kv,us,Bv,Hv,zv,wv,gv,ov,X7,K7,$7,V7,H7,Ql,F7,Wn,vi,h7,d7,a7,n7,Y5,F5,ki,S5,Zs,y5,f5,Di,e5,Xg,Kg,Ig,Vi,Pg,$i,t0,n0,s0,Dg,Ag,wg,Kr,Gi,cs,b0,we,rs,Cr,ze,Z6,ln,Tn,E6,y6,n2,s2,d6,Bf,Lf,Mf,wf,h2,_f,pf,ff,mf,df,j2,lf,oa,J8,mn,q8,ur,S2,V8,I8,N8,F8,R2,A8,k8,w8,Qm,St,$m,ra,Hm,Rm,zm,X2,Z2,e3,Om,hm,em,Kh,Wh,Ih,ba,ja,Nh,zh,wa,Es,_3,O3,Ma,J3,Va,Je,Cs,V3,R3,Io,H3,I3,D3,z3,W3,U3,K3,ds,G3,S3,k3,Z3,E3,eh,th,ts,sh,oh,ih,ah,rh,ch,lh,dh,uh,hh,mh,fh,ph,gh,vh,bh,jh,yh,_h,wh,Oh,xh,Ch,Eh,Sh,Oa,v3,Ts,Dh,qa,Lh,Yn,u3,Hh,va,Bh,Vh,l3,c3,qh,Yh,Gh,Xh,Xa,fe,nm,sm,om,am,cn,lm,dm,Qa,mm,pm,gm,vm,bm,jm,s3,ga,xm,zs,ha,Mm,Ja,G2,Nm,er,Nn,Bm,Vm,tr,Wm,Um,Km,$2,Ym,Gm,V2,Zm,Jm,e8,t8,n8,s8,o8,i8,r8,l8,u8,m8,p8,v8,b8,y8,An,x8,E8,H2,P2,S8,L2,N2,D2,z2,T2,P8,H8,F2,B8,ar,W8,U8,K8,k2,G8,C2,hr,tf,nf,pr,af,vr,cf,xn,b2,uf,v2,g2,p2,f2,gf,vf,bf,jf,yf,gn,Yt,Of,xf,Ef,kf,na,yr,Tf,zf,Nf,c2,r2,Hf,a2,Vf,$f,Wf,Uf,Kf,qf,Yf,Gf,Xf,Qf,Zf,Jf,e6,t6,n6,s6,o6,i6,a6,c6,i2,u6,m6,o2,p6,g6,v6,j6,t2,_6,w6,O6,x6,C6,J0,k6,A6,S6,M6,Q0,T6,z6,D6,G0,L6,R6,P6,H6,I6,B6,V6,$6,W6,U6,K6,q6,Y6,G6,X6,Q6,W0,tp,sp,op,ip,rp,cp,dp,hp,B0,gp,I0,jp,yp,P0,xp,Mr,kp,Ap,Sp,Mp,Fp,Tp,zp,Dp,Np,Lp,Rp,Pp,Hp,L0,zr,$p,Wp,Up,Kp,Yp,Gp,z0,F0,Qi,Jp,x0,ng,O0,ig,ag,cg,f0,hg,d0,gg,bg,c0,a0,Og,xg,Eg,i0,Mg,Tg,Dt,Lg,Rg,Gr,G4,Vg,$g,Ii,Ug,q4,K4,Yg,Gg,On,ec,$4,nc,o5,a5,c5,d5,zi,H4,b5,ht,w5,O5,C5,E5,ac,D4,z5,N5,L5,R5,H5,V5,W5,K5,ft,G5,X5,Q5,Z5,zn,E4,_i,vc,rn,u7,jc,uo,yc,b7,y7,w7,x7,E7,A7,S7,M7,v4,T7,z7,D7,N7,L7,R7,_c,wc,I7,h4,u4,d4,W7,l4,c4,q7,Y7,G7,r4,Z7,ev,nv,N3,po,iv,av,cv,dv,uv,on,fv,bo,vv,bv,yv,_v,jo,Ov,xv,Cv,Ev,Av,Sv,Mv,Fv,si,Nv,Rv,Pv,Zt,e4,qv,Xv,yb,_b,wb,Ob,xb,Cb,Eb,kb,Sc,AN,EN,yj,Lc,kj,Fj,C1,Dj,Rj,Rc,Pc,Ic,Pa,Vc,Uc,Sy,My,Dy,Ny,Ao,gt,Qc,be,By,Xu,Gu,Ne,Uy,Zo,qy,Yy,Gy,Wu,Qy,Kt,se,xi,la,o_,i_,a_,r_,c_,l_,d_,u_,h_,m_,ct,Rt,_u,v_,b_,C_,E_,k_,A_,S_,M_,ne,_t,P_,H_,I_,q_,Y_,G_,X_,cu,tw,iw,hw,mw,gw,jw,yw,_w,ru,iu,kw,Sw,vl,Nw,Lw,Rw,Iw,Bw,Ww,Uw,Yw,Gw,Lt,Fa,eu,Jd,Da,_l,nO,Xd,oO,iO,aO,Gd,Kd,Bd,Id,ns,zd,GO,XO,QO,ZO,JO,_d,nx,sx,Ra,Ml,bd,rx,Tl,dx,zl,hx,mx,fd,px,bx,wx,Jl,Zl,p4,Sx,Mx,ed,Tx,ql,Lx,Wl,Px,pn,ta,$x,Ux,L3,qx,Yx,Gx,Xx,Qx,Zx,Jx,eC,tC,nC,sC,oC,iC,aC,rC,Xi,bn,re,uC,In,Js,Ci,pC,gC,vC,pd,vd,jd,Sl,mo,Ed,Dd,EC,Nd,AC,SC,Me,di,TC,go,DC,Qd,LC,tu,PC,li,IC,su,VC,ou,WC,au,KC,du,YC,hu,XC,ii,ZC,pu,eE,Cu,oi,sE,oE,iE,aE,rE,yo,lE,Hu,Jo,$u,ol,pE,gE,sl,Qo,tl,el,xe,_e,Se,Fe,Te,xt,wt,Po,SE,te,To,f1,nn,PE,IE,y1,VE,$E,WE,UE,KE,qE,A1,QE,ZE,JE,ek,tk,S1,sk,ok,ik,hs,rk,wo,he,en,le,ai,ri,ci,pk,gk,O4,bk,gc,yk,_k,wk,Ok,xk,Ck,Ek,pi,Ak,Sk,Le,Tt,Ee,Ge,to,ic,oc,Mi,Ni,Ik,Bk,Vk,$k,Wk,Uk,Kk,qk,Yk,Gk,Xk,Qk,Zk,Jk,eA,tA,nA,sA,oA,W4,aA,rA,cA,lA,dA,uA,It,mA,fA,pA,gA,vA,Z4,Yr,e0,_A,wA,OA,xA,CA,EA,kA,AA,SA,MA,FA,r0,zA,it,qe,Wi,Ki,g0,Hr,A0,Tr,Ws,ia,UA,K0,Y0,ge,A2,QA,ZA,eS,M2,ir,B2,oS,iS,sr,nr,Ta,Q2,xs,Os,mS,_s,Ka,j3,hS,uS,dS,cS,aS,sS,tS,A3,XA,GA,YA,Ba,qA,KA,WA,$A,VA,BA,LA,NA,T3,Ru,DA,TA,Dn,p3,bA,Rk,Lk,Na,Nk,Dk,zk,Y2,lr,dr,Aa,ka,ks,jk,vk,mk,hk,uk,dk,lk,nk,YE,BE,HE,RE,LE,NE,TE,FE,ce,Ce,y2,kE,ma,CE,l2,U0,Hs,ca,wE,R0,k0,_E,vE,Us,fE,mE,uE,dE,cE,nE,tE,JC,GC,qC,UC,$C,BC,HC,NC,FC,MC,kC,xC,OC,C0,_C,yC,_0,Kn,jC,fC,mC,y0,hC,dC,lC,cC,Kx,j0,Wx,Vx,Yi,Nx,Dx,zx,Fx,Ax,p0,Ex,u0,Ur,Q4,Y4,Ox,_x,yx,vx,gx,cx,Jr,ax,ix,Gs,tc,ox,tx,ex,V4,YO,qO,UO,WO,$O,VO,ut,BO,Qe,IO,eo,PO,RO,LO,NO,I4,DO,L4,FO,MO,kO,rc,F4,EO,wO,_O,M4,dc,dn,Rn,jt,yi,uc,bi,hc,vt,fc,fi,mi,gO,hi,pO,fO,hO,tO,eO,Qw,Xw,pc,qw,Kw,$w,Vw,Hw,Pw,Dw,zw,Tw,Fw,x4,Mw,Aw,Ew,Cw,xw,vo,w4,b4,Ow,bw,vw,pw,fw,uw,dw,lw,g4,m4,dt,V_,a4,B_,K1,U1,R_,x_,O_,H1,w_,L1,N1,__,y_,Tc,Dc,Ty,Fy,Ue,Nc,Hc,Bc,So,Mo,$c,Wc,Ho,Un,l1,Jc,xo,nl,rl,xy,Oy,wy,by,vy,py,fy,my,hy,dy,ly,cy,ay,iy,oy,sy,ty,Jj,Xj,Gj,Yj,qj,zu,Au,Uj,ml,nu,Yd,Si,$n,Vj,zj,hd,Ll,ud,xj,Sn,Oj,dd,_j,ld,vj,od,gj,lj,Ha,nj,Bt,tj,ej,Gl,Jb,rd,cd,Zb,Qb,Xb,Kb,Ub,Wb,Ib,Hb,Il,Pb,Rb,ya,Pl,Lb,Nb,Db,zb,Tb,Fb,Mb,Sb,bt,Mt,ys,jb,bb,Rl,gb,pb,Nl,ie,bs,Pt,vs,mb,hb,ub,db,lb,cb,rb,ab,ib,sb,nb,tb,eb,J9,Z9,X9,Y9,q9,K9,Dl,V9,gd,Fd,Td,Rd,Ud,R9,L9,N9,D9,z9,T9,Xn,M9,S9,bl,C9,x9,As,At,ke,fa,lu,v9,pl,p9,f9,d9,a9,Ls,o9,s9,n9,e9,Jv,Mn,Qv,Gv,Rs,Uv,Wv,gu,vu,Lv,yu,wu,pv,Ou,xu,ul,rv,ku,Ti,Mu,Q7,Du,Nu,U7,B7,P7,k7,is,Lu,Ve,Pu,O7,_7,j7,v7,g7,p7,f7,m7,l7,c7,r7,i7,o7,s7,cl,ui,Iu,t7,e7,os,Bn,al,J5,il,Uu,Ku,Xo,qu,q5,U5,$5,B5,I5,Yu,Zc,Zu,P5,D5,t1,T5,Ko,Gc,M5,A5,ko,s1,Kc,a1,r1,c1,u1,m1,k5,x5,j1,Lo,No,w1,Ro,Do,O1,m5,h5,$o,u5,l5,i5,Uo,s5,n5,sn,E1,Eo,Jg,Zg,Qg,D1,Mc,qg,Wg,R1,Bg,Ac,Hg,Ng,zg,Fg,Sg,et,Ec,kg,Cg,G1,_g,jg,vg,pg,fg,mg,ug,lg,rg,og,tg,Q1,Z1,eg,Oe,Cc,Zp,Qp,Xp,qp,t4,Vp,ni,xc,Bp,Ip,Ep,Cp,Op,wp,Gn,_p,vp,s4,pp,fp,up,lp,ap,np,ep,J6,o4,i4,N6,Oc,F6,f4,j4,y4,_4,C4,k4,wi,Et,h6,l6,ro,r6,mc,Pf,Rf,lc,Df,Ff,En,cc,ao,io,Cf,hf,rf,sf,ef,Z8,Q8,X8,T4,$8,z4,Ai,R8,N4,R4,D8,z8,P4,M8,C8,O8,sc,U4,_8,Xs,g8,at,Pi,hn,h8,pe,qr,o0,c8,h0,m0,qm,Im,Br,v0,qs,Ir,Pr,Rr,Lr,E0,X0,Z0,Dm,e2,m2,Tm,Fm,Sm,Am,km,Em,w2,E2,I2,or,W2,ym,K2,q2,t3,pa,i3,rm,im,an,tm,Jh,h3,Qh,f3,g3,Ph,Rh,b3,Fh,Mh,y3,kh,nh,Ea,$a,M3,q3,$3,ue,P3;function wC(e){return[+e[0],+e[1]]}function KM(e){return[wC(e[0]),wC(e[1])]}UM={name:"x",handles:["w","e"].map(H0),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},LM={name:"y",handles:["n","s"].map(H0),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},NM={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(H0),input:function(e){return e==null?null:KM(e)},output:function(e){return e}};function H0(e){return{type:e}}Ar=Math.PI,Er=2*Ar,qt=1e-6,OE=Er-qt;function xE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function FM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xE;const n=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}_r=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xE:FM(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,s){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,t,n,s,o,i){this._append`C${+e},${+t},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,s,o){if(e=+e,t=+t,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let d=this._x1,u=this._y1,r=n-e,c=s-t,i=d-e,a=u-t,l=i*i+a*a;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(l>qt)if(!(Math.abs(a*r-c*i)>qt)||!o)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-d,m=s-u,p=r*r+c*c,y=h*h+m*m,g=Math.sqrt(p),v=Math.sqrt(l),b=o*Math.tan((Ar-Math.acos((p+l-y)/(2*g*v)))/2),f=b/v,j=b/g;Math.abs(f-1)>qt&&this._append`L${e+f*i},${t+f*a}`,this._append`A${o},${o},0,0,${+(a*h>i*m)},${this._x1=e+j*r},${this._y1=t+j*c}`}}arc(e,t,n,s,o,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),r=e+d,c=t+u,l=1^i,a=i?s-o:o-s;if(this._x1===null?this._append`M${r},${c}`:(Math.abs(this._x1-r)>qt||Math.abs(this._y1-c)>qt)&&this._append`L${r},${c}`,!n)return;a<0&&(a=a%Er+Er),a>OE?this._append`A${n},${n},0,1,${l},${e-d},${t-u}A${n},${n},0,1,${l},${this._x1=r},${this._y1=c}`:a>qt&&this._append`A${n},${n},0,${+(a>=Ar)},${l},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`}rect(e,t,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}};function MM(){return new _r}MM.prototype=_r.prototype;function AM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function EM(e,t){return fetch(e,t).then(AM)}function O2(e){return(t,n)=>EM(t,n).then(t=>(new DOMParser).parseFromString(t,e))}CM=O2("application/xml"),xM=O2("text/html"),ME=O2("image/svg+xml");function wM(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fr(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}function Fs(e){return e=fr(Math.abs(e)),e?e[1]:NaN}function _M(e,t){return function(n,s){for(var i=n.length,r=[],c=0,o=e[0],a=0;i>0&&o>0;){if(a+o+1>s&&(o=Math.max(1,s-a)),r.push(n.substring(i-=o,i+o)),(a+=o+1)>s)break;o=e[c=(c+1)%e.length]}return r.reverse().join(t)}}function yM(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}kk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(e){if(!(t=kk.exec(e)))throw new Error("invalid format: "+e);var t;return new x2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mr.prototype=x2.prototype;function x2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}x2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eM(e){out:for(var s,o=e.length,t=1,n=-1;t<o;++t)switch(e[t]){case".":n=s=t;break;case"0":n===0&&(n=t),s=t;break;default:if(!+e[t])break out;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}function ZS(e,t){if(o=fr(e,t),!o)return e+"";var o,s=o[0],a=o[1],n=a-(Mk=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=s.length;return n===i?s:n>i?s+new Array(n-i+1).join("0"):n>0?s.slice(0,n)+"."+s.slice(n):"0."+new Array(1-n).join("0")+fr(e,Math.max(0,t+n-1))[0]}function Fk(e,t){if(o=fr(e,t),!o)return e+"";var o,n=o[0],s=o[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}U2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wM,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fk(e*100,t),r:Fk,s:ZS,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tk(e){return e}n3=Array.prototype.map,o3=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function KS(e){var t=e.grouping===void 0||e.thousands===void 0?Tk:_M(n3.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Tk:yM(n3.call(e.numerals,String)),r=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function n(e){e=mr(e);var b,y,_,w,g=e.fill,v=e.align,d=e.sign,m=e.symbol,h=e.zero,f=e.width,p=e.comma,u=e.precision,j=e.trim,n=e.type;n==="n"?(p=!0,n="g"):U2[n]||(u===void 0&&(u=12),j=!0,n="g"),(h||g==="0"&&v==="=")&&(h=!0,g="0",v="="),y=m==="$"?s:m==="#"&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",_=m==="$"?o:/[%p]/.test(n)?r:"",b=U2[n],w=/[defgprs%]/.test(n),u=u===void 0?6:/[gprs]/.test(n)?Math.max(1,Math.min(21,u)):Math.max(0,Math.min(20,u));function O(e){var o,m,O,x,C,E,r=y,s=_;if(n==="c")s=b(e)+s,e="";else if(e=+e,O=e<0||1/e<0,e=isNaN(e)?l:b(Math.abs(e),u),j&&(e=eM(e)),O&&+e===0&&d!=="+"&&(O=!1),r=(O?d==="("?d:c:d==="-"||d==="("?"":d)+r,s=(n==="s"?o3[8+Mk/3]:"")+s+(O&&d==="("?")":""),w)for(m=-1,E=e.length;++m<E;)if(C=e.charCodeAt(m),48>C||C>57){s=(C===46?i+e.slice(m+1):e.slice(m))+s,e=e.slice(0,m);break}switch(p&&!h&&(e=t(e,1/0)),x=r.length+e.length+s.length,o=x<f?new Array(f-x+1).join(g):"",p&&h&&(e=t(o+e,o.length?f-s.length:1/0),o=""),v){case"<":e=r+e+s+o;break;case"=":e=r+o+e+s;break;case"^":e=o.slice(0,x=o.length>>1)+r+e+s+o.slice(x);break;default:e=o+r+e+s;break}return a(e)}return O.toString=function(){return e+""},O}function d(e,t){var o=n((e=mr(e),e.type="f",e)),s=Math.max(-8,Math.min(8,Math.floor(Fs(t)/3)))*3,i=Math.pow(10,-s),a=o3[8+s/3];return function(e){return o(i*e)+a}}return{format:n,formatPrefix:d}}PS({thousands:",",grouping:[3],currency:["$",""]});function PS(e){return Ga=KS(e),jA=Ga.format,yA=Ga.formatPrefix,Ga}function RS(e){return Math.max(0,-Fs(Math.abs(e)))}function AS(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fs(t)/3)))*3-Fs(Math.abs(e)))}function xS(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fs(t)-Fs(e))+1}function C3(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}x3=Symbol("implicit");function fS(){var t=new J2,n=[],s=[],o=x3;function e(e){let i=t.get(e);if(i===void 0){if(o!==x3)return o;t.set(e,i=n.push(e)-1)}return s[i%s.length]}return e.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new J2;for(const e of s){if(t.has(e))continue;t.set(e,n.push(e)-1)}return e},e.range=function(t){return arguments.length?(s=Array.from(t),e):s.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return fS(n,s).unknown(o)},C3.apply(e,arguments),e}function ZT(e){return function(){return e}}function cL(e){return+e}m3=[0,1];function ws(e){return e}function r3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ZT(isNaN(t)?NaN:.5)}function vS(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function bS(e,t,n){var s=e[0],i=e[1],o=t[0],a=t[1];return i<s?(s=r3(i,s),o=n(a,o)):(s=r3(s,i),o=n(o,a)),function(e){return o(s(e))}}function jS(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=r3(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=um(e,t,1,o)-1;return a[n](i[n](t))}}function lS(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yS(){var a,r,c,l,d,u,t=m3,n=m3,i=sd,s=ws;function o(){var o=Math.min(t.length,n.length);return s!==ws&&(s=vS(t[0],t[o-1])),c=o>2?jS:bS,l=d=null,e}function e(e){return e==null||isNaN(e=+e)?r:(l||(l=c(t.map(a),n,i)))(a(s(e)))}return e.invert=function(e){return s(u((d||(d=c(n,t.map(a),Pe)))(e)))},e.domain=function(e){return arguments.length?(t=Array.from(e,cL),o()):t.slice()},e.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},e.rangeRound=function(e){return n=Array.from(e),i=bN,o()},e.clamp=function(e){return arguments.length?(s=!!e||ws,o()):s!==ws},e.interpolate=function(e){return arguments.length?(i=e,o()):i},e.unknown=function(t){return arguments.length?(r=t,e):r},function(e,t){return a=e,u=t,o()}}function rS(){return yS()(ws,ws)}function _S(e,t,n,s){var o,a,i=d2(e,t,n);switch(s=mr(s??",f"),s.type){case"s":return a=Math.max(Math.abs(e),Math.abs(t)),s.precision==null&&!isNaN(o=AS(i,a))&&(s.precision=o),yA(s,a);case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=xS(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=RS(i))&&(s.precision=o-(s.type==="%")*2);break}}return jA(s)}function wS(e){var t=e.domain;return e.ticks=function(e){var n=t();return rV(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var s=t();return _S(s[0],s[s.length-1],e??10,n)},e.nice=function(n){n==null&&(n=10);var s,l,a=t(),r=0,c=a.length-1,o=a[r],i=a[c],d=10;for(i<o&&(s=o,o=i,i=s,s=r,r=c,c=s);d-- >0;){if(s=u2(o,i,n),s===l)return a[r]=o,a[c]=i,t(a);if(s>0)o=Math.floor(o/s)*s,i=Math.ceil(i/s)*s;else if(s<0)o=Math.ceil(o*s)/s,i=Math.floor(i*s)/s;else break;l=s}return e},e}function nS(){var e=rS();return e.copy=function(){return lS(e,nS())},C3.apply(e,arguments),wS(e)}function OS(e,t){e=e.slice();var a,n=0,s=e.length-1,o=e[n],i=e[s];return i<o&&(a=n,n=s,s=a,a=o,o=i,i=a),e[n]=t.floor(o),e[s]=t.ceil(i),e}rr=new Date,cr=new Date;function W(e,t,n,s){function o(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),n==null?1:Math.floor(n)),e),o.range=(n,s,i)=>{const a=[];if(n=o.ceil(n),i=i==null?1:Math.floor(i),!(n<s)||!(i>0))return a;let r;do a.push(r=new Date(+n)),t(n,i),e(n);while(r<n&&n<s)return a},o.filter=n=>W(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,s)=>{if(e>=e)if(s<0)for(;++s<=0;)for(;t(e,-1),!n(e););else for(;--s>=0;)for(;t(e,1),!n(e););}),n&&(o.count=(t,s)=>(rr.setTime(+t),cr.setTime(+s),e(rr),e(cr),Math.floor(n(rr,cr))),o.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?o.filter(s?t=>s(t)%e===0:t=>o.count(0,t)%e===0):o)),o}Sa=W(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),Sa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?W(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Sa),CS=Sa.range,st=1e3,ve=st*60,ot=ve*60,Ct=ot*24,gr=Ct*7,_2=Ct*30,br=Ct*365,Ln=W(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*st)},(e,t)=>(t-e)/st,e=>e.getUTCSeconds()),ES=Ln.range,Ns=W(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*st)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getMinutes()),kS=Ns.range,q0=W(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCMinutes()),SS=q0.range,Ps=W(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*st-e.getMinutes()*ve)},(e,t)=>{e.setTime(+e+t*ot)},(e,t)=>(t-e)/ot,e=>e.getHours()),MS=Ps.range,V0=W(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ot)},(e,t)=>(t-e)/ot,e=>e.getUTCHours()),FS=V0.range,fn=W(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ve)/Ct,e=>e.getDate()-1),TS=fn.range,Fr=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ct,e=>e.getUTCDate()-1),zS=Fr.range,D0=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ct,e=>Math.floor(e/Ct)),DS=D0.range;function Cn(e){return W(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ve)/gr)}Hn=Cn(0),Zi=Cn(1),IA=Cn(2),HA=Cn(3),ls=Cn(4),PA=Cn(5),RA=Cn(6),NS=Hn.range,LS=Zi.range,HS=IA.range,IS=HA.range,BS=ls.range,VS=PA.range,$S=RA.range;function yn(e){return W(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/gr)}Qr=yn(0),Hi=yn(1),hA=yn(2),iA=yn(3),wn=yn(4),Hk=yn(5),Pk=yn(6),WS=Qr.range,US=Hi.range,qS=hA.range,YS=iA.range,GS=wn.range,XS=Hk.range,QS=Pk.range,co=W(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),JS=co.range,S4=W(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),tM=S4.range,pt=W(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),pt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),nM=pt.range,zt=W(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),zt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),sM=zt.range;function fk(e,t,n,s,o,i){const a=[[Ln,1,st],[Ln,5,5*st],[Ln,15,15*st],[Ln,30,30*st],[i,1,ve],[i,5,5*ve],[i,15,15*ve],[i,30,30*ve],[o,1,ot],[o,3,3*ot],[o,6,6*ot],[o,12,12*ot],[s,1,Ct],[s,2,2*Ct],[n,1,gr],[t,1,_2],[t,3,3*_2],[e,1,br]];function c(e,t,n){const s=t<e;s&&([e,t]=[t,e]);const o=n&&typeof n.range=="function"?n:r(e,t,n),i=o?o.range(e,+t+1):[];return s?i.reverse():i}function r(t,n,s){const i=Math.abs(n-t)/s,o=d3(([,,e])=>e).right(a,i);if(o===a.length)return e.every(d2(t/br,n/br,s));if(o===0)return Sa.every(Math.max(d2(t,n,s),1));const[r,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return r.every(c)}return[c,r]}var[e$,JV]=fk(zt,S4,Qr,D0,V0,q0),[aM,rM]=fk(pt,co,Hn,fn,Ps,Ns);function n4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ti(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cM(e){var u=e.dateTime,h=e.date,d=e.time,r=e.periods,i=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,x=Go(r),O=qo(r),w=Go(i),f=qo(i),y=Go(a),j=qo(a),S=Go(o),g=qo(o),v=Go(c),b=qo(c),n={a:z,A:D,b:N,B:L,c:null,d:bE,e:bE,f:GM,g:iF,G:rF,H:WM,I:qM,j:YM,L:hE,m:XM,M:QM,p:R,q:P,Q:Hx,s:Rx,S:ZM,u:JM,U:eF,V:tF,w:nF,W:sF,x:null,X:null,y:oF,Y:aF,Z:cF,"%":Ix},s={a:H,A:I,b:B,B:V,c:null,d:zC,e:zC,f:hF,g:CF,G:SF,H:lF,I:dF,j:uF,L:CC,m:mF,M:fF,p:$,q:W,Q:Hx,s:Rx,S:pF,u:gF,U:jF,V:gS,w:_F,W:OF,x:null,X:null,y:xF,Y:EF,Z:TF,"%":Ix},_={a:E,A:k,b:A,B:p,c:M,d:AE,e:AE,f:DM,g:zE,G:DE,H:EE,I:EE,j:kM,L:zM,m:OM,M:SM,p:C,q:jM,Q:HM,s:VM,S:TM,u:uM,U:mM,V:fM,w:dM,W:pM,x:F,X:T,y:zE,Y:DE,Z:gM,"%":RM};n.x=t(h,n),n.X=t(d,n),n.c=t(u,n),s.x=t(h,s),s.X=t(d,s),s.c=t(u,s);function t(e,t){return function(n){var o,r,c,i=[],s=-1,a=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)e.charCodeAt(s)===37&&(i.push(e.slice(a,s)),(r=V1[o=e.charAt(++s)])!=null?o=e.charAt(++s):r=o==="e"?" ":"0",(c=t[o])&&(o=c(n,r)),i.push(o),a=s+1);return i.push(e.slice(a,s)),i.join("")}}function m(e,t){return function(n){var o,i,s=ti(1900,void 0,1),a=l(s,e,n+="",0);if(a!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(s.s*1e3+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+s.p*12),s.m===void 0&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(o=J1(ti(s.y,0,1)),i=o.getUTCDay(),o=i>4||i===0?Hi.ceil(o):Hi(o),o=Fr.offset(o,(s.V-1)*7),s.y=o.getUTCFullYear(),s.m=o.getUTCMonth(),s.d=o.getUTCDate()+(s.w+6)%7):(o=n4(ti(s.y,0,1)),i=o.getDay(),o=i>4||i===0?Zi.ceil(o):Zi(o),o=fn.offset(o,(s.V-1)*7),s.y=o.getFullYear(),s.m=o.getMonth(),s.d=o.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?J1(ti(s.y,0,1)).getUTCDay():n4(ti(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+s.W*7-(i+5)%7:s.w+s.U*7-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,J1(s)):n4(s)}}function l(e,t,n,s){for(var o,a,i=0,r=t.length,c=n.length;i<r;){if(s>=c)return-1;if(o=t.charCodeAt(i++),o===37){if(o=t.charAt(i++),a=_[o in V1?t.charAt(i++):o],!a||(s=a(e,n,s))<0)return-1}else if(o!=n.charCodeAt(s++))return-1}return s}function C(e,t,n){var s=x.exec(t.slice(n));return s?(e.p=O.get(s[0].toLowerCase()),n+s[0].length):-1}function E(e,t,n){var s=y.exec(t.slice(n));return s?(e.w=j.get(s[0].toLowerCase()),n+s[0].length):-1}function k(e,t,n){var s=w.exec(t.slice(n));return s?(e.w=f.get(s[0].toLowerCase()),n+s[0].length):-1}function A(e,t,n){var s=v.exec(t.slice(n));return s?(e.m=b.get(s[0].toLowerCase()),n+s[0].length):-1}function p(e,t,n){var s=S.exec(t.slice(n));return s?(e.m=g.get(s[0].toLowerCase()),n+s[0].length):-1}function M(e,t,n){return l(e,u,t,n)}function F(e,t,n){return l(e,h,t,n)}function T(e,t,n){return l(e,d,t,n)}function z(e){return a[e.getDay()]}function D(e){return i[e.getDay()]}function N(e){return c[e.getMonth()]}function L(e){return o[e.getMonth()]}function R(e){return r[+(e.getHours()>=12)]}function P(e){return 1+~~(e.getMonth()/3)}function H(e){return a[e.getUTCDay()]}function I(e){return i[e.getUTCDay()]}function B(e){return c[e.getUTCMonth()]}function V(e){return o[e.getUTCMonth()]}function $(e){return r[+(e.getUTCHours()>=12)]}function W(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var s=t(e+="",n);return s.toString=function(){return e},s},parse:function(e){var t=m(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",s);return n.toString=function(){return e},n},utcParse:function(e){var t=m(e+="",!0);return t.toString=function(){return e},t}}}V1={"-":"",_:" ",0:"0"},U=/^\s*\d+/,ck=/^%/,ak=/[\\^$*+?|[\]().{}]/g;function b(e,t,n){var o=e<0?"-":"",s=(o?-e:e)+"",i=s.length;return o+(i<n?new Array(n-i+1).join(t)+s:s)}function lM(e){return e.replace(ak,"\\$&")}function Go(e){return new RegExp("^(?:"+e.map(lM).join("|")+")","i")}function qo(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function dM(e,t,n){var s=U.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function uM(e,t,n){var s=U.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function mM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function fM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function pM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function DE(e,t,n){var s=U.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function zE(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function gM(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function jM(e,t,n){var s=U.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function OM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function AE(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function kM(e,t,n){var s=U.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function EE(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function SM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function TM(e,t,n){var s=U.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function zM(e,t,n){var s=U.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function DM(e,t,n){var s=U.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function RM(e,t,n){var s=ck.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function HM(e,t,n){var s=U.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function VM(e,t,n){var s=U.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function bE(e,t){return b(e.getDate(),t,2)}function WM(e,t){return b(e.getHours(),t,2)}function qM(e,t){return b(e.getHours()%12||12,t,2)}function YM(e,t){return b(1+fn.count(pt(e),e),t,3)}function hE(e,t){return b(e.getMilliseconds(),t,3)}function GM(e,t){return hE(e,t)+"000"}function XM(e,t){return b(e.getMonth()+1,t,2)}function QM(e,t){return b(e.getMinutes(),t,2)}function ZM(e,t){return b(e.getSeconds(),t,2)}function JM(e){var t=e.getDay();return t===0?7:t}function eF(e,t){return b(Hn.count(pt(e)-1,e),t,2)}function QC(e){var t=e.getDay();return t>=4||t===0?ls(e):ls.ceil(e)}function tF(e,t){return e=QC(e),b(ls.count(pt(e),e)+(pt(e).getDay()===4),t,2)}function nF(e){return e.getDay()}function sF(e,t){return b(Zi.count(pt(e)-1,e),t,2)}function oF(e,t){return b(e.getFullYear()%100,t,2)}function iF(e,t){return e=QC(e),b(e.getFullYear()%100,t,2)}function aF(e,t){return b(e.getFullYear()%1e4,t,4)}function rF(e,t){var n=e.getDay();return e=n>=4||n===0?ls(e):ls.ceil(e),b(e.getFullYear()%1e4,t,4)}function cF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function zC(e,t){return b(e.getUTCDate(),t,2)}function lF(e,t){return b(e.getUTCHours(),t,2)}function dF(e,t){return b(e.getUTCHours()%12||12,t,2)}function uF(e,t){return b(1+Fr.count(zt(e),e),t,3)}function CC(e,t){return b(e.getUTCMilliseconds(),t,3)}function hF(e,t){return CC(e,t)+"000"}function mF(e,t){return b(e.getUTCMonth()+1,t,2)}function fF(e,t){return b(e.getUTCMinutes(),t,2)}function pF(e,t){return b(e.getUTCSeconds(),t,2)}function gF(e){var t=e.getUTCDay();return t===0?7:t}function jF(e,t){return b(Qr.count(zt(e)-1,e),t,2)}function bC(e){var t=e.getUTCDay();return t>=4||t===0?wn(e):wn.ceil(e)}function gS(e,t){return e=bC(e),b(wn.count(zt(e),e)+(zt(e).getUTCDay()===4),t,2)}function _F(e){return e.getUTCDay()}function OF(e,t){return b(Hi.count(zt(e)-1,e),t,2)}function xF(e,t){return b(e.getUTCFullYear()%100,t,2)}function CF(e,t){return e=bC(e),b(e.getUTCFullYear()%100,t,2)}function EF(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function SF(e,t){var n=e.getUTCDay();return e=n>=4||n===0?wn(e):wn.ceil(e),b(e.getUTCFullYear()%1e4,t,4)}function TF(){return"+0000"}function Ix(){return"%"}function Hx(e){return+e}function Rx(e){return Math.floor(+e/1e3)}RF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RF(e){return $s=cM(e),Kl=$s.format,zF=$s.parse,DF=$s.utcFormat,LF=$s.utcParse,$s}function PF(e){return new Date(e)}function IF(e){return e instanceof Date?+e:+new Date(+e)}function Cx(e,t,n,s,o,i,a,r,c,l){var d=rS(),h=d.invert,u=d.domain,m=l(".%L"),f=l(":%S"),p=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),b=l("%b %d"),j=l("%B"),y=l("%Y");function _(e){return(c(e)<e?m:r(e)<e?f:a(e)<e?p:i(e)<e?g:s(e)<e?o(e)<e?v:b:n(e)<e?j:y)(e)}return d.invert=function(e){return new Date(h(e))},d.domain=function(e){return arguments.length?u(Array.from(e,IF)):u().map(PF)},d.ticks=function(t){var n=u();return e(n[0],n[n.length-1],t??10)},d.tickFormat=function(e,t){return t==null?_:l(t)},d.nice=function(e){var n=u();return(!e||typeof e.range!="function")&&(e=t(n[0],n[n.length-1],e??10)),e?u(OS(n,e)):d},d.copy=function(){return lS(d,Cx(e,t,n,s,o,i,a,r,c,l))},d}function VF(){return C3.apply(Cx(aM,rM,pt,co,Hn,fn,Ps,Ns,Ln,Kl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z(e){return function(){return e}}nd=Math.abs,Q=Math.atan2,un=Math.cos,jx=Math.max,Bl=Math.min,Ie=Math.sin,Pn=Math.sqrt,oe=1e-12,Ms=Math.PI,xa=Ms/2,Ca=2*Ms;function GF(e){return e>1?0:e<-1?Ms:Math.acos(e)}function fx(e){return e>=1?xa:e<=-1?-xa:Math.asin(e)}function ux(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new _r(t)}function XF(e){return e.innerRadius}function QF(e){return e.outerRadius}function JF(e){return e.startAngle}function eT(e){return e.endAngle}function sT(e){return e&&e.padAngle}function iT(e,t,n,s,o,i,a,r){var l=n-e,d=s-t,u=a-o,h=r-i,c=h*l-u*d;if(c*c<oe)return;return c=(u*(t-i)-h*(e-o))/c,[e+c*l,t+c*d]}function Al(e,t,n,s,o,i,a){var b=e-n,w=t-s,x=(a?i:-i)/Pn(b*b+w*w),_=x*w,y=-x*b,j=e+_,p=t+y,g=n+_,v=s+y,C=(j+g)/2,O=(p+v)/2,c=g-j,r=v-p,d=c*c+r*r,f=o-i,l=j*v-g*p,h=(r<0?-1:1)*Pn(jx(0,f*f*d-l*l)),m=(l*r-c*h)/d,u=(-l*c-r*h)/d,E=(l*r+c*h)/d,k=(-l*c+r*h)/d,A=m-C,S=u-O,M=E-C,F=k-O;return A*A+S*S>M*M+F*F&&(m=E,u=k),{cx:m,cy:u,x01:-_,y01:-y,x11:m*(o/f-1),y11:u*(o/f-1)}}function Od(){var n=XF,s=QF,r=z(0),o=null,i=JF,a=eT,c=sT,e=null,l=ux(t);function t(){var z,W,u=+n.apply(this,arguments),h=+s.apply(this,arguments),f=i.apply(this,arguments)-xa,p=a.apply(this,arguments)-xa,A=nd(p-f),m=p>f;if(e||(e=z=l()),h<u&&(W=h,h=u,u=W),h>oe)if(A>Ca-oe)e.moveTo(h*un(f),h*Ie(f)),e.arc(0,0,h,f,p,!m),u>oe&&(e.moveTo(u*un(p),u*Ie(p)),e.arc(0,0,u,p,f,m));else{var t,d,C,E,k=f,w=p,x=f,O=p,N=A,L=A,$=c.apply(this,arguments)/2,R=$>oe&&(o?+o.apply(this,arguments):Pn(u*u+h*h)),j=Bl(nd(h-u)/2,+r.apply(this,arguments)),b=j,v=j;R>oe&&(C=fx(R/u*Ie($)),E=fx(R/h*Ie($)),(N-=C*2)>oe?(C*=m?1:-1,x+=C,O-=C):(N=0,x=O=(f+p)/2),(L-=E*2)>oe?(E*=m?1:-1,k+=E,w-=E):(L=0,k=w=(f+p)/2));var _=h*un(k),y=h*Ie(k),T=u*un(O),F=u*Ie(O);if(j>oe){var g,M=h*un(w),S=h*Ie(w),P=u*un(x),H=u*Ie(x);if(A<Ms)if(g=iT(_,y,P,H,M,S,T,F)){var B=_-g[0],V=y-g[1],D=M-g[0],I=S-g[1],U=1/Ie(GF((B*D+V*I)/(Pn(B*B+V*V)*Pn(D*D+I*I)))/2),K=Pn(g[0]*g[0]+g[1]*g[1]);b=Bl(j,(u-K)/(U-1)),v=Bl(j,(h-K)/(U+1))}else b=v=0}L>oe?v>oe?(t=Al(P,H,_,y,h,v,m),d=Al(M,S,T,F,h,v,m),e.moveTo(t.cx+t.x01,t.cy+t.y01),v<j?e.arc(t.cx,t.cy,v,Q(t.y01,t.x01),Q(d.y01,d.x01),!m):(e.arc(t.cx,t.cy,v,Q(t.y01,t.x01),Q(t.y11,t.x11),!m),e.arc(0,0,h,Q(t.cy+t.y11,t.cx+t.x11),Q(d.cy+d.y11,d.cx+d.x11),!m),e.arc(d.cx,d.cy,v,Q(d.y11,d.x11),Q(d.y01,d.x01),!m))):(e.moveTo(_,y),e.arc(0,0,h,k,w,!m)):e.moveTo(_,y),!(u>oe)||!(N>oe)?e.lineTo(T,F):b>oe?(t=Al(T,F,M,S,u,-b,m),d=Al(_,y,P,H,u,-b,m),e.lineTo(t.cx+t.x01,t.cy+t.y01),b<j?e.arc(t.cx,t.cy,b,Q(t.y01,t.x01),Q(d.y01,d.x01),!m):(e.arc(t.cx,t.cy,b,Q(t.y01,t.x01),Q(t.y11,t.x11),!m),e.arc(0,0,u,Q(t.cy+t.y11,t.cx+t.x11),Q(d.cy+d.y11,d.cx+d.x11),m),e.arc(d.cx,d.cy,b,Q(d.y11,d.x11),Q(d.y01,d.x01),!m))):e.arc(0,0,u,O,x,m)}else e.moveTo(0,0);if(e.closePath(),z)return e=null,z+""||null}return t.centroid=function(){var e=(+n.apply(this,arguments)+ +s.apply(this,arguments))/2,t=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ms/2;return[un(t)*e,Ie(t)*e]},t.innerRadius=function(e){return arguments.length?(n=typeof e=="function"?e:z(+e),t):n},t.outerRadius=function(e){return arguments.length?(s=typeof e=="function"?e:z(+e),t):s},t.cornerRadius=function(e){return arguments.length?(r=typeof e=="function"?e:z(+e),t):r},t.padRadius=function(e){return arguments.length?(o=e==null?null:typeof e=="function"?e:z(+e),t):o},t.startAngle=function(e){return arguments.length?(i=typeof e=="function"?e:z(+e),t):i},t.endAngle=function(e){return arguments.length?(a=typeof e=="function"?e:z(+e),t):a},t.padAngle=function(e){return arguments.length?(c=typeof e=="function"?e:z(+e),t):c},t.context=function(n){return arguments.length?(e=n??null,t):e},t}dT=Array.prototype.slice;function zO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TO(e){this._context=e}TO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function je(e){return new TO(e)}function ET(e){return e[0]}function kT(e){return e[1]}function Oo(e,t){var a=z(!0),o=null,i=je,s=null,r=ux(n);e=typeof e=="function"?e:e===void 0?ET:z(e),t=typeof t=="function"?t:t===void 0?kT:z(t);function n(n){var c,d,u,h=(n=zO(n)).length,l=!1;o==null&&(s=i(u=r()));for(c=0;c<=h;++c)!(c<h&&a(d=n[c],c,n))===l&&((l=!l)?s.lineStart():s.lineEnd()),l&&s.point(+e(d,c,n),+t(d,c,n));if(u)return s=null,u+""||null}return n.x=function(t){return arguments.length?(e=typeof t=="function"?t:z(+t),n):e},n.y=function(e){return arguments.length?(t=typeof e=="function"?e:z(+e),n):t},n.defined=function(e){return arguments.length?(a=typeof e=="function"?e:z(!!e),n):a},n.curve=function(e){return arguments.length?(i=e,o!=null&&(s=i(o)),n):i},n.context=function(e){return arguments.length?(e==null?o=s=null:s=i(o=e),n):o},n}function ST(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function MT(e){return e}function zT(){var s=MT,t=ST,n=null,o=z(0),i=z(Ca),a=z(0);function e(e){var r,l,h,f,j,c=(e=zO(e)).length,g=0,m=new Array(c),d=new Array(c),u=+o.apply(this,arguments),p=Math.min(Ca,Math.max(-Ca,i.apply(this,arguments)-u)),v=Math.min(Math.abs(p)/c,a.apply(this,arguments)),b=v*(p<0?-1:1);for(r=0;r<c;++r)(l=d[m[r]=r]=+s(e[r],r,e))>0&&(g+=l);t!=null?m.sort(function(e,n){return t(d[e],d[n])}):n!=null&&m.sort(function(t,s){return n(e[t],e[s])});for(r=0,j=g?(p-c*b)/g:0;r<c;++r,u=f)h=m[r],l=d[h],f=u+(l>0?l*j:0)+b,d[h]={data:e[h],index:r,value:l,startAngle:u,endAngle:f,padAngle:v};return d}return e.value=function(t){return arguments.length?(s=typeof t=="function"?t:z(+t),e):s},e.sortValues=function(s){return arguments.length?(t=s,n=null,e):t},e.sort=function(s){return arguments.length?(n=s,t=null,e):n},e.startAngle=function(t){return arguments.length?(o=typeof t=="function"?t:z(+t),e):o},e.endAngle=function(t){return arguments.length?(i=typeof t=="function"?t:z(+t),e):i},e.padAngle=function(t){return arguments.length?(a=typeof t=="function"?t:z(+t),e):a},e}function El(){}function Cl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CO(e){this._context=e}CO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ps(e){return new CO(e)}function xO(e){this._context=e}xO.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NT(e){return new xO(e)}function yO(e){this._context=e}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Cl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RT(e){return new yO(e)}function mO(e){this._context=e}mO.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ez(e){return new mO(e)}function uO(e){return e<0?-1:1}function dO(e,t,n){var s=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(s||o<0&&-0),a=(n-e._y1)/(o||s<0&&-0),r=(i*o+a*s)/(s+o);return(uO(i)+uO(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(r))||0}function cO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qd(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function Ol(e){this._context=e}Ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qd(this,this._t0,cO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e===this._x1&&t===this._y1)return;switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qd(this,cO(this,n=dO(this,e,t)),n);break;default:qd(this,this._t0,n=dO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}};function rO(e){this._context=new sO(e)}(rO.prototype=Object.create(Ol.prototype)).point=function(e,t){Ol.prototype.point.call(this,t,e)};function sO(e){this._context=e}sO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,o,i){this._context.bezierCurveTo(t,e,s,n,i,o)}};function tz(e){return new Ol(e)}function nz(e){return new rO(e)}function Jw(e){this._context=e}Jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t,s,i,a,e=this._x,n=this._y,o=e.length;if(o)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),o===2)this._context.lineTo(e[1],n[1]);else{i=Zw(e),a=Zw(n);for(t=0,s=1;s<o;++t,++s)this._context.bezierCurveTo(i[0][t],a[0][t],i[1][t],a[1][t],e[s],n[s])}(this._line||this._line!==0&&o===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zw(e){var t,a,n=e.length-1,s=new Array(n),o=new Array(n),i=new Array(n);s[0]=0,o[0]=2,i[0]=e[0]+2*e[1];for(t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n];for(t=1;t<n;++t)a=s[t]/o[t-1],o[t]-=a,i[t]-=a*i[t-1];s[n-1]=i[n-1]/o[n-1];for(t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];o[n-1]=(e[n]+s[n-1])/2;for(t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function sz(e){return new Jw(e)}function jl(e,t){this._context=e,this._t=t}jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function oz(e){return new jl(e,.5)}function vz(e){return new jl(e,0)}function Cz(e){return new jl(e,1)}function Ss(e,t,n){this.k=e,this.x=t,this.y=n}Ss.prototype={constructor:Ss,scale:function(e){return e===1?this:new Ss(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ss(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},ww=new Ss(1,0,0),Uz.prototype=Ss.prototype;function Uz(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ww;return e.__zoom}Ds=Ua(Uh(),1),ua={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},s)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const o=n<.5?n*(1+t):n+t-n*t,i=2*n-o;switch(s){case"r":return ua.hue2rgb(i,o,e+1/3)*255;case"g":return ua.hue2rgb(i,o,e)*255;case"b":return ua.hue2rgb(i,o,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},s)=>{e/=255,t/=255,n/=255;const o=Math.max(e,t,n),i=Math.min(e,t,n),r=(o+i)/2;if(s==="l")return r*100;if(o===i)return 0;const a=o-i,c=r>.5?a/(2-o-i):a/(o+i);if(s==="s")return c*100;switch(o){case e:return((t-n)/a+(t<n?6:0))*60;case t:return((n-e)/a+2)*60;case n:return((e-t)/a+4)*60;default:return-1}}},K_=ua,$_={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},L_=$_,N_={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},D_=N_,z_={channel:K_,lang:L_,unit:D_},g=z_,Ft={};for(let e=0;e<=255;e++)Ft[e]=g.unit.dec2hex(e);X={ALL:0,RGB:1,HSL:2},F_=class{constructor(){this.type=X.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=X.ALL}is(e){return this.type===e}},g_=F_,p_=class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new g_}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=X.ALL,this}_ensureHSL(){const e=this.data,{h:t,s:n,l:s}=e;t===void 0&&(e.h=g.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=g.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=g.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:n,b:s}=e;t===void 0&&(e.r=g.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=g.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=g.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return!this.type.is(X.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,t=e.g;return!this.type.is(X.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,t=e.b;return!this.type.is(X.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,t=e.h;return!this.type.is(X.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,t=e.s;return!this.type.is(X.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,t=e.l;return!this.type.is(X.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(X.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(X.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(X.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(X.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(X.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(X.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},f_=p_,s_=new f_({r:0,g:0,b:0,a:0},"transparent"),aa=s_,Eu={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const r=e.match(Eu.re);if(!r)return;const c=r[1],t=parseInt(c,16),l=c.length,d=l%4===0,o=l>4,n=o?1:17,i=o?8:4,a=d?0:-1,s=o?255:15;return aa.set({r:(t>>i*(a+3)&s)*n,g:(t>>i*(a+2)&s)*n,b:(t>>i*(a+1)&s)*n,a:d?(t&s)*n/255:1},e)},stringify:e=>{const{r:t,g:n,b:s,a:o}=e;return o<1?`#${Ft[Math.round(t)]}${Ft[Math.round(n)]}${Ft[Math.round(s)]}${Ft[Math.round(o*255)]}`:`#${Ft[Math.round(t)]}${Ft[Math.round(n)]}${Ft[Math.round(s)]}`}},Bs=Eu,Bi={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Bi.hueRe);if(t){const[,e,n]=t;switch(n){case"grad":return g.channel.clamp.h(parseFloat(e)*.9);case"rad":return g.channel.clamp.h(parseFloat(e)*180/Math.PI);case"turn":return g.channel.clamp.h(parseFloat(e)*360)}}return g.channel.clamp.h(parseFloat(e))},parse:e=>{const n=e.charCodeAt(0);if(n!==104&&n!==72)return;const s=e.match(Bi.re);if(!s)return;const[,o,i,a,t,r]=s;return aa.set({h:Bi._hue2deg(o),s:g.channel.clamp.s(parseFloat(i)),l:g.channel.clamp.l(parseFloat(a)),a:t?g.channel.clamp.a(r?parseFloat(t)/100:parseFloat(t)):1},e)},stringify:e=>{const{h:t,s:n,l:s,a:o}=e;return o<1?`hsla(${g.lang.round(t)}, ${g.lang.round(n)}%, ${g.lang.round(s)}%, ${o})`:`hsl(${g.lang.round(t)}, ${g.lang.round(n)}%, ${g.lang.round(s)}%)`}},Li=Bi,Fi={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Fi.colors[e];if(!t)return;return Bs.parse(t)},stringify:e=>{const t=Bs.stringify(e);for(const e in Fi.colors)if(Fi.colors[e]===t)return e}},Fu=Fi,Tu={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const n=e.charCodeAt(0);if(n!==114&&n!==82)return;const s=e.match(Tu.re);if(!s)return;const[,o,r,i,c,a,l,t,d]=s;return aa.set({r:g.channel.clamp.r(r?parseFloat(o)*2.55:parseFloat(o)),g:g.channel.clamp.g(c?parseFloat(i)*2.55:parseFloat(i)),b:g.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:t?g.channel.clamp.a(d?parseFloat(t)/100:parseFloat(t)):1},e)},stringify:e=>{const{r:t,g:n,b:s,a:o}=e;return o<1?`rgba(${g.lang.round(t)}, ${g.lang.round(n)}, ${g.lang.round(s)}, ${g.lang.round(o)})`:`rgb(${g.lang.round(t)}, ${g.lang.round(n)}, ${g.lang.round(s)})`}},Ei=Tu,n_={format:{keyword:Fu,hex:Bs,rgb:Ei,rgba:Ei,hsl:Li,hsla:Li},parse:e=>{if(typeof e!="string")return e;const t=Bs.parse(e)||Ei.parse(e)||Li.parse(e)||Fu.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(X.HSL)||e.data.r===void 0?Li.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Ei.stringify(e):Bs.stringify(e)},tt=n_,t_=(e,t)=>{const n=tt.parse(e);for(const e in t)n[e]=g.channel.clamp[e](t[e]);return tt.stringify(n)},Xl=t_,e_=(e,t,n=0,s=1)=>{if(typeof e!="number")return Xl(e,{a:t});const o=aa.set({r:g.channel.clamp.r(e),g:g.channel.clamp.g(t),b:g.channel.clamp.b(n),a:g.channel.clamp.a(s)});return tt.stringify(o)},lo=e_,Jy=(e,t,n)=>{const s=tt.parse(e),o=s[t],i=g.channel.clamp[t](o+n);return o!==i&&(s[t]=i),tt.stringify(s)},Bu=Jy,Zy=(e,t)=>Bu(e,"l",t),u=Zy,Xy=(e,t)=>Bu(e,"l",-t),m=Xy,Ky=(e,t)=>{const s=tt.parse(e),n={};for(const e in t){if(!t[e])continue;n[e]=s[e]+t[e]}return Xl(e,n)},s=Ky,Wy=(e,t,n=50)=>{const{r:u,g:p,b:d,a:l}=tt.parse(e),{r:g,g:m,b:h,a:c}=tt.parse(t),i=n/100,s=i*2-1,r=l-c,f=s*r===-1?s:(s+r)/(1+s*r),o=(f+1)/2,a=1-o,v=u*o+g*a,b=p*o+m*a,j=d*o+h*a,y=l*i+c*(1-i);return lo(v,b,j,y)},$y=Wy,Vy=(e,t=100)=>{const n=tt.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,$y(n,e,t)},r=Vy,Iy=typeof global=="object"&&global&&global.Object===Object&&global,Ju=Iy,Hy=typeof self=="object"&&self&&self.Object===Object&&self,Py=Ju||Hy||Function("return this")(),Ae=Py,Ry=Ae.Symbol,ye=Ry,i1=Object.prototype,Ly=i1.hasOwnProperty,zy=i1.toString,Fo=ye?ye.toStringTag:void 0;function FD(e){var t,n,s=Ly.call(e,Fo),o=e[Fo];try{e[Fo]=void 0,t=!0}catch{}return n=zy.call(e),t&&(s?e[Fo]=o:delete e[Fo]),n}_y=FD,yy=Object.prototype,uy=yy.toString;function WD(e){return uy.call(e)}ey=WD,Zj="[object Null]",Qj="[object Undefined]",v1=ye?ye.toStringTag:void 0;function XD(e){return e==null?e===void 0?Qj:Zj:v1&&v1 in Object(e)?_y(e):ey(e)}kt=XD;function iN(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}de=iN,Bj="[object AsyncFunction]",Hj="[object Function]",Pj="[object GeneratorFunction]",Tj="[object Proxy]";function cN(e){if(!de(e))return!1;var t=kt(e);return t==Hj||t==Pj||t==Bj||t==Tj}Zn=cN,Ej=Ae["__core-js_shared__"],zc=Ej,M1=function(){var e=/[^.]+$/.exec(zc&&zc.keys&&zc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mN(e){return!!M1&&M1 in e}uj=mN,cj=Function.prototype,rj=cj.toString;function ON(e){if(e!=null){try{return rj.call(e)}catch{}try{return e+""}catch{}}return""}tn=ON,Yb=/[\\^$.*+?()[\]{}|]/g,qb=/^\[object .+?Constructor\]$/,$b=Function.prototype,Vb=Object.prototype,Bb=$b.toString,vb=Vb.hasOwnProperty,E9=RegExp("^"+Bb.call(vb).replace(Yb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GL(e){if(!de(e)||uj(e))return!1;var t=Zn(e)?E9:qb;return t.test(tn(e))}l9=GL;function cR(e,t){return e?.[t]}t9=cR;function mR(e,t){var n=t9(e,t);return l9(n)?n:void 0}Qt=mR,Kv=Qt(Object,"create"),us=Kv;function jR(){this.__data__=us?us(null):{},this.size=0}Bv=jR;function _R(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Hv=_R,zv="__lodash_hash_undefined__",wv=Object.prototype,gv=wv.hasOwnProperty;function SR(e){var n,t=this.__data__;return us?(n=t[e],n===zv?void 0:n):gv.call(t,e)?t[e]:void 0}ov=SR,X7=Object.prototype,K7=X7.hasOwnProperty;function PR(e){var t=this.__data__;return us?t[e]!==void 0:K7.call(t,e)}$7=PR,V7="__lodash_hash_undefined__";function HR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=us&&t===void 0?V7:t,this}H7=HR;function fo(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}fo.prototype.clear=Bv,fo.prototype.delete=Hv,fo.prototype.get=ov,fo.prototype.has=$7,fo.prototype.set=H7,Ql=fo;function IR(){this.__data__=[],this.size=0}F7=IR;function XR(e,t){return e===t||e!==e&&t!==t}Wn=XR;function ZR(e,t){for(var n=e.length;n--;)if(Wn(e[n][0],t))return n;return-1}vi=ZR,h7=Array.prototype,d7=h7.splice;function tP(e){var s,t=this.__data__,n=vi(t,e);return!(n<0)&&(s=t.length-1,n==s?t.pop():d7.call(t,n,1),--this.size,!0)}a7=tP;function oP(e){var t=this.__data__,n=vi(t,e);return n<0?void 0:t[n][1]}n7=oP;function mP(e){return vi(this.__data__,e)>-1}Y5=mP;function MP(e,t){var n=this.__data__,s=vi(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}F5=MP;function no(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}no.prototype.clear=F7,no.prototype.delete=a7,no.prototype.get=n7,no.prototype.has=Y5,no.prototype.set=F5,ki=no,S5=Qt(Ae,"Map"),Zs=S5;function QP(){this.size=0,this.__data__={hash:new Ql,map:new(Zs||ki),string:new Ql}}y5=QP;function nH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}f5=nH;function lH(e,t){var n=e.__data__;return f5(t)?n[typeof t=="string"?"string":"hash"]:n.map}Di=lH;function gH(e){var t=Di(this,e).delete(e);return this.size-=t?1:0,t}e5=gH;function _H(e){return Di(this,e).get(e)}Xg=_H;function MH(e){return Di(this,e).has(e)}Kg=MH;function FH(e,t){var n=Di(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}Ig=FH;function Ys(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}Ys.prototype.clear=y5,Ys.prototype.delete=e5,Ys.prototype.get=Xg,Ys.prototype.has=Kg,Ys.prototype.set=Ig,Vi=Ys,Pg="Expected a function";function J4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Pg);var n=function(){var a,o=arguments,i=t?t.apply(this,o):o[0],s=n.cache;return s.has(i)?s.get(i):(a=e.apply(this,o),n.cache=s.set(i,a)||s,a)};return n.cache=new(J4.Cache||Vi),n}J4.Cache=Vi,$i=J4,t0="comm",n0="rule",s0="decl",Dg="@import",Ag="@keyframes",wg=Math.abs,Kr=String.fromCharCode;function yg(e){return e.trim()}function l0(e,t,n){return e.replace(t,n)}function GH(e,t){return e.indexOf(t)}function Ui(e,t){return e.charCodeAt(t)|0}function qi(e,t,n){return e.slice(t,n)}function Gt(e){return e.length}function dg(e){return e.length}function $r(e,t){return t.push(e),e}Gi=1,cs=1,b0=0,we=0,F=0,rs="";function w0(e,t,n,s,o,i,a){return{value:e,root:t,parent:n,type:s,props:o,children:i,line:Gi,column:cs,length:a,return:""}}function eI(){return F}function oI(){return F=we>0?Ui(rs,--we):0,(cs--,F===10)&&(cs=1,Gi--),F}function Ye(){return F=we<b0?Ui(rs,we++):0,(cs++,F===10)&&(cs=1,Gi++),F}function Qn(){return Ui(rs,we)}function Nr(){return we}function Dr(e,t){return qi(rs,e,t)}function S0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rI(e){return Gi=cs=1,b0=Gt(rs=e),we=0,[]}function cI(e){return rs="",e}function T0(e){return yg(Dr(we-1,N0(e===91?e+2:e===40?e+1:e)))}function lI(e){for(;F=Qn();)if(F<33)Ye();else break;return S0(e)>2||S0(F)>3?"":" "}function pI(e,t){for(;--t&&Ye();)if(F<48||F>102||F>57&&F<65||F>70&&F<97)break;return Dr(e,Nr()+(t<6&&Qn()==32&&Ye()==32))}function N0(e){for(;Ye();)switch(F){case e:return we;case 34:case 39:e!==34&&e!==39&&N0(F);break;case 40:e===41&&N0(e);break;case 92:Ye();break}return we}function gI(e,t){for(;Ye();){if(e+F===47+10)break;if(e+F===42+42&&Qn()===47)break}return"/*"+Dr(t,we-1)+"*"+Kr(e===47?e:Ye())}function vI(e){for(;!S0(Qn());)Ye();return Dr(e,we)}function yI(e){return cI(Sr("",null,null,null,[""],e=rI(e),0,[0],e))}function Sr(e,t,n,s,o,i,a,r,c){for(var j=0,g=0,u=a,w=0,y=0,v=0,m=1,O=1,p=1,d=0,b="",_=o,f=i,h=s,l=b;O;)switch(v=d,d=Ye()){case 40:if(v!=108&&Ui(l,u-1)==58){GH(l+=l0(T0(d),"&","&"),"&")!=-1&&(p=-1);break}case 34:case 39:case 91:l+=T0(d);break;case 9:case 10:case 13:case 32:l+=lI(v);break;case 92:l+=pI(Nr()-1,7);continue;case 47:switch(Qn()){case 42:case 47:$r(EI(gI(Ye(),Nr()),t,n),c);break;default:l+="/"}break;case 123*m:r[j++]=Gt(l)*p;case 125*m:case 59:case 0:switch(d){case 0:case 125:O=0;case 59+g:y>0&&Gt(l)-u&&$r(y>32?mp(l+";",s,n,u-1):mp(l0(l," ","")+";",s,n,u-2),c);break;case 59:l+=";";default:if($r(h=bp(l,t,n,j,g,o,r,b,_=[],f=[],u),i),d===123)if(g===0)Sr(l,t,h,h,_,i,u,r,f);else switch(w===99&&Ui(l,3)===110?100:w){case 100:case 109:case 115:Sr(e,h,h,s&&$r(bp(e,h,h,0,0,o,r,b,o,_=[],u),f),o,f,u,r,s?_:f);break;default:Sr(l,h,h,h,[""],f,0,r,f)}}j=g=y=0,m=p=1,b=l="",u=a;break;case 58:u=1+Gt(l),y=v;default:if(m<1)if(d==123)--m;else if(d==125&&m++==0&&oI()==125)continue;switch(l+=Kr(d),d*m){case 38:p=g>0?1:(l+="",-1);break;case 44:r[j++]=(Gt(l)-1)*p,p=1;break;case 64:Qn()===45&&(l+=T0(Ye())),w=Qn(),g=u=Gt(b=l+=vI(Nr())),d++;break;case 45:v===45&&Gt(l)==2&&(m=0)}}return i}function bp(e,t,n,s,o,i,a,r,c,l,d){m=o-1,u=o===0?i:[""],p=dg(u);for(var u,m,p,f=0,g=0,j=0;f<s;++f)for(var h=0,v=qi(e,m+1,m=wg(g=a[f])),b=e;h<p;++h)(b=yg(g>0?u[h]+" "+v:l0(v,/&\f/g,u[h])))&&(c[j++]=b);return w0(e,t,n,o===0?n0:r,c,l,d)}function EI(e,t,n){return w0(e,t,n,t0,Kr(eI()),qi(e,2,-2),0)}function mp(e,t,n,s){return w0(e,t,n,s0,qi(e,0,s),qi(e,s+1,-1),s)}function $0(e,t){for(var s="",o=dg(e),n=0;n<o;n++)s+=t(e[n],n,e,t)||"";return s}function FI(e,t,n,s){switch(e.type){case Dg:case s0:return e.return=e.return||e.value;case t0:return"";case Ag:return e.return=e.value+"{"+$0(e.children,s)+"}";case n0:e.value=e.props.join(",")}return Gt(n=$0(e.children,s))?e.return=e.value+"{"+n+"}":""}Cr={},w3(Cr,{run:()=>uR,undo:()=>lR});function TI(e){return e!=null&&typeof e=="object"}ze=TI,Z6="[object Symbol]";function NI(e){return typeof e=="symbol"||ze(e)&&kt(e)==Z6}ln=NI;function RI(e,t){for(var n=-1,s=e==null?0:e.length,o=Array(s);++n<s;)o[n]=t(e[n],n,e);return o}Tn=RI,E6=Array.isArray,E=E6,y6=1/0,n2=ye?ye.prototype:void 0,s2=n2?n2.toString:void 0;function f6(e){if(typeof e=="string")return e;if(E(e))return Tn(e,f6)+"";if(ln(e))return s2?s2.call(e):"";var t=e+"";return t=="0"&&1/e==-y6?"-0":t}d6=f6,Bf=/\s/;function eB(e){for(var t=e.length;t--&&Bf.test(e.charAt(t)););return t}Lf=eB,Mf=/^\s+/;function rB(e){return e&&e.slice(0,Lf(e)+1).replace(Mf,"")}wf=rB,h2=0/0,_f=/^[-+]0x[0-9a-f]+$/i,pf=/^0b[01]+$/i,ff=/^0o[0-7]+$/i,mf=parseInt;function lB(e){if(typeof e=="number")return e;if(ln(e))return h2;if(de(e)){var n,t=typeof e.valueOf=="function"?e.valueOf():e;e=de(t)?t+"":t}return typeof e!="string"?e===0?e:+e:(e=wf(e),n=pf.test(e),n||ff.test(e)?mf(e.slice(2),n?2:8):_f.test(e)?h2:+e)}df=lB,j2=1/0,lf=17976931348623157e292;function dB(e){if(!e)return e===0?e:0;if(e=df(e),e===j2||e===-j2){var t=e<0?-1:1;return t*lf}return e===e?e:0}oa=dB;function uB(e){var t=oa(e),n=t%1;return t===t?n?t-n:t:0}J8=uB;function fB(e){return e}mn=fB,q8=Qt(Ae,"WeakMap"),ur=q8,S2=Object.create,V8=function(){function e(){}return function(t){if(!de(t))return{};if(S2)return S2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),I8=V8;function yB(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}N8=yB;function xB(){}F8=xB;function EB(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}R2=EB,A8=800,k8=16,w8=Date.now;function FB(e){var t=0,n=0;return function(){var s=w8(),o=k8-(s-n);if(n=s,o>0){if(++t>=A8)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Qm=FB;function UB(e){return function(){return e}}St=UB,$m=function(){try{var e=Qt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ra=$m,Hm=ra?function(e,t){return ra(e,"toString",{configurable:!0,enumerable:!1,value:St(t),writable:!0})}:mn,Rm=Hm,zm=Qm(Rm),X2=zm;function cV(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e)===!1)break;return e}Z2=cV;function uV(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e3=uV;function mV(e){return e!==e}Om=mV;function bV(e,t,n){for(var s=n-1,o=e.length;++s<o;)if(e[s]===t)return s;return-1}hm=bV;function kV(e,t,n){return t===t?hm(e,t,n):e3(e,Om,n)}em=kV;function DV(e,t){var n=e==null?0:e.length;return!!n&&em(e,t,0)>-1}Kh=DV,Wh=9007199254740991,Ih=/^(?:0|[1-9]\d*)$/;function IV(e,t){var n=typeof e;return t=t??Wh,!!t&&(n=="number"||n!="symbol"&&Ih.test(e))&&e>-1&&e%1==0&&e<t}ba=IV;function BV(e,t,n){t=="__proto__"&&ra?ra(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ja=BV,Nh=Object.prototype,zh=Nh.hasOwnProperty;function VV(e,t,n){var s=e[t];(!zh.call(e,t)||!Wn(s,n)||n===void 0&&!(t in e))&&ja(e,t,n)}wa=VV;function $V(e,t,n,s){a=!n,n||(n={});for(var o,i,a,r=-1,c=t.length;++r<c;)o=t[r],i=s?s(n[o],e[o],o,n,e):void 0,i===void 0&&(i=e[o]),a?ja(n,o,i):wa(n,o,i);return n}Es=$V,_3=Math.max;function KV(e,t,n){return t=_3(t===void 0?e.length-1:t,0),function(){for(var o,i=arguments,s=-1,a=_3(i.length-t,0),r=Array(a);++s<a;)r[s]=i[t+s];for(s=-1,o=Array(t+1);++s<t;)o[s]=i[s];return o[t]=n(r),N8(e,this,o)}}O3=KV;function qV(e,t){return X2(O3(e,t,mn),e+"")}Ma=qV,J3=9007199254740991;function YV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=J3}Va=YV;function GV(e){return e!=null&&Va(e.length)&&!Zn(e)}Je=GV;function bF(e,t,n){if(!de(n))return!1;var s=typeof t;return!!(s=="number"?Je(n)&&ba(t,n.length):s=="string"&&t in n)&&Wn(n[t],e)}Cs=bF;function vF(e){return Ma(function(t,n){var a,i=-1,s=n.length,o=s>1?n[s-1]:void 0,r=s>2?n[2]:void 0,o=e.length>3&&typeof o=="function"?(s--,o):void 0;for(r&&Cs(n[0],n[1],r)&&(o=s<3?void 0:o,s=1),t=Object(t);++i<s;)a=n[i],a&&e(t,a,i,o);return t})}V3=vF,R3=Object.prototype;function kF(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||R3;return e===n}Io=kF;function oM(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}H3=oM,I3="[object Arguments]";function iM(e){return ze(e)&&kt(e)==I3}D3=iM,z3=Object.prototype,W3=z3.hasOwnProperty,U3=z3.propertyIsEnumerable,K3=D3(function(){return arguments}())?D3:function(e){return ze(e)&&W3.call(e,"callee")&&!U3.call(e,"callee")},ds=K3;function wF(){return!1}G3=wF,S3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,k3=S3&&typeof module=="object"&&module&&!module.nodeType&&module,Z3=k3&&k3.exports===S3,E3=Z3?Ae.Buffer:void 0,eh=E3?E3.isBuffer:void 0,th=eh||G3,ts=th,sh="[object Arguments]",oh="[object Array]",ih="[object Boolean]",ah="[object Date]",rh="[object Error]",ch="[object Function]",lh="[object Map]",dh="[object Number]",uh="[object Object]",hh="[object RegExp]",mh="[object Set]",fh="[object String]",ph="[object WeakMap]",gh="[object ArrayBuffer]",vh="[object DataView]",bh="[object Float32Array]",jh="[object Float64Array]",yh="[object Int8Array]",_h="[object Int16Array]",wh="[object Int32Array]",Oh="[object Uint8Array]",xh="[object Uint8ClampedArray]",Ch="[object Uint16Array]",Eh="[object Uint32Array]",y={},y[bh]=y[jh]=y[yh]=y[_h]=y[wh]=y[Oh]=y[xh]=y[Ch]=y[Eh]=!0,y[sh]=y[oh]=y[gh]=y[ih]=y[vh]=y[ah]=y[rh]=y[ch]=y[lh]=y[dh]=y[uh]=y[hh]=y[mh]=y[fh]=y[ph]=!1;function UV(e){return ze(e)&&Va(e.length)&&!!y[kt(e)]}Sh=UV;function WV(e){return function(t){return e(t)}}Oa=WV,v3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ts=v3&&typeof module=="object"&&module&&!module.nodeType&&module,Dh=Ts&&Ts.exports===v3,qa=Dh&&Ju.process,Lh=function(){try{var e=Ts&&Ts.require&&Ts.require("util").types;return e||qa&&qa.binding&&qa.binding("util")}catch{}}(),Yn=Lh,u3=Yn&&Yn.isTypedArray,Hh=u3?Oa(u3):Sh,va=Hh,Bh=Object.prototype,Vh=Bh.hasOwnProperty;function HV(e,t){var n,s=E(e),o=!s&&ds(e),i=!s&&!o&&ts(e),r=!s&&!o&&!i&&va(e),c=s||o||i||r,a=c?H3(e.length,String):[],l=a.length;for(n in e)(t||Vh.call(e,n))&&!(c&&(n=="length"||i&&(n=="offset"||n=="parent")||r&&(n=="buffer"||n=="byteLength"||n=="byteOffset")||ba(n,l)))&&a.push(n);return a}l3=HV;function PV(e,t){return function(n){return e(t(n))}}c3=PV,qh=c3(Object.keys,Object),Yh=qh,Gh=Object.prototype,Xh=Gh.hasOwnProperty;function RV(e){if(!Io(e))return Yh(e);var t,n=[];for(t in Object(e))Xh.call(e,t)&&t!="constructor"&&n.push(t);return n}Xa=RV;function TV(e){return Je(e)?l3(e):Xa(e)}fe=TV;function FV(e){var n,t=[];if(e!=null)for(n in Object(e))t.push(n);return t}nm=FV,sm=Object.prototype,om=sm.hasOwnProperty;function SV(e){if(!de(e))return nm(e);var t,s=Io(e),n=[];for(t in e)t=="constructor"&&(s||!om.call(e,t))||n.push(t);return n}am=SV;function AV(e){return Je(e)?l3(e,!0):am(e)}cn=AV,lm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dm=/^\w*$/;function xV(e,t){if(E(e))return!1;var n=typeof e;return!!(n=="number"||n=="symbol"||n=="boolean"||e==null||ln(e))||dm.test(e)||!lm.test(e)||t!=null&&e in Object(t)}Qa=xV,mm=500;function OV(e){var t=$i(e,function(e){return n.size===mm&&n.clear(),e}),n=t.cache;return t}pm=OV,gm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vm=/\\(\\)?/g,bm=pm(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gm,function(e,n,s,o){t.push(s?o.replace(vm,"$1"):n||e)}),t}),jm=bm;function _V(e){return e==null?"":d6(e)}s3=_V;function pV(e,t){return E(e)?e:Qa(e,t)?[e]:jm(s3(e))}ga=pV,xm=1/0;function fV(e){if(typeof e=="string"||ln(e))return e;var t=e+"";return t=="0"&&1/e==-xm?"-0":t}zs=fV;function hV(e,t){t=ga(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[zs(t[n++])];return n&&n==s?e:void 0}ha=hV;function dV(e,t,n){var s=e==null?void 0:ha(e,t);return s===void 0?n:s}Mm=dV;function lV(e,t){for(var n=-1,s=t.length,o=e.length;++n<s;)e[o+n]=t[n];return e}Ja=lV,G2=ye?ye.isConcatSpreadable:void 0;function iV(e){return E(e)||ds(e)||!!(G2&&e&&e[G2])}Nm=iV;function Lm(e,t,n,s,o){var i,a=-1,r=e.length;for(n||(n=Nm),o||(o=[]);++a<r;)i=e[a],t>0&&n(i)?t>1?Lm(i,t-1,n,s,o):Ja(o,i):s||(o[o.length]=i);return o}er=Lm;function GB(e){var t=e==null?0:e.length;return t?er(e,1):[]}Nn=GB;function KB(e){return X2(O3(e,void 0,Nn),e+"")}Bm=KB,Vm=c3(Object.getPrototypeOf,Object),tr=Vm,Wm="[object Object]",Um=Function.prototype,Km=Object.prototype,$2=Um.toString,Ym=Km.hasOwnProperty,Gm=$2.call(Object);function WB(e){if(!ze(e)||kt(e)!=Wm)return!1;var t,n=tr(e);return n===null||(t=Ym.call(n,"constructor")&&n.constructor,typeof t=="function"&&t instanceof t&&$2.call(t)==Gm)}V2=WB,Zm="\\ud800-\\udfff",Jm="\\u0300-\\u036f",e8="\\ufe20-\\ufe2f",t8="\\u20d0-\\u20ff",n8=Jm+e8+t8,s8="\\ufe0e\\ufe0f",o8="\\u200d",i8=RegExp("["+o8+Zm+n8+s8+"]");function $B(e){return i8.test(e)}r8=$B;function VB(e,t,n,s){var o=-1,i=e==null?0:e.length;for(s&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}l8=VB;function HB(){this.__data__=new ki,this.size=0}u8=HB;function PB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}m8=PB;function RB(e){return this.__data__.get(e)}p8=RB;function zB(e){return this.__data__.has(e)}v8=zB,b8=200;function TB(e,t){var s,n=this.__data__;if(n instanceof ki){if(s=n.__data__,!Zs||s.length<b8-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vi(s)}return n.set(e,t),this.size=n.size,this}y8=TB;function Is(e){var t=this.__data__=new ki(e);this.size=t.size}Is.prototype.clear=u8,Is.prototype.delete=m8,Is.prototype.get=p8,Is.prototype.has=v8,Is.prototype.set=y8,An=Is;function AB(e,t){return e&&Es(t,fe(t),e)}x8=AB;function kB(e,t){return e&&Es(t,cn(t),e)}E8=kB,H2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,P2=H2&&typeof module=="object"&&module&&!module.nodeType&&module,S8=P2&&P2.exports===H2,L2=S8?Ae.Buffer:void 0,N2=L2?L2.allocUnsafe:void 0;function CB(e,t){if(t)return e.slice();var n=e.length,s=N2?N2(n):new e.constructor(n);return e.copy(s),s}D2=CB;function OB(e,t){for(var s,n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;)s=e[n],t(s,n,e)&&(o[a++]=s);return o}z2=OB;function _B(){return[]}T2=_B,P8=Object.prototype,H8=P8.propertyIsEnumerable,F2=Object.getOwnPropertySymbols,B8=F2?function(e){return e==null?[]:(e=Object(e),z2(F2(e),function(t){return H8.call(e,t)}))}:T2,ar=B8;function vB(e,t){return Es(e,ar(e),t)}W8=vB,U8=Object.getOwnPropertySymbols,K8=U8?function(e){for(var t=[];e;)Ja(t,ar(e)),e=tr(e);return t}:T2,k2=K8;function gB(e,t){return Es(e,k2(e),t)}G8=gB;function pB(e,t,n){var s=t(e);return E(e)?s:Ja(s,n(e))}C2=pB;function mB(e){return C2(e,fe,ar)}hr=mB;function hB(e){return C2(e,cn,k2)}tf=hB,nf=Qt(Ae,"DataView"),pr=nf,af=Qt(Ae,"Promise"),vr=af,cf=Qt(Ae,"Set"),xn=cf,b2="[object Map]",uf="[object Object]",v2="[object Promise]",g2="[object Set]",p2="[object WeakMap]",f2="[object DataView]",gf=tn(pr),vf=tn(Zs),bf=tn(vr),jf=tn(xn),yf=tn(ur),gn=kt,(pr&&gn(new pr(new ArrayBuffer(1)))!=f2||Zs&&gn(new Zs)!=b2||vr&&gn(vr.resolve())!=v2||xn&&gn(new xn)!=g2||ur&&gn(new ur)!=p2)&&(gn=function(e){var t=kt(e),n=t==uf?e.constructor:void 0,s=n?tn(n):"";if(s)switch(s){case gf:return f2;case vf:return b2;case bf:return v2;case jf:return g2;case yf:return p2}return t}),Yt=gn,Of=Object.prototype,xf=Of.hasOwnProperty;function cB(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&xf.call(e,"index")&&(t.index=e.index,t.input=e.input),t}Ef=cB,kf=Ae.Uint8Array,na=kf;function aB(e){var t=new e.constructor(e.byteLength);return new na(t).set(new na(e)),t}yr=aB;function sB(e,t){var n=t?yr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}Tf=sB,zf=/\w*$/;function nB(e){var t=new e.constructor(e.source,zf.exec(e));return t.lastIndex=e.lastIndex,t}Nf=nB,c2=ye?ye.prototype:void 0,r2=c2?c2.valueOf:void 0;function JI(e){return r2?Object(r2.call(e)):{}}Hf=JI;function ZI(e,t){var n=t?yr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}a2=ZI,Vf="[object Boolean]",$f="[object Date]",Wf="[object Map]",Uf="[object Number]",Kf="[object RegExp]",qf="[object Set]",Yf="[object String]",Gf="[object Symbol]",Xf="[object ArrayBuffer]",Qf="[object DataView]",Zf="[object Float32Array]",Jf="[object Float64Array]",e6="[object Int8Array]",t6="[object Int16Array]",n6="[object Int32Array]",s6="[object Uint8Array]",o6="[object Uint8ClampedArray]",i6="[object Uint16Array]",a6="[object Uint32Array]";function QI(e,t,n){var s=e.constructor;switch(t){case Xf:return yr(e);case Vf:case $f:return new s(+e);case Qf:return Tf(e,n);case Zf:case Jf:case e6:case t6:case n6:case s6:case o6:case i6:case a6:return a2(e,n);case Wf:return new s;case Uf:case Yf:return new s(e);case Kf:return Nf(e);case qf:return new s;case Gf:return Hf(e)}}c6=QI;function qI(e){return typeof e.constructor=="function"&&!Io(e)?I8(tr(e)):{}}i2=qI,u6="[object Map]";function KI(e){return ze(e)&&Yt(e)==u6}m6=KI,o2=Yn&&Yn.isMap,p6=o2?Oa(o2):m6,g6=p6,v6="[object Set]";function $I(e){return ze(e)&&Yt(e)==v6}j6=$I,t2=Yn&&Yn.isSet,_6=t2?Oa(t2):j6,w6=_6,O6=1,x6=2,C6=4,J0="[object Arguments]",k6="[object Array]",A6="[object Boolean]",S6="[object Date]",M6="[object Error]",Q0="[object Function]",T6="[object GeneratorFunction]",z6="[object Map]",D6="[object Number]",G0="[object Object]",L6="[object RegExp]",R6="[object Set]",P6="[object String]",H6="[object Symbol]",I6="[object WeakMap]",B6="[object ArrayBuffer]",V6="[object DataView]",$6="[object Float32Array]",W6="[object Float64Array]",U6="[object Int8Array]",K6="[object Int16Array]",q6="[object Int32Array]",Y6="[object Uint8Array]",G6="[object Uint8ClampedArray]",X6="[object Uint16Array]",Q6="[object Uint32Array]",j={},j[J0]=j[k6]=j[B6]=j[V6]=j[A6]=j[S6]=j[$6]=j[W6]=j[U6]=j[K6]=j[q6]=j[z6]=j[D6]=j[G0]=j[L6]=j[R6]=j[P6]=j[H6]=j[Y6]=j[G6]=j[X6]=j[Q6]=!0,j[M6]=j[Q0]=j[I6]=!1;function xr(e,t,n,s,o,i){var a,r,d,u,h,m,f,c=t&O6,l=t&x6,p=t&C6;if(n&&(a=o?n(e,s,o,i):n(e)),a!==void 0)return a;if(!de(e))return e;if(d=E(e),d){if(a=Ef(e),!c)return R2(e,a)}else{if(r=Yt(e),u=r==Q0||r==T6,ts(e))return D2(e,c);if(r==G0||r==J0||u&&!o){if(a=l||u?{}:i2(e),!c)return l?G8(e,E8(a,e)):W8(e,x8(a,e))}else{if(!j[r])return o?e:{};a=c6(e,r,c)}}return i||(i=new An),h=i.get(e),h||(i.set(e,a),w6(e)?e.forEach(function(s){a.add(xr(s,t,n,s,e,i))}):g6(e)&&e.forEach(function(s,o){a.set(o,xr(s,t,n,o,e,i))}),f=p?l?tf:hr:l?cn:fe,m=d?void 0:f(e),Z2(m||e,function(s,o){m&&(o=s,s=e[o]),wa(a,o,xr(s,t,n,o,e,i))}),a)}W0=xr,tp=4;function MI(e){return W0(e,tp)}sp=MI,op=1,ip=4;function SI(e){return W0(e,op|ip)}rp=SI,cp="__lodash_hash_undefined__";function AI(e){return this.__data__.set(e,cp),this}dp=AI;function kI(e){return this.__data__.has(e)}hp=kI;function kr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vi;++t<n;)this.add(e[t])}kr.prototype.add=kr.prototype.push=dp,kr.prototype.has=hp,B0=kr;function CI(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}gp=CI;function OI(e,t){return e.has(t)}I0=OI,jp=1,yp=2;function wI(e,t,n,s,o,i){var a,c,u,h,f,p=n&jp,d=e.length,g=t.length;if(d!=g&&!(p&&g>d))return!1;if(u=i.get(e),h=i.get(t),u&&h)return u==t&&h==e;var r=-1,l=!0,m=n&yp?new B0:void 0;for(i.set(e,t),i.set(t,e);++r<d;){if(a=e[r],c=t[r],s&&(f=p?s(c,a,r,t,e,i):s(a,c,r,e,t,i)),f!==void 0){if(f)continue;l=!1;break}if(m){if(!gp(t,function(e,t){if(!I0(m,t)&&(a===e||o(a,e,n,s,i)))return m.push(t)})){l=!1;break}}else if(a!==c&&!o(a,c,n,s,i)){l=!1;break}}return i.delete(e),i.delete(t),l}P0=wI;function jI(e){var n=-1,t=Array(e.size);return e.forEach(function(e,s){t[++n]=[s,e]}),t}xp=jI;function bI(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=e}),t}Mr=bI,kp=1,Ap=2,Sp="[object Boolean]",Mp="[object Date]",Fp="[object Error]",Tp="[object Map]",zp="[object Number]",Dp="[object RegExp]",Np="[object Set]",Lp="[object String]",Rp="[object Symbol]",Pp="[object ArrayBuffer]",Hp="[object DataView]",L0=ye?ye.prototype:void 0,zr=L0?L0.valueOf:void 0;function hI(e,t,n,s,o,i,a){switch(n){case Hp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pp:return e.byteLength==t.byteLength&&!!i(new na(e),new na(t));case Sp:case Mp:case zp:return Wn(+e,+t);case Fp:return e.name==t.name&&e.message==t.message;case Dp:case Lp:return e==t+"";case Tp:var c,l,d,r=xp;case Np:return l=s&kp,r||(r=Mr),!(e.size!=t.size&&!l)&&(c=a.get(e),c?c==t:(s|=Ap,a.set(e,t),d=P0(r(e),r(t),s,o,i,a),a.delete(e),d));case Rp:if(zr)return zr.call(e)==zr.call(t)}return!1}$p=hI,Wp=1,Up=Object.prototype,Kp=Up.hasOwnProperty;function dI(e,t,n,s,o,i){var a,r,c,l,d,u,h,m,p,g,v,f=n&Wp,j=hr(e),b=j.length,_=hr(t),y=_.length;if(b!=y&&!f)return!1;for(h=b;h--;)if(a=j[h],!(f?a in t:Kp.call(t,a)))return!1;if(g=i.get(e),p=i.get(t),g&&p)return g==t&&p==e;for(r=!0,i.set(e,t),i.set(t,e),m=f;++h<b;){if(a=j[h],u=e[a],d=t[a],s&&(v=f?s(d,u,a,t,e,i):s(u,d,a,e,t,i)),!(v===void 0?u===d||o(u,d,n,s,i):v)){r=!1;break}m||(m=a=="constructor")}return r&&!m&&(l=e.constructor,c=t.constructor,l!=c&&"constructor"in e&&"constructor"in t&&!(typeof l=="function"&&l instanceof l&&typeof c=="function"&&c instanceof c)&&(r=!1)),i.delete(e),i.delete(t),r}Yp=dI,Gp=1,z0="[object Arguments]",F0="[object Array]",Qi="[object Object]",Jp=Object.prototype,x0=Jp.hasOwnProperty;function tI(e,t,n,s,o,i){var u,h,m,f,c=E(e),p=E(t),a=c?F0:Yt(e),r=p?F0:Yt(t),a=a==z0?Qi:a,r=r==z0?Qi:r,l=a==Qi,g=r==Qi,d=a==r;if(d&&ts(e)){if(!ts(t))return!1;c=!0,l=!1}return d&&!l?(i||(i=new An),c||va(e)?P0(e,t,n,s,o,i):$p(e,t,a,n,s,o,i)):!(n&Gp)&&(u=l&&x0.call(e,"__wrapped__"),h=g&&x0.call(t,"__wrapped__"),u||h)?(m=u?e.value():e,f=h?t.value():t,i||(i=new An),o(m,f,n,s,i)):!!d&&(i||(i=new An),Yp(e,t,n,s,o,i))}ng=tI;function sg(e,t,n,s,o){return e===t||(e==null||t==null||!ze(e)&&!ze(t)?e!==e&&t!==t:ng(e,t,n,s,sg,o))}O0=sg,ig=1,ag=2;function JH(e,t,n,s){var o,c,l,i=n.length,d=i,u=!s;if(e==null)return!d;for(e=Object(e);i--;)if(o=n[i],u&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++i<d;){o=n[i];var a=o[0],r=e[a],h=o[1];if(u&&o[2]){if(r===void 0&&!(a in e))return!1}else if(c=new An,s&&(l=s(r,h,a,e,t,c)),!(l===void 0?O0(h,r,ig|ag,s,c):l))return!1}return!0}cg=JH;function ZH(e){return e===e&&!de(e)}f0=ZH;function QH(e){for(var s,o,t=fe(e),n=t.length;n--;)s=t[n],o=e[s],t[n]=[s,o,f0(o)];return t}hg=QH;function XH(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}d0=XH;function YH(e){var t=hg(e);return t.length==1&&t[0][2]?d0(t[0][0],t[0][1]):function(n){return n===e||cg(n,e,t)}}gg=YH;function qH(e,t){return e!=null&&t in Object(e)}bg=qH;function KH(e,t,n){t=ga(t,e);for(var o,i=-1,s=t.length,a=!1;++i<s;){if(o=zs(t[i]),!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&Va(s)&&ba(o,s)&&(E(e)||ds(e)))}c0=KH;function UH(e,t){return e!=null&&c0(e,t,bg)}a0=UH,Og=1,xg=2;function $H(e,t){return Qa(e)&&f0(t)?d0(zs(e),t):function(n){var s=Mm(n,e);return s===void 0&&s===t?a0(n,e):O0(t,s,Og|xg)}}Eg=$H;function VH(e){return function(t){return t?.[e]}}i0=VH;function HH(e){return function(t){return ha(t,e)}}Mg=HH;function PH(e){return Qa(e)?i0(zs(e)):Mg(e)}Tg=PH;function RH(e){return typeof e=="function"?e:e==null?mn:typeof e=="object"?E(e)?Eg(e[0],e[1]):gg(e):Tg(e)}Dt=RH;function LH(e){return function(t,n,s){for(var o,c=-1,i=Object(t),a=s(t),r=a.length;r--;)if(o=a[e?r:++c],n(i[o],o,i)===!1)break;return t}}Lg=LH,Rg=Lg(),Gr=Rg;function NH(e,t){return e&&Gr(e,t,fe)}G4=NH;function zH(e,t){return function(n,s){if(n==null)return n;if(!Je(n))return e(n,s);for(var i=n.length,o=t?i:-1,a=Object(n);t?o--:++o<i;)if(s(a[o],o,a)===!1)break;return n}}Vg=zH,$g=Vg(G4),Ii=$g,Ug=function(){return Ae.Date.now()},q4=Ug,K4=Object.prototype,Yg=K4.hasOwnProperty,Gg=Ma(function(e,t){e=Object(e);var n,o,i,a,r,d,c=-1,s=t.length,l=s>2?t[2]:void 0;for(l&&Cs(t[0],t[1],l)&&(s=1);++c<s;)for(o=t[c],i=cn(o),a=-1,d=i.length;++a<d;)n=i[a],r=e[n],(r===void 0||Wn(r,K4[n])&&!Yg.call(e,n))&&(e[n]=o[n]);return e}),On=Gg;function wH(e,t,n){(n!==void 0&&!Wn(e[t],n)||n===void 0&&!(t in e))&&ja(e,t,n)}ec=wH;function yH(e){return ze(e)&&Je(e)}$4=yH;function jH(e,t){if(t==="constructor"&&typeof e[t]=="function")return;if(t=="__proto__")return;return e[t]}nc=jH;function pH(e){return Es(e,cn(e))}o5=pH;function mH(e,t,n,s,o,i,a){var c,d,l=nc(e,n),r=nc(t,n),m=a.get(r);if(m){ec(e,n,m);return}if(c=i?i(l,r,n+"",e,t,a):void 0,d=c===void 0,d){var u=E(r),h=!u&&ts(r),f=!u&&!h&&va(r);c=r,u||h||f?E(l)?c=l:$4(l)?c=R2(l):h?(d=!1,c=D2(r,!0)):f?(d=!1,c=a2(r,!0)):c=[]:V2(r)||ds(r)?(c=l,ds(l)?c=o5(l):(!de(l)||Zn(l))&&(c=i2(r))):d=!1}d&&(a.set(r,c),o(c,r,s,i,a),a.delete(r)),ec(e,n,c)}a5=mH;function r5(e,t,n,s,o){if(e===t)return;Gr(t,function(i,a){if(o||(o=new An),de(i))a5(e,t,a,n,r5,s,o);else{var r=s?s(nc(e,a),i,a+"",e,t,o):void 0;r===void 0&&(r=i),ec(e,a,r)}},cn)}c5=r5;function hH(e,t,n){for(var s=-1,o=e==null?0:e.length;++s<o;)if(n(t,e[s]))return!0;return!1}d5=hH;function uH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}zi=uH;function cH(e){return typeof e=="function"?e:mn}H4=cH;function sH(e,t){var n=E(e)?Z2:Ii;return n(e,H4(t))}o=sH;function tH(e,t){var n=[];return Ii(e,function(e,s,o){t(e,s,o)&&n.push(e)}),n}b5=tH;function eH(e,t){var n=E(e)?z2:b5;return n(e,Dt(t,3))}ht=eH;function JP(e){return function(t,n,s){var o,a,i=Object(t);return Je(t)||(a=Dt(n,3),t=fe(t),n=function(e){return a(i[e],e,i)}),o=e(t,n,s),o>-1?i[a?t[o]:o]:void 0}}w5=JP,O5=Math.max;function ZP(e,t,n){var s,o=e==null?0:e.length;return o?(s=n==null?0:J8(n),s<0&&(s=O5(o+s,0)),e3(e,Dt(t,3),s)):-1}C5=ZP,E5=w5(C5),ac=E5;function VP(e,t){var s=-1,n=Je(e)?Array(e.length):[];return Ii(e,function(e,o,i){n[++s]=t(e,o,i)}),n}D4=VP;function BP(e,t){var n=E(e)?Tn:D4;return n(e,Dt(t,3))}T=BP;function PP(e,t){return e==null?e:Gr(e,H4(t),cn)}z5=PP;function LP(e,t){return e>t}N5=LP,L5=Object.prototype,R5=L5.hasOwnProperty;function NP(e,t){return e!=null&&R5.call(e,t)}H5=NP;function FP(e,t){return e!=null&&c0(e,t,H5)}f=FP,V5="[object String]";function SP(e){return typeof e=="string"||!E(e)&&ze(e)&&kt(e)==V5}W5=SP;function kP(e,t){return Tn(t,function(t){return e[t]})}K5=kP;function CP(e){return e==null?[]:K5(e,fe(e))}ft=CP,G5="[object Map]",X5="[object Set]",Q5=Object.prototype,Z5=Q5.hasOwnProperty;function bP(e){if(e==null)return!0;if(Je(e)&&(E(e)||typeof e=="string"||typeof e.splice=="function"||ts(e)||va(e)||ds(e)))return!e.length;var n,t=Yt(e);if(t==G5||t==X5)return!e.size;if(Io(e))return!Xa(e).length;for(n in e)if(Z5.call(e,n))return!1;return!0}zn=bP;function lP(e){return e===void 0}M=lP;function iP(e,t){return e<t}E4=iP;function sP(e,t){var n={};return t=Dt(t,3),G4(e,function(e,s,o){ja(n,s,t(e,s,o))}),n}_i=sP;function nP(e,t,n){for(var s,o,i,r,a=-1,c=e.length;++a<c;)o=e[a],s=t(o),s!=null&&(i===void 0?s===s&&!ln(s):n(s,i))&&(i=s,r=o);return r}vc=nP;function eP(e){return e&&e.length?vc(e,mn,N5):void 0}rn=eP,u7=V3(function(e,t,n){c5(e,t,n)}),jc=u7;function JR(e){return e&&e.length?vc(e,mn,E4):void 0}uo=JR;function QR(e,t){return e&&e.length?vc(e,Dt(t,2),E4):void 0}yc=QR;function GR(e,t,n,s){if(!de(e))return e;t=ga(t,e);for(var o,a,c,r=-1,l=t.length,d=l-1,i=e;i!=null&&++r<l;){if(o=zs(t[r]),a=n,o==="__proto__"||o==="constructor"||o==="prototype")return e;r!=d&&(c=i[o],a=s?s(c,o,i):void 0,a===void 0&&(a=de(c)?c:ba(t[r+1])?[]:{})),wa(i,o,a),i=i[o]}return e}b7=GR;function YR(e,t,n){for(var s,o,i=-1,r=t.length,a={};++i<r;)s=t[i],o=ha(e,s),n(o,s)&&b7(a,ga(s,e),o);return a}y7=YR;function qR(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}w7=qR;function KR(e,t){if(e!==t){var a=e!==void 0,r=e===null,n=e===e,s=ln(e),c=t!==void 0,l=t===null,o=t===t,i=ln(t);if(!l&&!i&&!s&&e>t||s&&c&&o&&!l&&!i||r&&c&&o||!a&&o||!n)return 1;if(!r&&!s&&!i&&e<t||i&&a&&n&&!r&&!s||l&&a&&n||!c&&n||!o)return-1}return 0}x7=KR;function WR(e,t,n){for(var o,a,s=-1,i=e.criteria,r=t.criteria,c=i.length,l=n.length;++s<c;)if(o=x7(i[s],r[s]),o)return s>=l?o:(a=n[s],o*(a=="desc"?-1:1));return e.index-t.index}E7=WR;function BR(e,t,n){t.length?t=Tn(t,function(e){return E(e)?function(t){return ha(t,e.length===1?e[0]:e)}:e}):t=[mn];var s,o=-1;return t=Tn(t,Oa(Dt)),s=D4(e,function(e){var i=Tn(t,function(t){return t(e)});return{criteria:i,index:++o,value:e}}),w7(s,function(e,t){return E7(e,t,n)})}A7=BR,S7=i0("length"),M7=S7,v4="\\ud800-\\udfff",T7="\\u0300-\\u036f",z7="\\ufe20-\\ufe2f",D7="\\u20d0-\\u20ff",N7=T7+z7+D7,L7="\\ufe0e\\ufe0f",R7="["+v4+"]",_c="["+N7+"]",wc="\\ud83c[\\udffb-\\udfff]",I7="(?:"+_c+"|"+wc+")",h4="[^"+v4+"]",u4="(?:\\ud83c[\\udde6-\\uddff]){2}",d4="[\\ud800-\\udbff][\\udc00-\\udfff]",W7="\\u200d",l4=I7+"?",c4="["+L7+"]?",q7="(?:"+W7+"(?:"+[h4,u4,d4].join("|")+")"+c4+l4+")*",Y7=c4+l4+q7,G7="(?:"+[h4+_c+"?",_c,u4,d4,R7].join("|")+")",r4=RegExp(wc+"(?="+wc+")|"+G7+Y7,"g");function NR(e){for(var t=r4.lastIndex=0;r4.test(e);)++t;return t}Z7=NR;function DR(e){return r8(e)?Z7(e):M7(e)}ev=DR;function TR(e,t){return y7(e,t,function(t,n){return a0(e,n)})}nv=TR,N3=Bm(function(e,t){return e==null?{}:nv(e,t)}),po=N3,iv=Math.ceil,av=Math.max;function FR(e,t,n,s){for(var a=-1,o=av(iv((t-e)/(n||1)),0),i=Array(o);o--;)i[s?o:++a]=e,e+=n;return i}cv=FR;function MR(e){return function(t,n,s){return s&&typeof s!="number"&&Cs(t,n,s)&&(n=s=void 0),t=oa(t),n===void 0?(n=t,t=0):n=oa(n),s=s===void 0?t<n?1:-1:oa(s),cv(t,n,s,e)}}dv=MR,uv=dv(),on=uv;function AR(e,t,n,s,o){return o(e,function(e,o,i){n=s?(s=!1,e):t(n,e,o,i)}),n}fv=AR;function kR(e,t,n){var s=E(e)?l8:fv,o=arguments.length<3;return s(e,Dt(t,4),n,o,Ii)}bo=kR,vv="[object Map]",bv="[object Set]";function ER(e){if(e==null)return 0;if(Je(e))return W5(e)?ev(e):e.length;var t=Yt(e);return t==vv||t==bv?e.size:Xa(e).length}yv=ER,_v=Ma(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Cs(e,t[0],t[1])?t=[]:n>2&&Cs(t[0],t[1],t[2])&&(t=[t[0]]),A7(e,er(t,1),[])}),jo=_v,Ov=1/0,xv=xn&&1/Mr(new xn([,-0]))[1]==Ov?function(e){return new xn(e)}:F8,Cv=xv,Ev=200;function CR(e,t,n){var o,i,l,d,u=-1,r=Kh,h=e.length,c=!0,a=[],s=a;if(n)c=!1,r=d5;else if(h>=Ev){if(l=t?null:Cv(e),l)return Mr(l);c=!1,r=I0,s=new B0}else s=t?[]:a;outer:for(;++u<h;)if(o=e[u],i=t?t(o):o,o=n||o!==0?o:0,c&&i===i){for(d=s.length;d--;)if(s[d]===i)continue outer;t&&s.push(i),a.push(o)}else r(s,i,n)||(s!==a&&s.push(i),a.push(o));return a}Av=CR,Sv=Ma(function(e){return Av(er(e,1,$4,!0))}),Mv=Sv,Fv=0;function xR(e){var t=++Fv;return s3(e)+t}si=xR;function OR(e,t,n){for(var i,s=-1,a=e.length,r=t.length,o={};++s<a;)i=s<r?t[s]:void 0,n(o,e[s],i);return o}Nv=OR;function wR(e,t){return Nv(e||[],t||[],wa)}Rv=wR,Pv="\0",Zt="\0",e4="",D=class{constructor(e={}){this._isDirected=!f(e,"directed")||e.directed,this._isMultigraph=!!f(e,"multigraph")&&e.multigraph,this._isCompound=!!f(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=St(void 0),this._defaultEdgeLabelFn=St(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Zt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Zn(e)||(e=St(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return fe(this._nodes)}sources(){var e=this;return ht(this.nodes(),function(t){return zn(e._in[t])})}sinks(){var e=this;return ht(this.nodes(),function(t){return zn(e._out[t])})}setNodes(e,t){var s=arguments,n=this;return o(e,function(e){s.length>1?n.setNode(e,t):n.setNode(e)}),this}setNode(e,t){return f(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Zt,this._children[e]={},this._children[Zt][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return f(this._nodes,e)}removeNode(e){var n,t=this;return f(this._nodes,e)&&(n=function(e){t.removeEdge(t._edgeObjs[e])},delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),o(fe(this._in[e]),n),delete this._in[e],delete this._preds[e],o(fe(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount),this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(M(t))t=Zt;else{t+="";for(var n=t;!M(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==Zt)return t}}children(e){if(M(e)&&(e=Zt),this._isCompound){{var t=this._children[e];if(t)return fe(t)}}else if(e===Zt)return this.nodes();else if(this.hasNode(e))return[]}predecessors(e){var t=this._preds[e];if(t)return fe(t)}successors(e){var t=this._sucs[e];if(t)return fe(t)}neighbors(e){var t=this.predecessors(e);if(t)return Mv(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(e){var n,s,t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),s=this,o(this._nodes,function(n,s){e(s)&&t.setNode(s,n)}),o(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,s.edge(e))}),n={};function i(e){var o=s.parent(e);return o===void 0||t.hasNode(o)?(n[e]=o,o):o in n?n[o]:i(o)}return this._isCompound&&o(t.nodes(),function(e){t.setParent(e,i(e))}),t}setDefaultEdgeLabel(e){return Zn(e)||(e=St(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return ft(this._edgeObjs)}setPath(e,t){var n=this,s=arguments;return bo(e,function(e,o){return s.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o}),this}setEdge(){var e,t,n,o,i,a,r=!1,s=arguments[0];if(typeof s=="object"&&s!==null&&"v"in s?(e=s.v,t=s.w,n=s.name,arguments.length===2&&(a=arguments[1],r=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],r=!0)),e=""+e,t=""+t,M(n)||(n=""+n),o=ei(this._isDirected,e,t,n),f(this._edgeLabels,o))return r&&(this._edgeLabels[o]=a),this;if(!M(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");return this.setNode(e),this.setNode(t),this._edgeLabels[o]=r?a:this._defaultEdgeLabelFn(e,t,n),i=bR(this._isDirected,e,t,n),e=i.v,t=i.w,Object.freeze(i),this._edgeObjs[o]=i,Vv(this._preds[t],e),Vv(this._sucs[e],t),this._in[t][o]=i,this._out[e][o]=i,this._edgeCount++,this}edge(e,t,n){var s=arguments.length===1?X1(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n);return this._edgeLabels[s]}hasEdge(e,t,n){var s=arguments.length===1?X1(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n);return f(this._edgeLabels,s)}removeEdge(e,t,n){var s=arguments.length===1?X1(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n),o=this._edgeObjs[s];return o&&(e=o.v,t=o.w,delete this._edgeLabels[s],delete this._edgeObjs[s],$v(this._preds[t],e),$v(this._sucs[e],t),delete this._in[t][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,t){var n,s=this._in[e];if(s)return n=ft(s),t?ht(n,function(e){return e.v===t}):n}outEdges(e,t){var n,s=this._out[e];if(s)return n=ft(s),t?ht(n,function(e){return e.w===t}):n}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},D.prototype._nodeCount=0,D.prototype._edgeCount=0;function Vv(e,t){e[t]?e[t]++:e[t]=1}function $v(e,t){--e[t]||delete e[t]}function ei(e,t,n,s){var a,o=""+t,i=""+n;return!e&&o>i&&(a=o,o=i,i=a),o+e4+i+e4+(M(s)?Pv:s)}function bR(e,t,n,s){var a,r,o=""+t,i=""+n;return!e&&o>i&&(r=o,o=i,i=r),a={v:o,w:i},s&&(a.name=s),a}function X1(e,t){return ei(e,t.v,t.w,t.name)}qv=class{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return Yv(e),e}enqueue(e){var t=this._sentinel;e._prev&&e._next&&Yv(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var t=[],n=this._sentinel,e=n._prev;e!==n;)t.push(JSON.stringify(e,gR)),e=e._prev;return"["+t.join(", ")+"]"}};function Yv(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function gR(e,t){if(e!=="_next"&&e!=="_prev")return t}Xv=St(1);function pR(e,t){if(e.nodeCount()<=1)return[];var n=hR(e,t||Xv),s=fR(n.graph,n.buckets,n.zeroIdx);return Nn(T(s,function(t){return e.outEdges(t.v,t.w)}),!0)}function fR(e,t,n){for(var s,o,i=[],a=t[t.length-1],r=t[0];e.nodeCount();){for(;s=r.dequeue();)Y1(e,t,n,s);for(;s=a.dequeue();)Y1(e,t,n,s);if(e.nodeCount())for(o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){i=i.concat(Y1(e,t,n,s,!0));break}}return i}function Y1(e,t,n,s,i){var a=i?[]:void 0;return o(e.inEdges(s.v),function(s){var r=e.edge(s),o=e.node(s.v);i&&a.push({v:s.v,w:s.w}),o.out-=r,q1(t,n,o)}),o(e.outEdges(s.v),function(s){var i=e.edge(s),a=s.w,o=e.node(a);o.in-=i,q1(t,n,o)}),e.removeNode(s.v),a}function hR(e,t){var a,r,n=new D,s=0,i=0;return o(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),o(e.edges(),function(e){var a=n.edge(e.v,e.w)||0,o=t(e),r=a+o;n.setEdge(e.v,e.w,r),i=Math.max(i,n.node(e.v).out+=o),s=Math.max(s,n.node(e.w).in+=o)}),a=on(i+s+3).map(function(){return new qv}),r=s+1,o(n.nodes(),function(e){q1(a,r,n.node(e))}),{graph:n,buckets:a,zeroIdx:r}}function q1(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function uR(e){var t=e.graph().acyclicer==="greedy"?pR(e,n(e)):dR(e);o(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,si("rev"))});function n(e){return function(t){return e.edge(t).weight}}}function dR(e){var n=[],t={},s={};function i(a){if(f(s,a))return;s[a]=!0,t[a]=!0,o(e.outEdges(a),function(e){f(t,e.w)?n.push(e):i(e.w)}),delete t[a]}return o(e.nodes(),i),n}function lR(e){o(e.edges(),function(t){var s,n=e.edge(t);n.reversed&&(e.removeEdge(t),s=n.forwardName,delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,s))})}function _o(e,t,n,s){var o;do o=si(s);while(e.hasNode(o))return n.dummy=t,e.setNode(o,n),o}function rR(e){var t=(new D).setGraph(e.graph());return o(e.nodes(),function(n){t.setNode(n,e.node(n))}),o(e.edges(),function(n){var s=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:s.weight+o.weight,minlen:Math.max(s.minlen,o.minlen)})}),t}function r9(e){var t=new D({multigraph:e.isMultigraph()}).setGraph(e.graph());return o(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),o(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function c9(e,t){var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;if(!n&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=i*n/s,r=i):(n<0&&(o=-o),a=o,r=o*s/n),{x:c+a,y:l+r}}function kc(e){var t=T(on(m9(e)+1),function(){return[]});return o(e.nodes(),function(n){var s=e.node(n),o=s.rank;M(o)||(t[o][s.order]=n)}),t}function aR(e){var t=uo(T(e.nodes(),function(t){return e.node(t).rank}));o(e.nodes(),function(n){var s=e.node(n);f(s,"rank")&&(s.rank-=t)})}function iR(e){var n,s,i=uo(T(e.nodes(),function(t){return e.node(t).rank})),t=[];o(e.nodes(),function(n){var s=e.node(n).rank-i;t[s]||(t[s]=[]),t[s].push(n)}),n=0,s=e.graph().nodeRankFactor,o(t,function(t,i){M(t)&&i%s!==0?--n:n&&o(t,function(t){e.node(t).rank+=n})})}function h9(e,t,n,s){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=s),_o(e,"border",o,t)}function m9(e){return rn(T(e.nodes(),function(t){var n=e.node(t).rank;if(!M(n))return n}))}function oR(e,t){var n={lhs:[],rhs:[]};return o(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function sR(e,t){var n=q4();try{return t()}finally{console.log(e+" time: "+(q4()-n)+"ms")}}function nR(e,t){return t()}function tR(e){function t(n){if(a=e.children(n),s=e.node(n),a.length&&o(a,t),f(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var s,a,i=s.minRank,r=s.maxRank+1;i<r;++i)b9(e,"borderLeft","_bl",n,s,i),b9(e,"borderRight","_br",n,s,i)}}o(e.children(),t)}function b9(e,t,n,s,o,i){var c={width:0,height:0,rank:i,borderType:t},r=o[t][i-1],a=_o(e,"border",c,n);o[t][i]=a,e.setParent(a,s),r&&e.setEdge(r,a,{weight:1})}function JL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&_9(e)}function ZL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&QL(e),(t==="lr"||t==="rl")&&(YL(e),_9(e))}function _9(e){o(e.nodes(),function(t){w9(e.node(t))}),o(e.edges(),function(t){w9(e.edge(t))})}function w9(e){var t=e.width;e.width=e.height,e.height=t}function QL(e){o(e.nodes(),function(t){W1(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);o(n.points,W1),f(n,"y")&&W1(n)})}function W1(e){e.y=-e.y}function YL(e){o(e.nodes(),function(t){$1(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);o(n.points,$1),f(n,"x")&&$1(n)})}function $1(e){var t=e.x;e.x=e.y,e.y=t}function qL(e){var a,n=_o(e,"root",{},"_root"),s=KL(e),i=rn(ft(s))-1,t=2*i+1;e.graph().nestingRoot=n,o(e.edges(),function(n){e.edge(n).minlen*=t}),a=UL(e)+1,o(e.children(),function(o){A9(e,n,t,a,i,s,o)}),e.graph().nodeRankFactor=t}function A9(e,t,n,s,i,a,r){var c,l,d,u=e.children(r);if(!u.length){r!==t&&e.setEdge(t,r,{weight:0,minlen:n});return}c=h9(e,"_bt"),l=h9(e,"_bb"),d=e.node(r),e.setParent(c,r),d.borderTop=c,e.setParent(l,r),d.borderBottom=l,o(u,function(o){A9(e,t,n,s,i,a,o);var d=e.node(o),u=d.borderTop?d.borderTop:o,h=d.borderBottom?d.borderBottom:o,m=d.borderTop?s:2*s,f=u!==h?1:i-a[r]+1;e.setEdge(c,u,{weight:m,minlen:f,nestingEdge:!0}),e.setEdge(h,l,{weight:m,minlen:f,nestingEdge:!0})}),e.parent(r)||e.setEdge(t,c,{weight:0,minlen:i+a[r]})}function KL(e){var t={};function n(s,i){var a=e.children(s);a&&a.length&&o(a,function(e){n(e,i+1)}),t[s]=i}return o(e.children(),function(e){n(e,1)}),t}function UL(e){return bo(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function WL(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}function $L(e,t,n){var i,s={};o(n,function(n){for(var a,r,o=e.parent(n);o;){if(a=e.parent(o),a?(r=s[a],s[a]=o):(r=i,i=o),r&&r!==o){t.setEdge(r,o);return}o=a}})}function VL(e,t,n){var i=BL(e),s=new D({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return o(e.nodes(),function(a){var r=e.node(a),c=e.parent(a);(r.rank===t||r.minRank<=t&&t<=r.maxRank)&&(s.setNode(a),s.setParent(a,c||i),o(e[n](a),function(t){var n=t.v===a?t.w:t.v,o=s.edge(n,a),i=M(o)?0:o.weight;s.setEdge(n,a,{weight:e.edge(t).weight+i})}),f(r,"minRank")&&s.setNode(a,{borderLeft:r.borderLeft[t],borderRight:r.borderRight[t]}))}),s}function BL(e){for(var t;e.hasNode(t=si("_root")););return t}function IL(e,t){for(var s=0,n=1;n<t.length;++n)s+=lL(e,t[n-1],t[n]);return s}function lL(e,t,n){for(var i,a,r,c=Rv(n,T(n,function(e,t){return t})),l=Nn(T(t,function(t){return jo(T(e.outEdges(t),function(t){return{pos:c[t.w],weight:e.edge(t).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;return r=2*s-1,s-=1,i=T(new Array(r),function(){return 0}),a=0,o(l.forEach(function(e){var n,t=e.pos+s;for(i[t]+=e.weight,n=0;t>0;)t%2&&(n+=i[t+1]),t=t-1>>1,i[t]+=e.weight;a+=e.weight*n})),a}function PL(e){var a,t={},n=ht(e.nodes(),function(t){return!e.children(t).length}),r=rn(T(n,function(t){return e.node(t).rank})),s=T(on(r+1),function(){return[]});function i(n){if(f(t,n))return;t[n]=!0;var a=e.node(n);s[a.rank].push(n),o(e.successors(n),i)}return a=jo(n,function(t){return e.node(t).rank}),o(a,i),s}function RL(e,t){return T(t,function(t){var n,s=e.inEdges(t);return s.length?(n=bo(s,function(t,n){var s=e.edge(n),o=e.node(n.v);return{sum:t.sum+s.weight*o.order,weight:t.weight+s.weight}},{sum:0,weight:0}),{v:t,barycenter:n.sum/n.weight,weight:n.weight}):{v:t}})}function LL(e,t){var s,n={};return o(e,function(e,t){var s=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};M(e.barycenter)||(s.barycenter=e.barycenter,s.weight=e.weight)}),o(t.edges(),function(e){var t=n[e.v],s=n[e.w];!M(t)&&!M(s)&&(s.indegree++,t.out.push(n[e.w]))}),s=ht(n,function(e){return!e.indegree}),NL(s)}function NL(e){var t,n=[];function s(e){return function(t){if(t.merged)return;(M(t.barycenter)||M(e.barycenter)||t.barycenter>=e.barycenter)&&TL(e,t)}}function i(t){return function(n){n.in.push(t),--n.indegree===0&&e.push(n)}}for(;e.length;)t=e.pop(),n.push(t),o(t.in.reverse(),s(t)),o(t.out,i(t));return T(ht(n,function(e){return!e.merged}),function(e){return po(e,["vs","i","barycenter","weight"])})}function TL(e,t){var s=0,n=0;e.weight&&(s+=e.barycenter*e.weight,n+=e.weight),t.weight&&(s+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=s/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function FL(e,t){var a,r=oR(e,function(e){return f(e,"barycenter")}),c=r.lhs,l=jo(r.rhs,function(e){return-e.i}),s=[],d=0,i=0,n=0;return c.sort(ML(!!t)),n=$9(s,l,n),o(c,function(e){n+=e.vs.length,s.push(e.vs),d+=e.barycenter*e.weight,i+=e.weight,n=$9(s,l,n)}),a={vs:Nn(s,!0)},i&&(a.barycenter=d/i,a.weight=i),a}function $9(e,t,n){for(var s;t.length&&(s=zi(t)).i<=n;)t.pop(),e.push(s.vs),n++;return n}function ML(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}function U9(e,t,n,s){if(c=e.children(t),r=e.node(t),a=r?r.borderLeft:void 0,l=r?r.borderRight:void 0,d={},a&&(c=ht(c,function(e){return e!==a&&e!==l})),u=RL(e,c),o(u,function(t){if(e.children(t.v).length){var o=U9(e,t.v,n,s);d[t.v]=o,f(o,"barycenter")&&AL(t,o)}}),h=LL(u,n),SL(h,d),i=FL(h,s),a&&(i.vs=Nn([a,i.vs,l],!0),e.predecessors(a).length)){var i,a,r,c,l,d,u,h,m=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(l)[0]);f(i,"barycenter")||(i.barycenter=0,i.weight=0),i.barycenter=(i.barycenter*i.weight+m.order+p.order)/(i.weight+2),i.weight+=2}return i}function SL(e,t){o(e,function(e){e.vs=Nn(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}function AL(e,t){M(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function kL(e){var n,s,o,i,r,a=m9(e),c=G9(e,on(1,a+1),"inEdges"),l=G9(e,on(a-1,-1,-1),"outEdges"),t=PL(e);Q9(e,t),o=Number.POSITIVE_INFINITY;for(n=0,s=0;s<4;++n,++s)EL(n%2?c:l,n%4>=2),t=kc(e),i=IL(e,t),i<o&&(s=0,r=rp(t),o=i);Q9(e,r)}function G9(e,t,n){return T(t,function(t){return VL(e,t,n)})}function EL(e,t){var n=new D;o(e,function(e){var i=e.graph().root,s=U9(e,i,n,t);o(s.vs,function(t,n){e.node(t).order=n}),$L(e,n,s.vs)})}function Q9(e,t){o(t,function(t){o(t,function(t,n){e.node(t).order=n})})}function CL(e){var t=OL(e);o(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,l=xL(e,t,r.v,r.w),i=l.path,d=l.lca,s=0,o=i[s],c=!0;n!==r.w;){if(a=e.node(n),c){for(;(o=i[s])!==d&&e.node(o).maxRank<a.rank;)s++;o===d&&(c=!1)}if(!c){for(;s<i.length-1&&e.node(o=i[s+1]).minRank<=a.rank;)s++;o=i[s]}e.setParent(n,o),n=e.successors(n)[0]}})}function xL(e,t,n,s){var i,a=[],r=[],c=Math.min(t[n].low,t[s].low),l=Math.max(t[n].lim,t[s].lim),o=n;do o=e.parent(o),a.push(o);while(o&&(t[o].low>c||l>t[o].lim))for(i=o,o=s;(o=e.parent(o))!==i;)r.push(o);return{path:a.concat(r.reverse()),lca:i}}function OL(e){var t={},n=0;function s(i){var a=n;o(e.children(i),s),t[i]={low:a,lim:n++}}return o(e.children(),s),t}function wL(e,t){var n={};function s(t,s){var i=0,a=0,r=t.length,c=zi(s);return o(s,function(t,l){var d=yL(e,t),u=d?e.node(d).order:r;(d||t===c)&&(o(s.slice(a,l+1),function(t){o(e.predecessors(t),function(s){var o=e.node(s),a=o.order;(a<i||u<a)&&!(o.dummy&&e.node(t).dummy)&&ob(n,s,t)})}),a=l+1,i=u)}),s}return bo(t,s),n}function _L(e,t){var n={};function s(t,s,i,a,r){var c;o(on(s,i),function(s){c=t[s],e.node(c).dummy&&o(e.predecessors(c),function(t){var s=e.node(t);s.dummy&&(s.order<a||s.order>r)&&ob(n,t,c)})})}function i(t,n){var i,r=-1,a=0;return o(n,function(o,c){if(e.node(o).dummy==="border"){var l=e.predecessors(o);l.length&&(i=e.node(l[0]).order,s(n,a,c,r,i),a=c,r=i)}s(n,a,n.length,i,t.length)}),n}return bo(t,i),n}function yL(e,t){if(e.node(t).dummy)return ac(e.predecessors(t),function(t){return e.node(t).dummy})}function ob(e,t,n){if(t>n){var s,o=t;t=n,n=o}s=e[t],s||(e[t]=s={}),s[n]=!0}function jL(e,t,n){if(t>n){var s=t;t=n,n=s}return f(e[t],n)}function bL(e,t,n,s){var a={},i={},r={};return o(t,function(e){o(e,function(e,t){a[e]=e,i[e]=e,r[e]=t})}),o(t,function(e){var t=-1;o(e,function(e){if(o=s(e),o.length){o=jo(o,function(e){return r[e]}),l=(o.length-1)/2;for(var o,c,l,d=Math.floor(l),u=Math.ceil(l);d<=u;++d)c=o[d],i[e]===e&&t<r[c]&&!jL(n,e,c)&&(i[c]=e,i[e]=a[e]=a[c],t=r[c])}})}),{root:a,align:i}}function vL(e,t,n,s,i){var r={},a=gL(e,t,n,i),l=i?"borderLeft":"borderRight";function c(e,t){for(var s=a.nodes(),n=s.pop(),o={};n;)o[n]?e(n):(o[n]=!0,s.push(n),s=s.concat(t(n))),n=s.pop()}function d(e){r[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,r[t.v]+a.edge(t))},0)}function u(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,r[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),s=e.node(t);n!==Number.POSITIVE_INFINITY&&s.borderType!==l&&(r[t]=Math.max(r[t],n))}return c(d,a.predecessors.bind(a)),c(u,a.successors.bind(a)),o(s,function(e){r[e]=r[n[e]]}),r}function gL(e,t,n,s){var i=new D,a=e.graph(),r=uL(a.nodesep,a.edgesep,s);return o(t,function(t){var s;o(t,function(t){if(o=n[t],i.setNode(o),s){var o,a=n[s],c=i.edge(a,o);i.setEdge(a,o,Math.max(r(e,t,s),c||0))}s=t})}),i}function pL(e,t){return yc(ft(t),function(t){var n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return z5(t,function(t,o){var i=yF(e,o)/2;n=Math.max(t+i,n),s=Math.min(t-i,s)}),n-s})}function fL(e,t){var n=ft(t),s=uo(n),i=rn(n);o(["u","d"],function(n){o(["l","r"],function(o){var r,c,l=n+o,a=e[l];if(a===t)return;c=ft(a),r=o==="l"?s-uo(c):i-rn(c),r&&(e[l]=_i(a,function(e){return e+r}))})})}function mL(e,t){return _i(e.ul,function(n,s){if(t)return e[t.toLowerCase()][s];var o=jo(T(e,s));return(o[1]+o[2])/2})}function hL(e){var t,i,n=kc(e),a=jc(wL(e,n),_L(e,n)),s={};return o(["u","d"],function(i){t=i==="u"?n:ft(n).reverse(),o(["l","r"],function(n){n==="r"&&(t=T(t,function(e){return ft(e).reverse()}));var c=(i==="u"?e.predecessors:e.successors).bind(e),r=bL(e,t,a,c),o=vL(e,t,r.root,r.align,n==="r");n==="r"&&(o=_i(o,function(e){return-e})),s[i+n]=o})}),i=pL(e,s),fL(s,i),mL(s,e.graph().align)}function uL(e,t,n){return function(s,o,i){var a,c=s.node(o),l=s.node(i),r=0;if(r+=c.width/2,f(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2;break}if(a&&(r+=n?a:-a),a=0,r+=(c.dummy?t:e)/2,r+=(l.dummy?t:e)/2,r+=l.width/2,f(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2;break}return a&&(r+=n?a:-a),a=0,r}}function yF(e,t){return e.node(t).width}function iL(e){e=r9(e),oL(e),o(hL(e),function(t,n){e.node(n).x=t})}function oL(e){var n=kc(e),s=e.graph().ranksep,t=0;o(n,function(n){var i=rn(T(n,function(t){return e.node(t).height}));o(n,function(n){e.node(n).y=t+i/2}),t+=i+s})}function Co(e,t){var n=t&&t.debugTiming?sR:nR;n("layout",function(){var t=n("  buildLayoutGraph",function(){return eL(e)});n("  runLayout",function(){nL(t,n)}),n("  updateInputGraph",function(){tL(e,t)})})}function nL(e,t){t("    makeSpaceForEdgeLabels",function(){QN(e)}),t("    removeSelfEdges",function(){IN(e)}),t("    acyclic",function(){Cr.run(e)}),t("    nestingGraph.run",function(){qL(e)}),t("    rank",function(){gN(r9(e))}),t("    injectEdgeLabelProxies",function(){XN(e)}),t("    removeEmptyRanks",function(){iR(e)}),t("    nestingGraph.cleanup",function(){WL(e)}),t("    normalizeRanks",function(){aR(e)}),t("    assignRankMinMax",function(){GN(e)}),t("    removeEdgeLabelProxies",function(){YN(e)}),t("    normalize.run",function(){Sc.run(e)}),t("    parentDummyChains",function(){CL(e)}),t("    addBorderSegments",function(){tR(e)}),t("    order",function(){kL(e)}),t("    insertSelfEdges",function(){PN(e)}),t("    adjustCoordinateSystem",function(){JL(e)}),t("    position",function(){iL(e)}),t("    positionSelfEdges",function(){RN(e)}),t("    removeBorderNodes",function(){BN(e)}),t("    normalize.undo",function(){Sc.undo(e)}),t("    fixupEdgeLabelCoords",function(){UN(e)}),t("    undoCoordinateSystem",function(){ZL(e)}),t("    translateGraph",function(){qN(e)}),t("    assignNodeIntersects",function(){KN(e)}),t("    reversePoints",function(){WN(e)}),t("    acyclic.undo",function(){Cr.undo(e)})}function tL(e,t){o(e.nodes(),function(n){var s=e.node(n),o=t.node(n);s&&(s.x=o.x,s.y=o.y,t.children(n).length&&(s.width=o.width,s.height=o.height))}),o(e.edges(),function(n){var o=e.edge(n),s=t.edge(n);o.points=s.points,f(s,"x")&&(o.x=s.x,o.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}yb=["nodesep","edgesep","ranksep","marginx","marginy"],_b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},wb=["acyclicer","ranker","rankdir","align"],Ob=["width","height"],xb={width:0,height:0},Cb=["minlen","weight","width","height","labeloffset"],Eb={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},kb=["labelpos"];function eL(e){var t=new D({multigraph:!0,compound:!0}),n=I1(e.graph());return t.setGraph(jc({},_b,B1(n,yb),po(n,wb))),o(e.nodes(),function(n){var s=I1(e.node(n));t.setNode(n,On(B1(s,Ob),xb)),t.setParent(n,e.parent(n))}),o(e.edges(),function(n){var s=I1(e.edge(n));t.setEdge(n,jc({},Eb,B1(s,Cb),po(s,kb)))}),t}function QN(e){var t=e.graph();t.ranksep/=2,o(e.edges(),function(n){var s=e.edge(n);s.minlen*=2,s.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?s.width+=s.labeloffset:s.height+=s.labeloffset)})}function XN(e){o(e.edges(),function(t){var n,o,i,s=e.edge(t);s.width&&s.height&&(n=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-n.rank)/2+n.rank,e:t},_o(e,"edge-proxy",i,"_ep"))})}function GN(e){var t=0;o(e.nodes(),function(n){var s=e.node(n);s.borderTop&&(s.minRank=e.node(s.borderTop).rank,s.maxRank=e.node(s.borderBottom).rank,t=rn(t,s.maxRank))}),e.graph().maxRank=t}function YN(e){o(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function qN(e){var t=Number.POSITIVE_INFINITY,i=0,n=Number.POSITIVE_INFINITY,a=0,s=e.graph(),r=s.marginx||0,c=s.marginy||0;function l(e){var s=e.x,o=e.y,r=e.width,c=e.height;t=Math.min(t,s-r/2),i=Math.max(i,s+r/2),n=Math.min(n,o-c/2),a=Math.max(a,o+c/2)}o(e.nodes(),function(t){l(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);f(n,"x")&&l(n)}),t-=r,n-=c,o(e.nodes(),function(s){var o=e.node(s);o.x-=t,o.y-=n}),o(e.edges(),function(s){var i=e.edge(s);o(i.points,function(e){e.x-=t,e.y-=n}),f(i,"x")&&(i.x-=t),f(i,"y")&&(i.y-=n)}),s.width=i-t+r,s.height=a-n+c}function KN(e){o(e.edges(),function(t){var s,o,n=e.edge(t),i=e.node(t.v),a=e.node(t.w);n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=a,o=i),n.points.unshift(c9(i,s)),n.points.push(c9(a,o))})}function UN(e){o(e.edges(),function(t){var n=e.edge(t);if(f(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function WN(e){o(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function BN(e){o(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),s=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(zi(n.borderLeft)),a=e.node(zi(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-s.y),n.x=o.x+n.width/2,n.y=s.y+n.height/2}}),o(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function IN(e){o(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function PN(e){var t=kc(e);o(t,function(t){var n=0;o(t,function(t,s){var i=e.node(t);i.order=s+n,o(i.selfEdges,function(t){_o(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:s+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}function RN(e){o(e.nodes(),function(t){var s,o,i,a,r,n=e.node(t);n.dummy==="selfedge"&&(a=e.node(n.e.v),s=a.x+a.width/2,o=a.y,i=n.x-s,r=a.height/2,e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:s+2*i/3,y:o-r},{x:s+5*i/6,y:o-r},{x:s+i,y:o},{x:s+5*i/6,y:o+r},{x:s+2*i/3,y:o+r}],n.label.x=n.x,n.label.y=n.y)})}function B1(e,t){return _i(po(e,t),Number)}function I1(e){var t={};return o(e,function(e,n){t[n.toLowerCase()]=e}),t}Sc={},w3(Sc,{run:()=>LN,undo:()=>DN});function LN(e){e.graph().dummyChains=[],o(e.edges(),function(t){NN(e,t)})}function NN(e,t){var o,a,r,i=t.v,s=e.node(i).rank,c=t.w,l=e.node(c).rank,d=t.name,n=e.edge(t),u=n.labelRank;if(l===s+1)return;e.removeEdge(t);for(r=0,++s;s<l;++r,++s)n.points=[],o={width:0,height:0,edgeLabel:n,edgeObj:t,rank:s},a=_o(e,"edge",o,"_d"),s===u&&(o.width=n.width,o.height=n.height,o.dummy="edge-label",o.labelpos=n.labelpos),e.setEdge(i,a,{weight:n.weight},d),r===0&&e.graph().dummyChains.push(a),i=a;e.setEdge(i,c,{weight:n.weight},d)}function DN(e){o(e.graph().dummyChains,function(t){var o,n=e.node(t),s=n.edgeLabel;for(e.setEdge(n.edgeObj,s);n.dummy;)o=e.successors(t)[0],e.removeNode(t),s.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height),t=o,n=e.node(t)})}function P1(e){var t={};function n(s){var o,i=e.node(s);return f(t,s)?i.rank:(t[s]=!0,o=uo(T(e.outEdges(s),function(t){return n(t.w)-e.edge(t).minlen})),(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o)}o(e.sources(),n)}function Yo(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function Gb(e){var n,s,t=new D({directed:!1}),o=e.nodes()[0],i=e.nodeCount();for(t.setNode(o,{});zN(t,e)<i;)n=TN(t,e),s=t.hasNode(n.v)?Yo(e,n):-Yo(e,n),FN(t,e,s);return t}function zN(e,t){function n(s){o(t.nodeEdges(s),function(o){var a=o.v,i=s===a?o.w:a;!e.hasNode(i)&&!Yo(t,o)&&(e.setNode(i,{}),e.setEdge(s,i,{}),n(i))})}return o(e.nodes(),n),e.nodeCount()}function TN(e,t){return yc(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Yo(t,n)})}function FN(e,t,n){o(e.nodes(),function(e){t.node(e).rank+=n})}AN=St(1),EN=St(1),CN.CycleException=Fc;function CN(e){var t={},n={},s=[];function i(a){if(f(n,a))throw new Fc;f(t,a)||(n[a]=!0,t[a]=!0,o(e.predecessors(a),i),delete n[a],s.push(a))}if(o(e.sinks(),i),yv(t)!==e.nodeCount())throw new Fc;return s}function Fc(){}Fc.prototype=new Error;function sj(e,t,n){E(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],a={};return o(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);oj(e,t,n==="post",a,i,s)}),s}function oj(e,t,n,s,i,a){f(s,t)||(s[t]=!0,n||a.push(t),o(i(t),function(t){oj(e,t,n,s,i,a)}),n&&a.push(t))}function wN(e,t){return sj(e,t,"post")}function _N(e,t){return sj(e,t,"pre")}es.initLowLimValues=T1,es.initCutValues=z1,es.calcCutValue=dj,es.leaveEdge=mj,es.enterEdge=fj,es.exchangeEdges=pj;function es(e){e=rR(e),P1(e);var n,s,t=Gb(e);for(T1(t),z1(t,e);n=mj(t);)s=fj(t,e,n),pj(t,e,n,s)}function z1(e,t){var n=wN(e,e.nodes()),n=n.slice(0,n.length-1);o(n,function(n){yN(e,t,n)})}function yN(e,t,n){var s=e.node(n),o=s.parent;e.edge(n,o).cutvalue=dj(e,t,n)}function dj(e,t,n){var c=e.node(n),i=c.parent,r=!0,a=t.edge(n,i),s=0;return a||(r=!1,a=t.edge(i,n)),s=a.weight,o(t.nodeEdges(n),function(o){var c,l,d,u=o.v===n,a=u?o.w:o.v;a!==i&&(c=u===r,l=t.edge(o).weight,s+=c?l:-l,vN(e,n,a)&&(d=e.edge(n,a).cutvalue,s+=c?-d:d))}),s}function T1(e,t){arguments.length<2&&(t=e.nodes()[0]),hj(e,{},1,t)}function hj(e,t,n,s,i){var r=n,a=e.node(s);return t[s]=!0,o(e.neighbors(s),function(o){f(t,o)||(n=hj(e,t,n,o,s))}),a.low=r,a.lim=n++,i?a.parent=i:delete a.parent,n}function mj(e){return ac(e.edges(),function(t){return e.edge(t).cutvalue<0})}function fj(e,t,n){var s,o,r,c,l,i=n.v,a=n.w;return t.hasEdge(i,a)||(i=n.w,a=n.v),r=e.node(i),c=e.node(a),s=r,o=!1,r.lim>c.lim&&(s=c,o=!0),l=ht(t.edges(),function(t){return o===bj(e,e.node(t.v),s)&&o!==bj(e,e.node(t.w),s)}),yc(l,function(e){return Yo(t,e)})}function pj(e,t,n,s){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(s.v,s.w,{}),T1(e),z1(e,t),jN(e,t)}function jN(e,t){var s=ac(e.nodes(),function(e){return!t.node(e).parent}),n=_N(e,s),n=n.slice(1);o(n,function(n){var o=e.node(n).parent,s=t.edge(n,o),i=!1;s||(s=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?s.minlen:-s.minlen)})}function vN(e,t,n){return e.hasEdge(t,n)}function bj(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function gN(e){switch(e.graph().ranker){case"network-simplex":wj(e);break;case"tight-tree":pN(e);break;case"longest-path":yj(e);break;default:wj(e)}}yj=P1;function pN(e){P1(e),Gb(e)}function wj(e){es(e)}function Vt(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:uN(e),edges:dN(e)};return M(e.graph())||(t.value=sp(e.graph())),t}function uN(e){return T(e.nodes(),function(t){var s=e.node(t),o=e.parent(t),n={v:t};return M(s)||(n.value=s),M(o)||(n.parent=o),n})}function dN(e){return T(e.edges(),function(t){var s=e.edge(t),n={v:t.v,w:t.w};return M(t.name)||(n.name=t.name),M(s)||(n.value=s),n})}kj=new Uint8Array(16);function lN(){if(!Lc&&(Lc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lc(kj)}K=[];for(let e=0;e<256;++e)K.push((e+256).toString(16).slice(1));function rN(e,t=0){return(K[e[t+0]]+K[e[t+1]]+K[e[t+2]]+K[e[t+3]]+"-"+K[e[t+4]]+K[e[t+5]]+"-"+K[e[t+6]]+K[e[t+7]]+"-"+K[e[t+8]]+K[e[t+9]]+"-"+K[e[t+10]]+K[e[t+11]]+K[e[t+12]]+K[e[t+13]]+K[e[t+14]]+K[e[t+15]]).toLowerCase()}Fj=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C1={randomUUID:Fj};function aN(e,t,n){if(C1.randomUUID&&!t&&!e)return C1.randomUUID();e=e||{};const s=e.random||(e.rng||lN)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return rN(s)}Dj=aN;function Nj(e,t){return!!e.children(t).length}function Lj(e){return x1(e.v)+":"+x1(e.w)+":"+x1(e.name)}Rj=/:/g;function x1(e){return e?String(e).replace(Rj,"\\:"):""}function mt(e,t){t&&e.attr("style",t)}function Ij(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))}function Re(e,t){var n,s=t.graph();return V2(s)&&(n=s.transition,Zn(n))?n(e):e}Rc={normal:tN,vee:JD,undirected:ZD};function oN(e){Rc=e}function tN(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");mt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function JD(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");mt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function ZD(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");mt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function b1(e,t){var s,i,o=e.append("foreignObject").attr("width","100000"),n=o.append("xhtml:div");switch(n.attr("xmlns","http://www.w3.org/1999/xhtml"),s=t.label,typeof s){case"function":n.insert(s);break;case"object":n.insert(function(){return s});break;default:n.html(s)}return mt(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),i=n.node().getBoundingClientRect(),o.attr("width",i.width).attr("height",i.height),o}function GD(e,t){var n=e;return n.node().appendChild(t.label),mt(n,t.labelStyle),n}function YD(e,t){for(var n=e.append("text"),o=qD(t.label).split(`
`),s=0;s<o.length;s++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(o[s]);return mt(n,t.labelStyle),n}function qD(e){for(var t,n="",s=!1,o=0;o<e.length;++o)if(t=e[o],s){switch(t){case"n":n+=`
`;break;default:n+=t}s=!1}else t==="\\"?s=!0:n+=t;return n}function g1(e,t,n){var o,i,a=t.label,s=e.append("g");switch(t.labelType==="svg"?GD(s,t):typeof a!="string"||t.labelType==="html"?b1(s,t):YD(s,t),o=s.node().getBBox(),n){case"top":i=-t.height/2;break;case"bottom":i=t.height/2-o.height;break;default:i=-o.height/2}return s.attr("transform","translate("+-o.width/2+","+i+")"),s}Pc=function(e,t){var s,o=t.nodes().filter(function(e){return Nj(t,e)}),n=e.selectAll("g.cluster").data(o,function(e){return e});return Re(n.exit(),t).style("opacity",0).remove(),s=n.enter().append("g").attr("class","cluster").attr("id",function(e){var n=t.node(e);return n.id}).style("opacity",0).each(function(e){var s,n=t.node(e),o=i(this);i(this).append("rect"),s=o.append("g").attr("class","label"),g1(s,n,n.clusterLabelPos)}),n=n.merge(s),n=Re(n,t).style("opacity",1),n.selectAll("rect").each(function(e){var n=t.node(e),s=i(this);mt(s,n.style)}),n};function KD(e){Pc=e}Ic=function(e,t){var s,n=e.selectAll("g.edgeLabel").data(t.edges(),function(e){return Lj(e)}).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=e.selectAll("g.edgeLabel"),n.each(function(e){var n,s,o,a=i(this);a.select(".label").remove(),n=t.edge(e),s=g1(a,t.edge(e),0,0).classed("label",!0),o=s.node().getBBox(),n.labelId&&s.attr("id",n.labelId),f(n,"width")||(n.width=o.width),f(n,"height")||(n.height=o.height)}),n.exit?s=n.exit():s=n.selectAll(null),Re(s,t).style("opacity",0).remove(),n};function UD(e){Ic=e}function ny(e,t){return e.intersect(t)}Pa=function(e,t,n){var s,o=e.selectAll("g.edgePath").data(t.edges(),function(e){return Lj(e)}).classed("update",!0),a=HD(o,t);return PD(o,t),s=o.merge!==void 0?o.merge(a):o,Re(s,t).style("opacity",1),s.each(function(e){var s=i(this),n=t.edge(e);n.elem=this,n.id&&s.attr("id",n.id),Ij(s,n.class,(s.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(e){var s,n=t.edge(e);n.arrowheadId=si("arrowhead"),s=i(this).attr("marker-end",function(){return"url("+VD(location.href,n.arrowheadId)+")"}).style("fill","none"),Re(s,t).attr("d",function(e){return BD(t,e)}),mt(s,n.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(e){var s=t.edge(e),o=n[s.arrowhead];o(i(this),s.arrowheadId,s,"arrowhead")}),s};function $D(e){Pa=e}function VD(e,t){var n=e.split("#")[0];return n+"#"+t}function BD(e,t){var s=e.edge(t),o=e.node(t.v),i=e.node(t.w),n=s.points.slice(1,s.points.length-1);return n.unshift(ny(o,n[0])),n.push(ny(i,n[n.length-1])),ry(s,n)}function ry(e,t){var n=(Oo||ME.line)().x(function(e){return e.x}).y(function(e){return e.y});return(n.curve||n.interpolate)(e.curve),n(t)}function ID(e){var t=e.getBBox(),n=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:n.e,y:n.f}}function HD(e,t){var n=e.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(e){var n=t.edge(e),s=t.node(e.v).elem,o=on(n.points.length).map(function(){return ID(s)});return ry(n,o)}),n.append("defs"),n}function PD(e,t){var n=e.exit();Re(n,t).style("opacity",0).remove()}Vc=function(e,t,n){var o,a=t.nodes().filter(function(e){return!Nj(t,e)}),s=e.selectAll("g.node").data(a,function(e){return e}).classed("update",!0);return s.exit().remove(),s.enter().append("g").attr("class","node").style("opacity",0),s=e.selectAll("g.node"),s.each(function(e){var o,r,c,l,d,u,h,s=t.node(e),a=i(this);Ij(a,s.class,(a.classed("update")?"update ":"")+"node"),a.select("g.label").remove(),r=a.append("g").attr("class","label"),u=g1(r,s),h=n[s.shape],o=po(u.node().getBBox(),"width","height"),s.elem=this,s.id&&a.attr("id",s.id),s.labelId&&r.attr("id",s.labelId),f(s,"width")&&(o.width=s.width),f(s,"height")&&(o.height=s.height),o.width+=s.paddingLeft+s.paddingRight,o.height+=s.paddingTop+s.paddingBottom,r.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")"),c=i(this),c.select(".label-container").remove(),l=h(c,o,s).classed("label-container",!0),mt(l,s.style),d=l.node().getBBox(),s.width=d.width,s.height=d.height}),s.exit?o=s.exit():o=s.selectAll(null),Re(o,t).style("opacity",0).remove(),s};function RD(e){Vc=e}function LD(e,t){var n=e.filter(function(){return!i(this).classed("update")});function s(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}n.attr("transform",s),Re(e,t).style("opacity",1).attr("transform",s),Re(n.selectAll("rect"),t).attr("width",function(e){return t.node(e).width}).attr("height",function(e){return t.node(e).height}).attr("x",function(e){var n=t.node(e);return-n.width/2}).attr("y",function(e){var n=t.node(e);return-n.height/2})}function ND(e,t){var s=e.filter(function(){return!i(this).classed("update")});function n(e){var n=t.edge(e);return f(n,"x")?"translate("+n.x+","+n.y+")":""}s.attr("transform",n),Re(e,t).style("opacity",1).attr("transform",n)}function DD(e,t){var s=e.filter(function(){return!i(this).classed("update")});function n(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}s.attr("transform",n),Re(e,t).style("opacity",1).attr("transform",n)}function gy(e,t,n,s){var o,i=e.x,a=e.y,r=i-s.x,c=a-s.y,d=Math.sqrt(t*t*c*c+n*n*r*r),l=Math.abs(t*n*r/d);return s.x<i&&(l=-l),o=Math.abs(t*n*c/d),s.y<a&&(o=-o),{x:i+l,y:a+o}}function zD(e,t,n){return gy(e,t,t,n)}function TD(e,t,n,s){var o,i,a,r,c,l,m,f,v,b,h=t.y-e.y,d=e.x-t.x,u=t.x*e.y-e.x*t.y,g=h*n.x+d*n.y+u,p=h*s.x+d*s.y+u;if(g!==0&&p!==0&&jy(g,p))return;if(a=s.y-n.y,r=n.x-s.x,c=s.x*n.y-n.x*s.y,m=a*e.x+r*e.y+c,f=a*t.x+r*t.y+c,m!==0&&f!==0&&jy(m,f))return;if(i=h*r-a*d,i===0)return;return l=Math.abs(i/2),o=d*c-r*u,v=o<0?(o-l)/i:(o+l)/i,o=a*u-h*c,b=o<0?(o-l)/i:(o+l)/i,{x:v,y:b}}function jy(e,t){return e*t>0}function Ot(e,t,n){var s,r,c,l,d,u,h=e.x,m=e.y,o=[],i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;t.forEach(function(e){i=Math.min(i,e.x),a=Math.min(a,e.y)}),r=h-e.width/2-i,c=m-e.height/2-a;for(s=0;s<t.length;s++)l=t[s],d=t[s<t.length-1?s+1:0],u=TD(e,n,{x:r+l.x,y:c+l.y},{x:r+d.x,y:c+d.y}),u&&o.push(u);return o.length?(o.length>1&&o.sort(function(e,t){var s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}function d1(e,t){var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}}Uc={rect:SD,ellipse:kD,circle:ED,diamond:CD};function MD(e){Uc=e}function SD(e,t,n){var s=e.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return n.intersect=function(e){return d1(n,e)},s}function kD(e,t,n){var s=t.width/2,o=t.height/2,i=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",s).attr("ry",o);return n.intersect=function(e){return gy(n,s,o,e)},i}function ED(e,t,n){var s=Math.max(t.width,t.height)/2,o=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",s);return n.intersect=function(e){return zD(n,s,e)},o}function CD(e,t,n){var s=t.width*Math.SQRT2/2,o=t.height*Math.SQRT2/2,i=[{x:0,y:-o},{x:-s,y:0},{x:0,y:o},{x:s,y:0}],a=e.insert("polygon",":first-child").attr("points",i.map(function(e){return e.x+","+e.y}).join(" "));return n.intersect=function(e){return Ot(n,i,e)},a}function bD(){var e=function(e,t){mD(t);var s,n=Vo(e,"output"),o=Vo(n,"clusters"),i=Vo(n,"edgePaths"),a=Ic(Vo(n,"edgeLabels"),t),r=Vc(Vo(n,"nodes"),t,Uc);Co(t),DD(r,t),ND(a,t),Pa(i,t,Rc),s=Pc(o,t),LD(s,t),hD(t)};return e.createNodes=function(t){return arguments.length?(RD(t),e):Vc},e.createClusters=function(t){return arguments.length?(KD(t),e):Pc},e.createEdgeLabels=function(t){return arguments.length?(UD(t),e):Ic},e.createEdgePaths=function(t){return arguments.length?($D(t),e):Pa},e.shapes=function(t){return arguments.length?(MD(t),e):Uc},e.arrows=function(t){return arguments.length?(oN(t),e):Rc},e}Sy={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},My={arrowhead:"normal",curve:je};function mD(e){e.nodes().forEach(function(t){var n=e.node(t);!f(n,"label")&&!e.children(t).length&&(n.label=t),f(n,"paddingX")&&On(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),f(n,"paddingY")&&On(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),f(n,"padding")&&On(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),On(n,Sy),o(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(e){n[e]=Number(n[e])}),f(n,"width")&&(n._prevWidth=n.width),f(n,"height")&&(n._prevHeight=n.height)}),e.edges().forEach(function(t){var n=e.edge(t);f(n,"label")||(n.label=""),On(n,My)})}function hD(e){o(e.nodes(),function(t){var n=e.node(t);f(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,f(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function Vo(e,t){var n=e.select("g."+t);return n.empty()&&(n=e.append("g").attr("class",t)),n}Dy=Object.defineProperty,Ny=(e,t,n)=>t in e?Dy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ao=(e,t,n)=>(Ny(e,typeof t!="symbol"?t+"":t,n),n),gt={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},e={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},Qc=function(t="fatal"){let n=gt.fatal;typeof t=="string"?(t=t.toLowerCase(),t in gt&&(n=gt[t])):typeof t=="number"&&(n=t),e.trace=()=>{},e.debug=()=>{},e.info=()=>{},e.warn=()=>{},e.error=()=>{},e.fatal=()=>{},n<=gt.fatal&&(e.fatal=console.error?console.error.bind(console,be("FATAL"),"color: orange"):console.log.bind(console,"[35m",be("FATAL"))),n<=gt.error&&(e.error=console.error?console.error.bind(console,be("ERROR"),"color: orange"):console.log.bind(console,"[31m",be("ERROR"))),n<=gt.warn&&(e.warn=console.warn?console.warn.bind(console,be("WARN"),"color: orange"):console.log.bind(console,`[33m`,be("WARN"))),n<=gt.info&&(e.info=console.info?console.info.bind(console,be("INFO"),"color: lightblue"):console.log.bind(console,"[34m",be("INFO"))),n<=gt.debug&&(e.debug=console.debug?console.debug.bind(console,be("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",be("DEBUG"))),n<=gt.trace&&(e.trace=console.debug?console.debug.bind(console,be("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",be("TRACE")))},be=e=>{const t=(0,De.default)().format("ss.SSS");return`%c${t} : ${e} : `},By=e=>{if(!e)return[""];const t=Wu(e).replace(/\\n/g,"#br#");return t.split("#br#")},Xu=e=>Ds.default.sanitize(e),Gu=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=Xu(e):n!=="loose"&&(e=Wu(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=Gy(e))}return e},Ne=(e,t)=>e&&(t.dompurifyConfig?e=Ds.default.sanitize(Gu(e,t),t.dompurifyConfig).toString():e=Ds.default.sanitize(Gu(e,t),{FORBID_TAGS:["style"]}).toString(),e),Uy=(e,t)=>typeof e=="string"?Ne(e,t):e.flat().map(e=>Ne(e,t)),Zo=/<br\s*\/?>/gi,qy=e=>Zo.test(e),Yy=e=>e.split(Zo),Gy=e=>e.replace(/#br#/g,"<br/>"),Wu=e=>e.replace(Zo,"#br#"),Qy=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},$=e=>e!==!1&&!["false","null","0"].includes(String(e).trim().toLowerCase()),Kt=function(e){let t=e;return e.includes("~")?(t=t.replace(/~([^~].*)/,"<$1"),t=t.replace(/~([^~]*)$/,">$1"),Kt(t)):t},h={getRows:By,sanitizeText:Ne,sanitizeTextOrArray:Uy,hasBreaks:qy,splitBreaks:Yy,lineBreakRegex:Zo,removeScript:Xu,getUrl:Qy,evaluate:$},se=(e,t)=>t?s(e,{s:-40,l:10}):s(e,{s:-40,l:-10}),xi="#ffffff",la="#f2f2f2",o_=class{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||s(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||s(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||se(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||se(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||se(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||r(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||r(this.tertiaryColor),this.lineColor=this.lineColor||r(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?m(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||m(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||r(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||u(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=m(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=m(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||m(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||s(this.primaryColor,{h:64}),this.fillType3=this.fillType3||s(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||s(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||s(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||s(this.primaryColor,{h:128}),this.fillType7=this.fillType7||s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-10}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?m(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=m(this.git0,25),this.git1=m(this.git1,25),this.git2=m(this.git2,25),this.git3=m(this.git3,25),this.git4=m(this.git4,25),this.git5=m(this.git5,25),this.git6=m(this.git6,25),this.git7=m(this.git7,25)),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||la}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},i_=e=>{const t=new o_;return t.calculate(e),t},a_=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=u(this.primaryColor,16),this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=r(this.background),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=u(r("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=lo(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=m("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=lo(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=lo(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=u(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=u(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=u(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?m(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=u(this.secondaryColor,20),this.git1=u(this.pie2||this.secondaryColor,20),this.git2=u(this.pie3||this.tertiaryColor,20),this.git3=u(this.pie4||s(this.primaryColor,{h:-30}),20),this.git4=u(this.pie5||s(this.primaryColor,{h:-60}),20),this.git5=u(this.pie6||s(this.primaryColor,{h:-90}),10),this.git6=u(this.pie7||s(this.primaryColor,{h:60}),10),this.git7=u(this.pie8||s(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||u(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||u(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},r_=e=>{const t=new a_;return t.calculate(e),t},c_=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=s(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=lo(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||m(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||m(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=m(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||m(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||r(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||r(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=u(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||s(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||s(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=m(this.git0,25),this.git1=m(this.git1,25),this.git2=m(this.git2,25),this.git3=m(this.git3,25),this.git4=m(this.git4,25),this.git5=m(this.git5,25),this.git6=m(this.git6,25),this.git7=m(this.git7,25)),this.gitInv0=this.gitInv0||m(r(this.git0),25),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||r(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||r(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||la}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},l_=e=>{const t=new c_;return t.calculate(e),t},d_=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=u("#cde498",10),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.primaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||m(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||m(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=m(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||m(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=m(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-30}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=m(this.git0,25),this.git1=m(this.git1,25),this.git2=m(this.git2,25),this.git3=m(this.git3,25),this.git4=m(this.git4,25),this.git5=m(this.git5,25),this.git6=m(this.git6,25),this.git7=m(this.git7,25)),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||la}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},u_=e=>{const t=new d_;return t.calculate(e),t},h_=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=u(this.contrast,55),this.background="#ffffff",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=u(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||m(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=u(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=u(this.contrast,30),this.sectionBkgColor2=u(this.contrast,30),this.taskBorderColor=m(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=u(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=m(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=m(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||s(this.primaryColor,{h:-30}),this.git4=this.pie5||s(this.primaryColor,{h:-60}),this.git5=this.pie6||s(this.primaryColor,{h:-90}),this.git6=this.pie7||s(this.primaryColor,{h:60}),this.git7=this.pie8||s(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||la}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},m_=e=>{const t=new h_;return t.calculate(e),t},ct={base:{getThemeVariables:i_},dark:{getThemeVariables:r_},default:{getThemeVariables:l_},forest:{getThemeVariables:u_},neutral:{getThemeVariables:m_}},Rt={theme:"default",themeVariables:ct.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16},Rt.class&&(Rt.class.arrowMarkerAbsolute=Rt.arrowMarkerAbsolute),Rt.gitGraph&&(Rt.gitGraph.arrowMarkerAbsolute=Rt.arrowMarkerAbsolute),_u=(e,t="")=>Object.keys(e).reduce((n,s)=>Array.isArray(e[s])?n:typeof e[s]=="object"&&e[s]!==null?[...n,t+s,..._u(e[s],"")]:[...n,t+s],[]),v_=_u(Rt,""),b_=Rt;function j_(e){return typeof e=="undefined"||e===null}function lD(e){return typeof e=="object"&&e!==null}function cD(e){return Array.isArray(e)?e:j_(e)?[]:[e]}function iD(e,t){var n,s,o,i;if(t){o=Object.keys(t);for(n=0,i=o.length;n<i;n+=1)s=o[n],e[s]=t[s]}return e}function sD(e,t){var n,s="";for(n=0;n<t;n+=1)s+=e;return s}function nD(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}C_=j_,E_=lD,k_=cD,A_=sD,S_=nD,M_=iD,ne={isNothing:C_,isObject:E_,toArray:k_,repeat:A_,isNegativeZero:S_,extend:M_};function T_(e,t){var n="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),s+" "+n):s}function da(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=T_(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}da.prototype=Object.create(Error.prototype),da.prototype.constructor=da,da.prototype.toString=function(t){return this.name+": "+T_(this,t)},_t=da;function fu(e,t,n,s,o){var i="",r="",a=Math.floor(o/2)-1;return s-t>a&&(i=" ... ",t=s-a+i.length),n-s>a&&(r=" ...",n=s+a-r.length),{str:i+e.slice(t,n).replace(/\t/g,"\u2192")+r,pos:s-t+i.length}}function mu(e,t){return ne.repeat(" ",t-e.length)+e}function tD(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var s,i,a,c,l,d,u=/\r?\n|\r|\0/g,o=[0],r=[],n=-1;l=u.exec(e.buffer);)r.push(l.index),o.push(l.index+l[0].length),e.position<=l.index&&n<0&&(n=o.length-2);n<0&&(n=o.length-1),i="",c=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+c+3);for(s=1;s<=t.linesBefore;s++){if(n-s<0)break;a=fu(e.buffer,o[n-s],r[n-s],e.position-(o[n]-o[n-s]),d),i=ne.repeat(" ",t.indent)+mu((e.line-s+1).toString(),c)+" | "+a.str+`
`+i}a=fu(e.buffer,o[n],r[n],e.position,d),i+=ne.repeat(" ",t.indent)+mu((e.line+1).toString(),c)+" | "+a.str+`
`,i+=ne.repeat("-",t.indent+c+3+a.pos)+`^
`;for(s=1;s<=t.linesAfter;s++){if(n+s>=r.length)break;a=fu(e.buffer,o[n+s],r[n+s],e.position-(o[n]-o[n+s]),d),i+=ne.repeat(" ",t.indent)+mu((e.line+s+1).toString(),c)+" | "+a.str+`
`}return i.replace(/\n$/,"")}P_=tD,H_=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],I_=["scalar","sequence","mapping"];function Zz(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function Xz(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(H_.indexOf(t)===-1)throw new _t('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Zz(t.styleAliases||null),I_.indexOf(this.kind)===-1)throw new _t('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Z=Xz;function W_(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,s){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=s)}),n[t]=e}),n}function Kz(){var t,n,e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(s);return e}function uu(e){return this.extend(e)}uu.prototype.extend=function(t){var n,o=[],s=[];if(t instanceof Z)s.push(t);else if(Array.isArray(t))s=s.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(o=o.concat(t.implicit)),t.explicit&&(s=s.concat(t.explicit));else throw new _t("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");return o.forEach(function(e){if(!(e instanceof Z))throw new _t("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&e.loadKind!=="scalar")throw new _t("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new _t("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(e){if(!(e instanceof Z))throw new _t("Specified list of YAML types (or a single Type object) contains a non-Type object.")}),n=Object.create(uu.prototype),n.implicit=(this.implicit||[]).concat(o),n.explicit=(this.explicit||[]).concat(s),n.compiledImplicit=W_(n,"implicit"),n.compiledExplicit=W_(n,"explicit"),n.compiledTypeMap=Kz(n.compiledImplicit,n.compiledExplicit),n},q_=uu,Y_=new Z("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),G_=new Z("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),X_=new Z("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),cu=new q_({explicit:[Y_,G_,X_]});function Wz(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function $z(){return null}function Vz(e){return e===null}tw=new Z("tag:yaml.org,2002:null",{kind:"scalar",resolve:Wz,construct:$z,predicate:Vz,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Bz(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Iz(e){return e==="true"||e==="True"||e==="TRUE"}function Hz(e){return Object.prototype.toString.call(e)==="[object Boolean]"}iw=new Z("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Bz,construct:Iz,predicate:Hz,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Pz(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Rz(e){return 48<=e&&e<=55}function Lz(e){return 48<=e&&e<=57}function Tz(e){if(e===null)return!1;var t,o=e.length,n=0,s=!1;if(!o)return!1;if(t=e[n],(t==="-"||t==="+")&&(t=e[++n]),t==="0"){if(n+1===o)return!0;if(t=e[++n],t==="b"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(t!=="0"&&t!=="1")return!1;s=!0}return s&&t!=="_"}if(t==="x"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(!Pz(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}if(t==="o"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(!Rz(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}}if(t==="_")return!1;for(;n<o;n++){if(t=e[n],t==="_")continue;if(!Lz(e.charCodeAt(n)))return!1;s=!0}return!!s&&t!=="_"}function Fz(e){var n,t=e,s=1;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(s=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return s*parseInt(t.slice(2),2);if(t[1]==="x")return s*parseInt(t.slice(2),16);if(t[1]==="o")return s*parseInt(t.slice(2),8)}return s*parseInt(t,10)}function Mz(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ne.isNegativeZero(e)}hw=new Z("tag:yaml.org,2002:int",{kind:"scalar",resolve:Tz,construct:Fz,predicate:Mz,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),mw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Sz(e){return e!==null&&!!mw.test(e)&&e[e.length-1]!=="_"}function Az(e){var t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1;return"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}gw=/^[-+]?[0-9]+e/;function kz(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ne.isNegativeZero(e))return"-0.0";return n=e.toString(10),gw.test(n)?n.replace("e",".e"):n}function Ez(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ne.isNegativeZero(e))}jw=new Z("tag:yaml.org,2002:float",{kind:"scalar",resolve:Sz,construct:Az,predicate:Ez,represent:kz,defaultStyle:"lowercase"}),yw=cu.extend({implicit:[tw,iw,hw,jw]}),_w=yw,ru=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),iu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function _z(e){return e!==null&&(ru.exec(e)!==null||iu.exec(e)!==null)}function yz(e){var o,i,a,r,c,l,d,u,h,n=0,s=null,t=ru.exec(e);if(t===null&&(t=iu.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],a=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,a,r));if(c=+t[4],l=+t[5],d=+t[6],t[7]){for(n=t[7].slice(0,3);n.length<3;)n+="0";n=+n}return t[9]&&(u=+t[10],h=+(t[11]||0),s=(u*60+h)*6e4,t[9]==="-"&&(s=-s)),o=new Date(Date.UTC(i,a,r,c,l,d,n)),s&&o.setTime(o.getTime()-s),o}function jz(e){return e.toISOString()}kw=new Z("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:_z,construct:yz,instanceOf:Date,represent:jz});function bz(e){return e==="<<"||e===null}Sw=new Z("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bz}),vl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
`;function pz(e){if(e===null)return!1;var t,n,s=0,o=e.length,i=vl;for(t=0;t<o;t++){if(n=i.indexOf(e.charAt(t)),n>64)continue;if(n<0)return!1;s+=6}return s%8===0}function fz(e){var s,o,i=e.replace(/[\r\n=]/g,""),a=i.length,r=vl,t=0,n=[];for(s=0;s<a;s++)s%4===0&&s&&(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)),t=t<<6|r.indexOf(i.charAt(s));return o=a%4*6,o===0?(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)):o===18?(n.push(t>>10&255),n.push(t>>2&255)):o===12&&n.push(t>>4&255),new Uint8Array(n)}function mz(e){var o,i,t="",s=0,a=e.length,n=vl;for(o=0;o<a;o++)o%3===0&&o&&(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]),s=(s<<8)+e[o];return i=a%3,i===0?(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]):i===2?(t+=n[s>>10&63],t+=n[s>>4&63],t+=n[s<<2&63],t+=n[64]):i===1&&(t+=n[s>>2&63],t+=n[s<<4&63],t+=n[64],t+=n[64]),t}function hz(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Nw=new Z("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pz,construct:fz,predicate:hz,represent:mz}),Lw=Object.prototype.hasOwnProperty,Rw=Object.prototype.toString;function uz(e){if(e===null)return!0;var t,n,s,o,a,i=[],r=e;for(t=0,a=r.length;t<a;t+=1){if(n=r[t],o=!1,Rw.call(n)!=="[object Object]")return!1;for(s in n)if(Lw.call(n,s)){if(o)return!1;o=!0}if(!o)return!1;if(i.indexOf(s)===-1)i.push(s);else return!1}return!0}function dz(e){return e!==null?e:[]}Iw=new Z("tag:yaml.org,2002:omap",{kind:"sequence",resolve:uz,construct:dz}),Bw=Object.prototype.toString;function lz(e){if(e===null)return!0;var t,n,s,i,o=e,a=new Array(o.length);for(t=0,i=o.length;t<i;t+=1){if(n=o[t],Bw.call(n)!=="[object Object]")return!1;if(s=Object.keys(n),s.length!==1)return!1;a[t]=[s[0],n[s[0]]]}return!0}function cz(e){if(e===null)return[];var t,n,s,i,o=e,a=new Array(o.length);for(t=0,i=o.length;t<i;t+=1)n=o[t],s=Object.keys(n),a[t]=[s[0],n[s[0]]];return a}Ww=new Z("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:lz,construct:cz}),Uw=Object.prototype.hasOwnProperty;function rz(e){if(e===null)return!0;var t,n=e;for(t in n)if(Uw.call(n,t)&&n[t]!==null)return!1;return!0}function az(e){return e!==null?e:{}}Yw=new Z("tag:yaml.org,2002:set",{kind:"mapping",resolve:rz,construct:az}),Gw=_w.extend({implicit:[kw,Sw],explicit:[Nw,Iw,Ww,Yw]}),Lt=Object.prototype.hasOwnProperty,Fa=1,eu=2,Jd=3,Da=4,_l=1,nO=2,Xd=3,oO=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,iO=/[\x85\u2028\u2029]/,aO=/[,[\]{}]/,Gd=/^(?:!|!!|![a-z-]+!)$/i,Kd=/^(?:!|[^,[\]{}])(?:%[0-9a-f]{2}|[0-9a-z-#;/?:@&=+$,_.!~*'()[\]])*$/i;function lO(e){return Object.prototype.toString.call(e)}function rt(e){return e===10||e===13}function Jn(e){return e===9||e===32}function me(e){return e===9||e===32||e===10||e===13}function gs(e){return e===44||e===91||e===93||e===123||e===125}function JT(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function rL(e){return e===120?2:e===117?4:e===85?8:0}function XT(e){return 48<=e&&e<=57?e-48:-1}function vO(e){return e===48?"\0":e===97?"":e===98?"":e===116?"	":e===9?"	":e===110?`
`:e===118?"":e===102?"":e===114?``:e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function IT(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}Bd=new Array(256),Id=new Array(256);for(ns=0;ns<256;ns++)Bd[ns]=vO(ns)?1:0,Id[ns]=vO(ns);function DT(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Gw,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function OO(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=P_(n),new _t(t,n)}function d(e,t){throw OO(e,t)}function xl(e,t){e.onWarning&&e.onWarning.call(null,OO(e,t))}zd={YAML:function(t,n,s){var o,i,a;t.version!==null&&d(t,"duplication of %YAML directive"),s.length!==1&&d(t,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),o===null&&d(t,"ill-formed argument of the YAML directive"),a=parseInt(o[1],10),i=parseInt(o[2],10),a!==1&&d(t,"unacceptable YAML version of the document"),t.version=s[0],t.checkLineBreaks=i<2,i!==1&&i!==2&&xl(t,"unsupported YAML version of the document")},TAG:function(t,n,s){var o,i;s.length!==2&&d(t,"TAG directive accepts exactly two arguments"),i=s[0],o=s[1],Gd.test(i)||d(t,"ill-formed tag handle (first argument) of the TAG directive"),Lt.call(t.tagMap,i)&&d(t,'there is a previously declared suffix for "'+i+'" tag handle'),Kd.test(o)||d(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{d(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Jt(e,t,n,s){var o,i,a,r;if(t<n){if(o=e.input.slice(t,n),s)for(i=0,r=o.length;i<r;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||d(e,"expected valid JSON character");else oO.test(o)&&d(e,"the stream contains non-printable characters");e.result+=o}}function AO(e,t,n,s){var o,i,a,r;ne.isObject(n)||d(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n);for(i=0,r=a.length;i<r;i+=1)o=a[i],Lt.call(t,o)||(t[o]=n[o],s[o]=!0)}function fs(e,t,n,s,o,i,a,r,c){var l,u;if(Array.isArray(o)){o=Array.prototype.slice.call(o);for(l=0,u=o.length;l<u;l+=1)Array.isArray(o[l])&&d(e,"nested arrays are not supported inside keys"),typeof o=="object"&&lO(o[l])==="[object Object]"&&(o[l]="[object Object]")}if(typeof o=="object"&&lO(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)AO(e,t,i[l],n);else AO(e,t,i,n);else!e.json&&!Lt.call(n,o)&&Lt.call(t,o)&&(e.line=a||e.line,e.lineStart=r||e.lineStart,e.position=c||e.position,d(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function Sd(e){var t=e.input.charCodeAt(e.position);t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):d(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function R(e,t,n){for(var o=0,s=e.input.charCodeAt(e.position);s!==0;){for(;Jn(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0)if(rt(s))for(Sd(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return n!==-1&&o!==0&&e.lineIndent<n&&xl(e,"deficient indentation"),o}function kl(e){var n=e.position,t=e.input.charCodeAt(n);return!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||me(t)))}function Cd(e,t){t===1?e.result+=" ":t>1&&(e.result+=ne.repeat(`
`,t-1))}function xT(e,t,n){var o,i,a,r,c,l,d,u,h=e.kind,m=e.result,s=e.input.charCodeAt(e.position);if(me(s)||gs(s)||s===35||s===38||s===42||s===33||s===124||s===62||s===39||s===34||s===37||s===64||s===96)return!1;if((s===63||s===45)&&(o=e.input.charCodeAt(e.position+1),me(o)||n&&gs(o)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,r=!1;s!==0;){if(s===58){if(o=e.input.charCodeAt(e.position+1),me(o)||n&&gs(o))break}else if(s===35){if(l=e.input.charCodeAt(e.position-1),me(l))break}else if(e.position===e.lineStart&&kl(e)||n&&gs(s))break;else if(rt(s)){if(c=e.line,d=e.lineStart,u=e.lineIndent,R(e,!1,-1),e.lineIndent>=t){r=!0,s=e.input.charCodeAt(e.position);continue}e.position=i,e.line=c,e.lineStart=d,e.lineIndent=u;break}r&&(Jt(e,a,i,!1),Cd(e,e.line-c),a=i=e.position,r=!1),Jn(s)||(i=e.position+1),s=e.input.charCodeAt(++e.position)}return Jt(e,a,i,!1),!!e.result||(e.kind=h,e.result=m,!1)}function wT(e,t){if(n=e.input.charCodeAt(e.position),n!==39)return!1;e.kind="scalar",e.result="",e.position++,s=o=e.position;for(var n,s,o;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Jt(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)s=e.position,e.position++,o=e.position;else return!0;else rt(n)?(Jt(e,s,o,!0),Cd(e,R(e,!1,t)),s=o=e.position):e.position===e.lineStart&&kl(e)?d(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);d(e,"unexpected end of the stream within a single quoted scalar")}function _T(e,t){if(n=e.input.charCodeAt(e.position),n!==34)return!1;for(e.kind="scalar",e.result="",e.position++,s=o=e.position;(n=e.input.charCodeAt(e.position))!==0;){if(n===34)return Jt(e,s,e.position,!0),e.position++,!0;if(n===92){if(Jt(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),rt(n))R(e,!1,t);else if(n<256&&Bd[n])e.result+=Id[n],e.position++;else if((a=rL(n))>0){r=a,i=0;for(var n,s,o,i,a,r;r>0;r--)n=e.input.charCodeAt(++e.position),(a=JT(n))>=0?i=(i<<4)+a:d(e,"expected hexadecimal character");e.result+=IT(i),e.position++}else d(e,"unknown escape sequence");s=o=e.position}else rt(n)?(Jt(e,s,o,!0),Cd(e,R(e,!1,t)),s=o=e.position):e.position===e.lineStart&&kl(e)?d(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}d(e,"unexpected end of the stream within a double quoted scalar")}function yT(e,t){var s,o,i,a,r,c,l,u,h,m,f,v,p=!0,j=e.tag,b=e.anchor,g=Object.create(null),n=e.input.charCodeAt(e.position);if(n===91)m=93,l=!1,s=[];else if(n===123)m=125,l=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(++e.position);n!==0;){if(R(e,!0,t),n=e.input.charCodeAt(e.position),n===m)return e.position++,e.tag=j,e.anchor=b,e.kind=l?"mapping":"sequence",e.result=s,!0;p?n===44&&d(e,"expected the node content, but found ','"):d(e,"missed comma between flow collection entries"),r=o=a=null,i=f=!1,n===63&&(v=e.input.charCodeAt(e.position+1),me(v)&&(i=f=!0,e.position++,R(e,!0,t))),c=e.line,h=e.lineStart,u=e.position,ms(e,t,Fa,!1,!0),r=e.tag,o=e.result,R(e,!0,t),n=e.input.charCodeAt(e.position),(f||e.line===c)&&n===58&&(i=!0,n=e.input.charCodeAt(++e.position),R(e,!0,t),ms(e,t,Fa,!1,!0),a=e.result),l?fs(e,s,g,r,o,a,c,h,u):i?s.push(fs(e,null,g,r,o,a,c,h,u)):s.push(o),R(e,!0,t),n=e.input.charCodeAt(e.position),n===44?(p=!0,n=e.input.charCodeAt(++e.position)):p=!1}d(e,"unexpected end of the stream within a flow collection")}function jT(e,t){var c,u,h,r=_l,o=!1,i=!1,a=t,s=0,l=!1,n=e.input.charCodeAt(e.position);if(n===124)c=!1;else if(n===62)c=!0;else return!1;for(e.kind="scalar",e.result="";n!==0;)if(n=e.input.charCodeAt(++e.position),n===43||n===45)_l===r?r=n===43?Xd:nO:d(e,"repeat of a chomping mode identifier");else if((u=XT(n))>=0)u===0?d(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):i?d(e,"repeat of an indentation width identifier"):(a=t+u-1,i=!0);else break;if(Jn(n)){do n=e.input.charCodeAt(++e.position);while(Jn(n))if(n===35)do n=e.input.charCodeAt(++e.position);while(!rt(n)&&n!==0)}for(;n!==0;){for(Sd(e),e.lineIndent=0,n=e.input.charCodeAt(e.position);(!i||e.lineIndent<a)&&n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);if(!i&&e.lineIndent>a&&(a=e.lineIndent),rt(n)){s++;continue}if(e.lineIndent<a){r===Xd?e.result+=ne.repeat(`
`,o?1+s:s):r===_l&&o&&(e.result+=`
`);break}for(c?Jn(n)?(l=!0,e.result+=ne.repeat(`
`,o?1+s:s)):l?(l=!1,e.result+=ne.repeat(`
`,s+1)):s===0?o&&(e.result+=" "):e.result+=ne.repeat(`
`,s):e.result+=ne.repeat(`
`,o?1+s:s),o=!0,i=!0,s=0,h=e.position;!rt(n)&&n!==0;)n=e.input.charCodeAt(++e.position);Jt(e,h,e.position,!1)}return!0}function HO(e,t){var n,o,i,r=e.tag,c=e.anchor,s=[],a=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);n!==0;){if(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,d(e,"tab characters must not be used in indentation")),n!==45)break;if(i=e.input.charCodeAt(e.position+1),!me(i))break;if(a=!0,e.position++,R(e,!0,-1)&&e.lineIndent<=t){s.push(null),n=e.input.charCodeAt(e.position);continue}if(o=e.line,ms(e,t,Jd,!1,!0),s.push(e.result),R(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===o||e.lineIndent>t)&&n!==0)d(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return!!a&&(e.tag=r,e.anchor=c,e.kind="sequence",e.result=s,!0)}function gT(e,t,n){var s,c,l,u,p,g,j,v=e.tag,b=e.anchor,r={},f=Object.create(null),a=null,i=null,m=null,o=!1,h=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),s=e.input.charCodeAt(e.position);s!==0;){if(!o&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,d(e,"tab characters must not be used in indentation")),j=e.input.charCodeAt(e.position+1),p=e.line,(s===63||s===58)&&me(j))s===63?(o&&(fs(e,r,f,a,i,null,u,l,c),a=i=m=null),h=!0,o=!0,g=!0):o?(o=!1,g=!0):d(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=j;else{if(u=e.line,l=e.lineStart,c=e.position,!ms(e,n,eu,!1,!0))break;if(e.line===p){for(s=e.input.charCodeAt(e.position);Jn(s);)s=e.input.charCodeAt(++e.position);if(s===58)s=e.input.charCodeAt(++e.position),me(s)||d(e,"a whitespace character is expected after the key-value separator within a block mapping"),o&&(fs(e,r,f,a,i,null,u,l,c),a=i=m=null),h=!0,o=!1,g=!1,a=e.tag,i=e.result;else if(h)d(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=v,e.anchor=b,!0}else if(h)d(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=v,e.anchor=b,!0}if((e.line===p||e.lineIndent>t)&&(o&&(u=e.line,l=e.lineStart,c=e.position),ms(e,t,Da,!0,g)&&(o?i=e.result:m=e.result),o||(fs(e,r,f,a,i,m,u,l,c),a=i=m=null),R(e,!0,-1),s=e.input.charCodeAt(e.position)),(e.line===p||e.lineIndent>t)&&s!==0)d(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return o&&fs(e,r,f,a,i,null,u,l,c),h&&(e.tag=v,e.anchor=b,e.kind="mapping",e.result=r),h}function fT(e){var n,s,o,i=!1,a=!1,t=e.input.charCodeAt(e.position);if(t!==33)return!1;if(e.tag!==null&&d(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(i=!0,t=e.input.charCodeAt(++e.position)):t===33?(a=!0,s="!!",t=e.input.charCodeAt(++e.position)):s="!",o=e.position,i){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62)e.position<e.length?(n=e.input.slice(o,e.position),t=e.input.charCodeAt(++e.position)):d(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!me(t);)t===33&&(a?d(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(o-1,e.position+1),Gd.test(s)||d(e,"named tag handle cannot contain such characters"),a=!0,o=e.position+1)),t=e.input.charCodeAt(++e.position);n=e.input.slice(o,e.position),aO.test(n)&&d(e,"tag suffix cannot contain flow indicator characters")}n&&!Kd.test(n)&&d(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{d(e,"tag name is malformed: "+n)}return i?e.tag=n:Lt.call(e.tagMap,s)?e.tag=e.tagMap[s]+n:s==="!"?e.tag="!"+n:s==="!!"?e.tag="tag:yaml.org,2002:"+n:d(e,'undeclared tag handle "'+s+'"'),!0}function hT(e){if(t=e.input.charCodeAt(e.position),t!==38)return!1;e.anchor!==null&&d(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;for(var t,n;t!==0&&!me(t)&&!gs(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&d(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function uT(e){if(t=e.input.charCodeAt(e.position),t!==42)return!1;t=e.input.charCodeAt(++e.position),s=e.position;for(var t,n,s;t!==0&&!me(t)&&!gs(t);)t=e.input.charCodeAt(++e.position);return e.position===s&&d(e,"name of an alias node must contain at least one character"),n=e.input.slice(s,e.position),Lt.call(e.anchorMap,n)||d(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],R(e,!0,-1),!0}function ms(e,t,n,s,o){var i,r,c,l,h,m,f,g,v,a=1,p=!1,u=!1;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,g=v=l=Da===n||Jd===n,s&&R(e,!0,-1)&&(p=!0,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)),a===1)for(;fT(e)||hT(e);)R(e,!0,-1)?(p=!0,l=g,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)):l=!1;if(l&&(l=p||o),(a===1||Da===n)&&(Fa===n||eu===n?c=t:c=t+1,f=e.position-e.lineStart,a===1?l&&(HO(e,f)||gT(e,f,c))||yT(e,c)?u=!0:(v&&jT(e,c)||wT(e,c)||_T(e,c)?u=!0:uT(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&d(e,"alias node should not have any properties")):xT(e,c,Fa===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(u=l&&HO(e,f))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){{e.result!==null&&e.kind!=="scalar"&&d(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"');for(r=0,m=e.implicitTypes.length;r<m;r+=1)if(i=e.implicitTypes[r],i.resolve(e.result)){e.result=i.construct(e.result),e.tag=i.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}}else if(e.tag!=="!"){if(Lt.call(e.typeMap[e.kind||"fallback"],e.tag))i=e.typeMap[e.kind||"fallback"][e.tag];else{i=null,h=e.typeMap.multi[e.kind||"fallback"];for(r=0,m=h.length;r<m;r+=1)if(e.tag.slice(0,h[r].tag.length)===h[r].tag){i=h[r];break}}i||d(e,"unknown tag !<"+e.tag+">"),e.result!==null&&i.kind!==e.kind&&d(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+i.kind+'", not "'+e.kind+'"'),i.resolve(e.result,e.tag)?(e.result=i.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):d(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function lT(e){var t,n,s,o,a=e.position,i=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0;){if(R(e,!0,-1),t=e.input.charCodeAt(e.position),e.lineIndent>0||t!==37)break;for(i=!0,t=e.input.charCodeAt(++e.position),s=e.position;t!==0&&!me(t);)t=e.input.charCodeAt(++e.position);for(n=e.input.slice(s,e.position),o=[],n.length<1&&d(e,"directive name must not be less than one character in length");t!==0;){for(;Jn(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!rt(t))break}if(rt(t))break;for(s=e.position;t!==0&&!me(t);)t=e.input.charCodeAt(++e.position);o.push(e.input.slice(s,e.position))}t!==0&&Sd(e),Lt.call(zd,n)?zd[n](e,n,o):xl(e,'unknown document directive "'+n+'"')}if(R(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,R(e,!0,-1)):i&&d(e,"directives end mark is expected"),ms(e,e.lineIndent-1,Da,!1,!0),R(e,!0,-1),e.checkLineBreaks&&iO.test(e.input.slice(a,e.position))&&xl(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&kl(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,R(e,!0,-1));return}if(e.position<e.length-1)d(e,"end of the stream or a document separator is expected");else return}function KO(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new DT(e,t),s=e.indexOf("\0");for(s!==-1&&(n.position=s,d(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)lT(n);return n.documents}function cT(e,t,n){if(t!==null&&typeof t=="object"&&typeof n=="undefined"&&(n=t,t=null),s=KO(e,n),typeof t!="function")return s;for(var s,o=0,i=s.length;o<i;o+=1)t(s[o])}function rT(e,t){var n=KO(e,t);if(n.length===0)return void 0;if(n.length===1)return n[0];throw new _t("expected a single document in the stream, but found more")}GO=cT,XO=rT,QO={loadAll:GO,load:XO},ZO=cu,JO=QO.load,_d=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function oT(e,t){var s;const n=e.match(_d);if(n){const o=JO(n[1],{schema:ZO});return o?.title&&((s=t.setDiagramTitle)==null?void 0:s.call(t,o.title)),e.slice(n[0].length)}return e}nx=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sx=/\s*%%.*\n/gm,Ra={},Ml=function(e,t){e=e.replace(_d,"").replace(nx,"").replace(sx,`
`);for(const[n,{detector:s}]of Object.entries(Ra)){const o=s(e,t);if(o)return n}throw new Error(`No diagram type detected for text: ${e}`)},bd=(t,n,s)=>{if(Ra[t])throw new Error(`Detector with key ${t} already exists`);Ra[t]={detector:n,loader:s},e.debug(`Detector with key ${t} added${s?" with loader":""}`)},rx=e=>Ra[e].loader,Tl=function(e,t,n){const{depth:s,clobber:o}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(t=>Tl(e,t,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(t=>{e.includes(t)||e.push(t)}),e):e===void 0||s<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(n=>{typeof t[n]=="object"&&(e[n]===void 0||typeof e[n]=="object")?(e[n]===void 0&&(e[n]=Array.isArray(t[n])?[]:{}),e[n]=Tl(e[n],t[n],{depth:s-1,clobber:o})):(o||typeof e[n]!="object"&&typeof t[n]!="object")&&(e[n]=t[n])}),e)},V=Tl,dx={curveBasis:ps,curveBasisClosed:NT,curveBasisOpen:RT,curveLinear:je,curveLinearClosed:ez,curveMonotoneX:tz,curveMonotoneY:nz,curveNatural:sz,curveStep:oz,curveStepAfter:Cz,curveStepBefore:vz},zl=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,hx=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mx=function(e,t){const s=fd(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(s)){const e=s.map(e=>e.args);pn(e),n=V(n,[...e])}else n=s.args;if(n){let s=Ml(e,t);["config"].forEach(e=>{n[e]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),n[s]=n[e],delete n[e])})}return n},fd=function(t,n=null){try{const i=new RegExp(`[%]{2}(?![{]${hx.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),e.debug(`Detecting diagram directive${n!==null?" type:"+n:""} based on the text:${t}`);let s;const o=[];for(;(s=zl.exec(t))!==null;)if(s.index===zl.lastIndex&&zl.lastIndex++,s&&!n||n&&s[1]&&s[1].match(n)||n&&s[2]&&s[2].match(n)){const e=s[1]?s[1]:s[2],t=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:e,args:t})}return o.length===0&&o.push({type:t,args:null}),o.length===1?o[0]:o}catch(s){return e.error(`ERROR: ${s.message} - Unable to parse directive
      ${n!==null?" type:"+n:""} based on the text:${t}`),{type:null,args:null}}},px=function(e,t){for(const[n,s]of t.entries())if(s.match(e))return n;return-1};function He(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return dx[n]||t}function YF(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?(0,Ht.sanitizeUrl)(n):n}bx=(e,...t)=>{const s=e.split("."),o=s.length-1,i=s[o];let n=window;for(let e=0;e<o;e++)if(n=n[s[e]],!n)return;n[i](...t)};function $l(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function qF(e){let t,o=0;e.forEach(e=>{o+=$l(e,t),t=e});let s=o/2,n=void 0;return t=void 0,e.forEach(e=>{if(t&&!n){const o=$l(e,t);if(o<s)s-=o;else{const i=s/o;i<=0&&(n=t),i>=1&&(n={x:e.x,y:e.y}),i>0&&i<1&&(n={x:(1-i)*t.x+i*e.x,y:(1-i)*t.y+i*e.y})}}t=e}),n}function KF(e){return e.length===1?e[0]:qF(e)}wx=(t,n,s)=>{let i;e.info(`our points ${JSON.stringify(n)}`),n[0]!==s&&(n=n.reverse());const d=25;let a=d,o;i=void 0,n.forEach(e=>{if(i&&!o){const t=$l(e,i);if(t<a)a-=t;else{const n=a/t;n<=0&&(o=i),n>=1&&(o={x:e.x,y:e.y}),n>0&&n<1&&(o={x:(1-n)*i.x+n*e.x,y:(1-n)*i.y+n*e.y})}}i=e});const c=t?10:5,l=Math.atan2(n[0].y-o.y,n[0].x-o.x),r={x:0,y:0};return r.x=Math.sin(l)*c+(n[0].x+o.x)/2,r.y=-Math.cos(l)*c+(n[0].y+o.y)/2,r};function UF(t,n,s){let o=JSON.parse(JSON.stringify(s)),r;e.info("our points",o),n!=="start_left"&&n!=="start_right"&&(o=o.reverse()),o.forEach(e=>{r=e});const u=25+t;let d=u,i;r=void 0,o.forEach(e=>{if(r&&!i){const t=$l(e,r);if(t<d)d-=t;else{const n=d/t;n<=0&&(i=r),n>=1&&(i={x:e.x,y:e.y}),n>0&&n<1&&(i={x:(1-n)*r.x+n*e.x,y:(1-n)*r.y+n*e.y})}}r=e});const c=10+t*.5,l=Math.atan2(o[0].y-i.y,o[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(l)*c+(o[0].x+i.x)/2,a.y=-Math.cos(l)*c+(o[0].y+i.y)/2,n==="start_left"&&(a.x=Math.sin(l+Math.PI)*c+(o[0].x+i.x)/2,a.y=-Math.cos(l+Math.PI)*c+(o[0].y+i.y)/2),n==="end_right"&&(a.x=Math.sin(l-Math.PI)*c+(o[0].x+i.x)/2-5,a.y=-Math.cos(l-Math.PI)*c+(o[0].y+i.y)/2-5),n==="end_left"&&(a.x=Math.sin(l)*c+(o[0].x+i.x)/2-5,a.y=-Math.cos(l)*c+(o[0].y+i.y)/2-5),a}function vn(e){let t="",n="";for(const s of e)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?n=n+s+";":t=t+s+";");return{style:t,labelStyle:n}}Jl=0,Zl=()=>(Jl++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Jl);function HF(e){let t="";const n="0123456789abcdef",s=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*s));return t}p4=e=>HF(e.length),Sx=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},Mx=function(e,t){const o=t.text.replace(h.lineBreakRegex," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",t.fontSize),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);const s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(o),n},ed=$i((e,t,n)=>{if(!e)return e;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),h.lineBreakRegex.test(e))return e;const i=e.split(" "),o=[];let s="";return i.forEach((e,a)=>{const r=nt(`${e} `,n),c=nt(s,n);if(r>t){const{hyphenatedStrings:i,remainingWord:a}=Tx(e,t,"-",n);o.push(s,...i),s=a}else c+r>=t?(o.push(s),s=e):s=[s,e].filter(Boolean).join(" ");const l=a+1,d=l===i.length;d&&o.push(s)}),o.filter(e=>e!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Tx=$i((e,t,n="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const i=[...e],a=[];let o="";return i.forEach((e,r)=>{const c=`${o}${e}`,l=nt(c,s);if(l>=t){const e=r+1,t=i.length===e,s=`${c}${n}`;a.push(t?c:s),o=""}else o=c}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",s)=>`${e}${t}${n}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function td(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),ql(e,t).height}function nt(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),ql(e,t).width}ql=$i((e,t)=>{t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);const{fontSize:a,fontFamily:r,fontWeight:c}=t;if(!e)return{width:0,height:0};const l=["sans-serif",r],d=e.split(h.lineBreakRegex),n=[],s=i("body");if(!s.remove)return{width:0,height:0,lineHeight:0};const o=s.append("svg");for(const s of l){let t=0;const e={width:0,height:0,lineHeight:0};for(const l of d){const n=Sx();n.text=l;const i=Mx(o,n).style("font-size",a).style("font-weight",c).style("font-family",s),r=(i._groups||i)[0][0].getBBox();e.width=Math.round(Math.max(e.width,r.width)),t=Math.round(r.height),e.height+=t,e.lineHeight=Math.round(Math.max(e.lineHeight,t))}n.push(e)}o.remove();const u=isNaN(n[1].height)||isNaN(n[1].width)||isNaN(n[1].lineHeight)||n[0].height>n[1].height&&n[0].width>n[1].width&&n[0].lineHeight>n[1].lineHeight?0:1;return n[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Lx=class iterator{constructor(e,t){this.deterministic=e,this.seed=t,this.count=t?t.length:0}next(){return this.deterministic?this.count++:Date.now()}},Px=function(e){return Wl=Wl||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Wl.innerHTML=e,unescape(Wl.textContent)},pn=t=>{if(e.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>pn(e)):Object.keys(t).forEach(n=>{e.debug("Checking key",n),n.startsWith("__")&&(e.debug("sanitize deleting __ option",n),delete t[n]),n.includes("proto")&&(e.debug("sanitize deleting proto option",n),delete t[n]),n.includes("constr")&&(e.debug("sanitize deleting constr option",n),delete t[n]),n.includes("themeCSS")&&(e.debug("sanitizing themeCss option"),t[n]=ta(t[n])),n.includes("fontFamily")&&(e.debug("sanitizing fontFamily option"),t[n]=ta(t[n])),n.includes("altFontFamily")&&(e.debug("sanitizing altFontFamily option"),t[n]=ta(t[n])),v_.includes(n)?typeof t[n]=="object"&&(e.debug("sanitize deleting object",n),pn(t[n])):(e.debug("sanitize deleting option",n),delete t[n])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const s of e){const n=t.themeVariables[s];n&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[s]="")}}e.debug("After sanitization",t)},ta=e=>{let t=0,n=0;for(const s of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?t++:s==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e};function ad(e){return"str"in e}function MF(e){return e instanceof Error?e.message:String(e)}$x=(e,t,n,s)=>{if(!s)return;const o=e.node().getBBox();e.append("text").text(s).attr("x",o.x+o.width/2).attr("y",-n).attr("class",t)},p={assignWithDepth:V,wrapLabel:ed,calculateTextHeight:td,calculateTextWidth:nt,calculateTextDimensions:ql,detectInit:mx,detectDirective:fd,isSubstringInArray:px,interpolateToCurve:He,calcLabelPosition:KF,calcCardinalityPosition:wx,calcTerminalLabelPosition:UF,formatUrl:YF,getStylesFromArray:vn,generateId:Zl,random:p4,runFunc:bx,entityDecode:Px,initIdGenerator:Lx,directiveSanitizer:pn,sanitizeCss:ta,insertTitle:$x},Ux="mermaid",L3="9.3.0",qx="Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",Yx="./dist/mermaid.min.js",Gx="./dist/mermaid.core.mjs",Xx="./dist/mermaid.d.ts",Qx={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},Zx=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],Jx={clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},eC={type:"git",url:"https://github.com/mermaid-js/mermaid"},tC="Knut Sveidqvist",nC="MIT",sC={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},oC={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},iC={"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},aC=["dist","README.md"],rC=["**/*.css","**/*.scss"],Xi={name:Ux,version:L3,description:qx,main:Yx,module:Gx,types:Xx,exports:Qx,keywords:Zx,scripts:Jx,repository:eC,author:tC,license:nC,standard:sC,dependencies:oC,devDependencies:iC,files:aC,sideEffects:rC},bn=Object.freeze(b_),re=V({},bn),In=[],Js=V({},bn),Ci=(e,t)=>{let n=V({},e),s={};for(const e of t)jd(e),s=V(s,e);if(n=V(n,s),s.theme&&s.theme in ct){const e=V({},uC),t=V(e.themeVariables||{},s.themeVariables);n.theme&&n.theme in ct&&(n.themeVariables=ct[n.theme].getThemeVariables(t))}return Js=n,Nd(Js),Js},pC=e=>(re=V({},bn),re=V(re,e),e.theme&&ct[e.theme]&&(re.themeVariables=ct[e.theme].getThemeVariables(e.themeVariables)),Ci(re,In),re),gC=e=>{uC=V({},e)},vC=e=>(re=V(re,e),Ci(re,In),re),pd=()=>V({},re),vd=e=>(Nd(e),V(Js,e),t()),t=()=>V({},Js),jd=t=>{var n;["secure",...(n=re.secure)!=null?n:[]].forEach(n=>{t[n]!==void 0&&(e.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(e=>{e.indexOf("__")===0&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&jd(t[e])})},Sl=e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),In.push(e),Ci(re,In)},mo=(e=re)=>{In=[],Ci(e,In)},Ed=(e=>(e.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",e))(Ed||{}),Dd={},EC=t=>{if(Dd[t])return;e.warn(Ed[t]),Dd[t]=!0},Nd=e=>{if(!e)return;(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&EC("LAZY_LOAD_DEPRECATED")},AC=function(e,t){for(let n of t)e.attr(n[0],n[1])},SC=function(e,t,n){let s=new Map;return n?(s.set("width","100%"),s.set("style",`max-width: ${t}px;`)):(s.set("height",e),s.set("width",t)),s},Me=function(e,t,n,s){const o=SC(t,n,s);AC(e,o)},di=function(t,n,s,o){const i=n.node().getBBox(),c=i.width,l=i.height;e.info(`SVG bounds: ${c}x${l}`,i);let a=0,r=0;e.info(`Graph bounds: ${a}x${r}`,t),a=c+s*2,r=l+s*2,e.info(`Calculated bounds: ${a}x${r}`),Me(n,r,a,o);const d=`${i.x-s} ${i.y-s} ${i.width+2*s} ${i.height+2*s}`;n.attr("viewBox",d)},TC=e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,go=TC,DC=e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
`,Qd=DC,LC=()=>``,tu=LC,PC=e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,li=PC,IC=e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,su=IC,VC=()=>``,ou=VC,WC=e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,au=WC,KC=e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,du=KC,YC=e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,hu=YC,XC=e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,ii=XC,ZC=e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,pu=ZC,eE=e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,Cu=eE,oi={flowchart:li,"flowchart-v2":li,sequence:hu,gantt:su,classDiagram:go,"classDiagram-v2":go,class:go,stateDiagram:ii,state:ii,info:ou,pie:au,er:Qd,error:tu,journey:pu,requirement:du,c4:Cu},sE=(t,n,s)=>{let o="";return t in oi&&oi[t]?o=oi[t](s):e.warn(`No theme found for ${t}`),` & {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
    fill: ${s.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${s.errorBkgColor};
  }
  & .error-text {
    fill: ${s.errorTextColor};
    stroke: ${s.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${s.lineColor};
    stroke: ${s.lineColor};
  }
  & .marker.cross {
    stroke: ${s.lineColor};
  }

  & svg {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
  }

  ${o}

  ${n}
`},oE=(e,t)=>{oi[e]=t},iE=sE,aE=e,rE=Qc,yo=t,lE=e=>Ne(e,yo()),Hu=di,Jo={},B=(e,t,n)=>{if(Jo[e])throw new Error(`Diagram ${e} already registered.`);Jo[e]=t,n&&bd(e,n),oE(e,t.styles),t.injectUtils&&t.injectUtils(aE,rE,yo,lE,Hu)},$u=e=>{if(e in Jo)return Jo[e];throw new Error(`Diagram ${e} not found.`)},ol=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},d=[1,4],a=[1,7],r=[1,5],b=[1,9],c=[1,6],l=[2,6],v=[1,16],m=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],i=[8,14,20,22,24,25,27,29,32,37,40],y=[8,13,14,20,22,24,25,27,29,32,37,40],w=[1,26],h=[6,8,14,50,55],t=[8,14,55],f=[1,53],p=[1,52],_=[8,14,30,33,35,38,55],o=[1,67],s=[1,68],n=[1,69],j=[8,14,33,35,42,55],g={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 3:return a[c];case 4:return a[c-1];case 5:return o.setDirection(a[c-3]),a[c-1];case 7:o.setOptions(a[c-1]),this.$=a[c];break;case 8:a[c-1]+=a[c],this.$=a[c-1];break;case 10:this.$=[];break;case 11:a[c-1].push(a[c]),this.$=a[c-1];break;case 12:this.$=a[c-1];break;case 17:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 18:case 19:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 20:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 22:o.checkout(a[c]);break;case 23:o.branch(a[c]);break;case 24:o.branch(a[c-2],a[c]);break;case 25:o.cherryPick(a[c],"",void 0);break;case 26:o.cherryPick(a[c-2],"",a[c]);break;case 27:case 29:o.cherryPick(a[c-2],"","");break;case 28:o.cherryPick(a[c],"",a[c-2]);break;case 30:o.merge(a[c],"","","");break;case 31:o.merge(a[c-2],a[c],"","");break;case 32:o.merge(a[c-2],"",a[c],"");break;case 33:o.merge(a[c-2],"","",a[c]);break;case 34:o.merge(a[c-4],a[c],"",a[c-2]);break;case 35:o.merge(a[c-4],"",a[c],a[c-2]);break;case 36:o.merge(a[c-4],"",a[c-2],a[c]);break;case 37:o.merge(a[c-4],a[c-2],a[c],"");break;case 38:o.merge(a[c-4],a[c-2],"",a[c]);break;case 39:o.merge(a[c-4],a[c],a[c-2],"");break;case 40:o.merge(a[c-6],a[c-4],a[c-2],a[c]);break;case 41:o.merge(a[c-6],a[c],a[c-4],a[c-2]);break;case 42:o.merge(a[c-6],a[c-4],a[c],a[c-2]);break;case 43:o.merge(a[c-6],a[c-2],a[c-4],a[c]);break;case 44:o.merge(a[c-6],a[c],a[c-2],a[c-4]);break;case 45:o.merge(a[c-6],a[c-2],a[c],a[c-4]);break;case 46:o.commit(a[c]);break;case 47:o.commit("","",o.commitType.NORMAL,a[c]);break;case 48:o.commit("","",a[c],"");break;case 49:o.commit("","",a[c],a[c-2]);break;case 50:o.commit("","",a[c-2],a[c]);break;case 51:o.commit("",a[c],o.commitType.NORMAL,"");break;case 52:o.commit("",a[c-2],o.commitType.NORMAL,a[c]);break;case 53:o.commit("",a[c],o.commitType.NORMAL,a[c-2]);break;case 54:o.commit("",a[c-2],a[c],"");break;case 55:o.commit("",a[c],a[c-2],"");break;case 56:o.commit("",a[c-4],a[c-2],a[c]);break;case 57:o.commit("",a[c-4],a[c],a[c-2]);break;case 58:o.commit("",a[c-2],a[c-4],a[c]);break;case 59:o.commit("",a[c],a[c-4],a[c-2]);break;case 60:o.commit("",a[c],a[c-2],a[c-4]);break;case 61:o.commit("",a[c-2],a[c],a[c-4]);break;case 62:o.commit(a[c],"",o.commitType.NORMAL,"");break;case 63:o.commit(a[c],"",o.commitType.NORMAL,a[c-2]);break;case 64:o.commit(a[c-2],"",o.commitType.NORMAL,a[c]);break;case 65:o.commit(a[c-2],"",a[c],"");break;case 66:o.commit(a[c],"",a[c-2],"");break;case 67:o.commit(a[c],a[c-2],o.commitType.NORMAL,"");break;case 68:o.commit(a[c-2],a[c],o.commitType.NORMAL,"");break;case 69:o.commit(a[c-4],"",a[c-2],a[c]);break;case 70:o.commit(a[c-4],"",a[c],a[c-2]);break;case 71:o.commit(a[c-2],"",a[c-4],a[c]);break;case 72:o.commit(a[c],"",a[c-4],a[c-2]);break;case 73:o.commit(a[c],"",a[c-2],a[c-4]);break;case 74:o.commit(a[c-2],"",a[c],a[c-4]);break;case 75:o.commit(a[c-4],a[c],a[c-2],"");break;case 76:o.commit(a[c-4],a[c-2],a[c],"");break;case 77:o.commit(a[c-2],a[c],a[c-4],"");break;case 78:o.commit(a[c],a[c-2],a[c-4],"");break;case 79:o.commit(a[c],a[c-4],a[c-2],"");break;case 80:o.commit(a[c-2],a[c-4],a[c],"");break;case 81:o.commit(a[c-4],a[c],o.commitType.NORMAL,a[c-2]);break;case 82:o.commit(a[c-4],a[c-2],o.commitType.NORMAL,a[c]);break;case 83:o.commit(a[c-2],a[c],o.commitType.NORMAL,a[c-4]);break;case 84:o.commit(a[c],a[c-2],o.commitType.NORMAL,a[c-4]);break;case 85:o.commit(a[c],a[c-4],o.commitType.NORMAL,a[c-2]);break;case 86:o.commit(a[c-2],a[c-4],o.commitType.NORMAL,a[c]);break;case 87:o.commit(a[c-6],a[c-4],a[c-2],a[c]);break;case 88:o.commit(a[c-6],a[c-4],a[c],a[c-2]);break;case 89:o.commit(a[c-6],a[c-2],a[c-4],a[c]);break;case 90:o.commit(a[c-6],a[c],a[c-4],a[c-2]);break;case 91:o.commit(a[c-6],a[c-2],a[c],a[c-4]);break;case 92:o.commit(a[c-6],a[c],a[c-2],a[c-4]);break;case 93:o.commit(a[c-4],a[c-6],a[c-2],a[c]);break;case 94:o.commit(a[c-4],a[c-6],a[c],a[c-2]);break;case 95:o.commit(a[c-2],a[c-6],a[c-4],a[c]);break;case 96:o.commit(a[c],a[c-6],a[c-4],a[c-2]);break;case 97:o.commit(a[c-2],a[c-6],a[c],a[c-4]);break;case 98:o.commit(a[c],a[c-6],a[c-2],a[c-4]);break;case 99:o.commit(a[c],a[c-4],a[c-2],a[c-6]);break;case 100:o.commit(a[c-2],a[c-4],a[c],a[c-6]);break;case 101:o.commit(a[c],a[c-2],a[c-4],a[c-6]);break;case 102:o.commit(a[c-2],a[c],a[c-4],a[c-6]);break;case 103:o.commit(a[c-4],a[c-2],a[c],a[c-6]);break;case 104:o.commit(a[c-4],a[c],a[c-2],a[c-6]);break;case 105:o.commit(a[c-2],a[c-4],a[c-6],a[c]);break;case 106:o.commit(a[c],a[c-4],a[c-6],a[c-2]);break;case 107:o.commit(a[c-2],a[c],a[c-6],a[c-4]);break;case 108:o.commit(a[c],a[c-2],a[c-6],a[c-4]);break;case 109:o.commit(a[c-4],a[c-2],a[c-6],a[c]);break;case 110:o.commit(a[c-4],a[c],a[c-6],a[c-2]);break;case 111:this.$="";break;case 112:this.$=a[c];break;case 113:this.$=o.commitType.NORMAL;break;case 114:this.$=o.commitType.REVERSE;break;case 115:this.$=o.commitType.HIGHLIGHT;break;case 118:o.parseDirective("%%{","open_directive");break;case 119:o.parseDirective(a[c],"type_directive");break;case 120:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 121:o.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:d,8:a,14:r,46:8,50:b,55:c},{1:[3]},{3:10,4:2,5:3,6:d,8:a,14:r,46:8,50:b,55:c},{3:11,4:2,5:3,6:d,8:a,14:r,46:8,50:b,55:c},{7:12,8:l,9:[1,13],10:[1,14],11:15,14:v},e(m,[2,124]),e(m,[2,125]),e(m,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:l,11:15,14:v},{9:[1,21]},e(i,[2,10],{12:22,13:[1,23]}),e(y,[2,9]),{9:[1,25],48:24,53:w},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:l,11:15,14:v},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(y,[2,8]),e(h,[2,116]),{49:45,52:[1,46]},e(h,[2,121]),{1:[2,4]},{8:[1,47]},e(i,[2,11]),{4:48,8:a,14:r,55:c},e(i,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{21:[1,49]},{23:[1,50]},e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),{28:51,34:f,54:p},e(t,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:f,54:p},{33:[1,61],35:[1,62]},{28:63,34:f,54:p},{48:64,53:w},{53:[2,120]},{1:[2,5]},e(i,[2,12]),e(t,[2,17]),e(t,[2,18]),e(t,[2,22]),e(_,[2,122]),e(_,[2,123]),e(t,[2,46]),{34:[1,65]},{39:66,43:o,44:s,45:n},{34:[1,70]},{34:[1,71]},e(t,[2,112]),e(t,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},e(t,[2,23],{30:[1,78]}),e(h,[2,117]),e(t,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),e(t,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),e(j,[2,113]),e(j,[2,114]),e(j,[2,115]),e(t,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),e(t,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:o,44:s,45:n},{34:[1,93]},e(t,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:o,44:s,45:n},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:o,44:s,45:n},{34:[1,106]},{34:[1,107]},{39:108,43:o,44:s,45:n},{34:[1,109]},e(t,[2,31],{35:[1,111],38:[1,110]}),e(t,[2,32],{33:[1,113],35:[1,112]}),e(t,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},e(t,[2,24]),e(t,[2,49],{33:[1,120],42:[1,121]}),e(t,[2,53],{38:[1,122],42:[1,123]}),e(t,[2,63],{33:[1,125],38:[1,124]}),e(t,[2,50],{33:[1,126],42:[1,127]}),e(t,[2,55],{35:[1,128],42:[1,129]}),e(t,[2,66],{33:[1,131],35:[1,130]}),e(t,[2,52],{38:[1,132],42:[1,133]}),e(t,[2,54],{35:[1,134],42:[1,135]}),e(t,[2,67],{35:[1,137],38:[1,136]}),e(t,[2,64],{33:[1,139],38:[1,138]}),e(t,[2,65],{33:[1,141],35:[1,140]}),e(t,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:o,44:s,45:n},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:o,44:s,45:n},e(t,[2,26]),e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:o,44:s,45:n},{34:[1,153]},{39:154,43:o,44:s,45:n},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:o,44:s,45:n},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:o,44:s,45:n},{34:[1,167]},{39:168,43:o,44:s,45:n},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:o,44:s,45:n},{34:[1,173]},e(t,[2,37],{35:[1,174]}),e(t,[2,38],{38:[1,175]}),e(t,[2,36],{33:[1,176]}),e(t,[2,39],{35:[1,177]}),e(t,[2,34],{38:[1,178]}),e(t,[2,35],{33:[1,179]}),e(t,[2,60],{42:[1,180]}),e(t,[2,73],{33:[1,181]}),e(t,[2,61],{42:[1,182]}),e(t,[2,84],{38:[1,183]}),e(t,[2,74],{33:[1,184]}),e(t,[2,83],{38:[1,185]}),e(t,[2,59],{42:[1,186]}),e(t,[2,72],{33:[1,187]}),e(t,[2,58],{42:[1,188]}),e(t,[2,78],{35:[1,189]}),e(t,[2,71],{33:[1,190]}),e(t,[2,77],{35:[1,191]}),e(t,[2,57],{42:[1,192]}),e(t,[2,85],{38:[1,193]}),e(t,[2,56],{42:[1,194]}),e(t,[2,79],{35:[1,195]}),e(t,[2,80],{35:[1,196]}),e(t,[2,86],{38:[1,197]}),e(t,[2,70],{33:[1,198]}),e(t,[2,81],{38:[1,199]}),e(t,[2,69],{33:[1,200]}),e(t,[2,75],{35:[1,201]}),e(t,[2,76],{35:[1,202]}),e(t,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:o,44:s,45:n},{34:[1,206]},{34:[1,207]},{39:208,43:o,44:s,45:n},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:o,44:s,45:n},{34:[1,214]},{39:215,43:o,44:s,45:n},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:o,44:s,45:n},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:o,44:s,45:n},{34:[1,228]},{39:229,43:o,44:s,45:n},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:o,44:s,45:n},e(t,[2,40]),e(t,[2,42]),e(t,[2,41]),e(t,[2,43]),e(t,[2,45]),e(t,[2,44]),e(t,[2,101]),e(t,[2,102]),e(t,[2,99]),e(t,[2,100]),e(t,[2,104]),e(t,[2,103]),e(t,[2,108]),e(t,[2,107]),e(t,[2,106]),e(t,[2,105]),e(t,[2,110]),e(t,[2,109]),e(t,[2,98]),e(t,[2,97]),e(t,[2,96]),e(t,[2,95]),e(t,[2,93]),e(t,[2,94]),e(t,[2,92]),e(t,[2,91]),e(t,[2,90]),e(t,[2,89]),e(t,[2,87]),e(t,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},O=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return e}();g.lexer=O;function u(){this.yy={}}return u.prototype=g,g.Parser=u,new u}(),ol.parser=ol,pE=ol,gE=e=>e.match(/^\s*gitGraph/)!==null,sl="",Qo="",tl="",el=e=>Ne(e,t()),xe=function(){sl="",tl="",Qo=""},_e=function(e){sl=el(e).replace(/^\s+/g,"")},Se=function(){return sl||Qo},Fe=function(e){tl=el(e).replace(/\n\s+/g,`
`)},Te=function(){return tl},xt=function(e){Qo=el(e)},wt=function(){return Qo},Po=t().gitGraph.mainBranchName,SE=t().gitGraph.mainBranchOrder,P={},te=null,To={},To[Po]={name:Po,order:SE},N={},N[Po]=te,I=Po,f1="LR",nn=0;function p1(){return p4({length:7})}PE=function(e,t,n){_.parseDirective(this,e,t,n)};function hM(e,t){const n=Object.create(null);return e.reduce((e,s)=>{const o=t(s);return n[o]||(n[o]=!0,e.push(s)),e},[])}IE=function(e){f1=e},y1={},VE=function(t){e.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{y1=JSON.parse(t)}catch(t){e.error("error while parsing gitGraph options",t.message)}},$E=function(){return y1},WE=function(n,s,o,i){e.debug("Entering commit:",n,s,o,i),s=h.sanitizeText(s,t()),n=h.sanitizeText(n,t()),i=h.sanitizeText(i,t());const a={id:s||nn+"-"+p1(),message:n,seq:nn++,type:o||hs.NORMAL,tag:i||"",parents:te==null?[]:[te.id],branch:I};te=a,P[a.id]=a,N[I]=a.id,e.debug("in pushCommit "+a.id)},UE=function(n,s){if(n=h.sanitizeText(n,t()),N[n]===void 0)N[n]=te!=null?te.id:null,To[n]={name:n,order:s?parseInt(s,10):null},A1(n),e.debug("in createBranch");else{let e=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+n+'")');throw e.hash={text:"branch "+n,token:"branch "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+n+'"']},e}},KE=function(n,s,o,i){n=h.sanitizeText(n,t()),s=h.sanitizeText(s,t());const r=P[N[I]],c=P[N[n]];if(I===n){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(r===void 0||!r){let e=new Error('Incorrect usage of "merge". Current branch ('+I+")has no commits");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},e}if(N[n]===void 0){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+n+") does not exist");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+n]},e}if(c===void 0||!c){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+n+") has no commits");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},e}if(r===c){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(s&&P[s]!==void 0){let e=new Error('Incorrect usage of "merge". Commit with id:'+s+" already exists, use different custom Id");throw e.hash={text:"merge "+n+s+o+i,token:"merge "+n+s+o+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+n+" "+s+"_UNIQUE "+o+" "+i]},e}const a={id:s||nn+"-"+p1(),message:"merged branch "+n+" into "+I,seq:nn++,parents:[te==null?null:te.id,N[n]],branch:I,type:hs.MERGE,customType:o,customId:!!s,tag:i||""};te=a,P[a.id]=a,N[I]=a.id,e.debug(N),e.debug("in mergeBranch")},qE=function(n,s,o){if(e.debug("Entering cherryPick:",n,s,o),n=h.sanitizeText(n,t()),s=h.sanitizeText(s,t()),o=h.sanitizeText(o,t()),!n||P[n]===void 0){let e=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}let i=P[n],a=i.branch;if(i.type===hs.MERGE){let e=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}if(!s||P[s]===void 0){if(a===I){let e=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}const r=P[N[I]];if(r===void 0||!r){let e=new Error('Incorrect usage of "cherry-pick". Current branch ('+I+")has no commits");throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}const t={id:nn+"-"+p1(),message:"cherry-picked "+i+" into "+I,seq:nn++,parents:[te==null?null:te.id,i.id],branch:I,type:hs.CHERRY_PICK,tag:o??"cherry-pick:"+i.id};te=t,P[t.id]=t,N[I]=t.id,e.debug(N),e.debug("in cherryPick")}},A1=function(e){if(e=h.sanitizeText(e,t()),N[e]===void 0){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}I=e;const n=N[I];te=P[n]};function GE(e,t,n){const s=e.indexOf(t);s===-1?e.push(n):e.splice(s,1,n)}function XE(t){const n=t.reduce((e,t)=>e.seq>t.seq?e:t,t[0]);let s="";t.forEach(function(e){e===n?s+="	*":s+="	|"});const o=[s,n.id,n.seq];for(let e in N)N[e]===n.id&&o.push(e);if(e.debug(o.join(" ")),n.parents&&n.parents.length==2){const e=P[n.parents[0]];GE(t,n,e),t.push(P[n.parents[1]])}else if(n.parents.length==0)return;else{const e=P[n.parents];GE(t,n,e)}t=hM(t,e=>e.id),XE(t)}QE=function(){e.debug(P);const t=S1()[0];XE([t])},ZE=function(){P={},te=null;let e=t().gitGraph.mainBranchName,n=t().gitGraph.mainBranchOrder;N={},N[e]=null,To={},To[e]={name:e,order:n},I=e,nn=0,xe()},JE=function(){const e=Object.values(To).map((e,t)=>e.order!==null?e:{...e,order:parseFloat(`0.${t}`,10)}).sort((e,t)=>e.order-t.order).map(({name:e})=>({name:e}));return e},ek=function(){return N},tk=function(){return P},S1=function(){const t=Object.keys(P).map(function(e){return P[e]});return t.forEach(function(t){e.debug(t.id)}),t.sort((e,t)=>e.seq-t.seq),t},sk=function(){return I},ok=function(){return f1},ik=function(){return te},hs={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},rk={parseDirective:PE,getConfig:()=>t().gitGraph,setDirection:IE,setOptions:VE,getOptions:$E,commit:WE,branch:UE,merge:KE,cherryPick:qE,checkout:A1,prettyPrint:QE,clear:ZE,getBranchesAsObjArray:JE,getBranches:ek,getCommits:tk,getCommitsArray:S1,getCurrentBranch:sk,getDirection:ok,getHead:ik,setAccTitle:_e,getAccTitle:Se,getAccDescription:Te,setAccDescription:Fe,setDiagramTitle:xt,getDiagramTitle:wt,commitType:hs},wo={},he={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},en=8,le={},ai={},ri=[],ci=0,pk=()=>{le={},ai={},wo={},ci=0,ri=[]},gk=e=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");let t=[];typeof e=="string"?t=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?t=e:t=[];for(const s of t){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),e.setAttribute("class","row"),e.textContent=s.trim(),n.appendChild(e)}return n},O4=(e,t,n)=>{const a=yo().gitGraph,o=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels");let s=0;const r=Object.keys(t),c=r.sort((e,n)=>t[e].seq-t[n].seq);c.forEach(e=>{const r=t[e],c=le[r.branch].pos,l=s+10;if(n){let e,t=r.customType!==void 0&&r.customType!==""?r.customType:r.type;switch(t){case he.NORMAL:e="commit-normal";break;case he.REVERSE:e="commit-reverse";break;case he.HIGHLIGHT:e="commit-highlight";break;case he.MERGE:e="commit-merge";break;case he.CHERRY_PICK:e="commit-cherry-pick";break;default:e="commit-normal"}if(t===he.HIGHLIGHT){const t=o.append("rect");t.attr("x",l-10),t.attr("y",c-10),t.attr("height",20),t.attr("width",20),t.attr("class",`commit ${r.id} commit-highlight${le[r.branch].index%en} ${e}-outer`),o.append("rect").attr("x",l-6).attr("y",c-6).attr("height",12).attr("width",12).attr("class",`commit ${r.id} commit${le[r.branch].index%en} ${e}-inner`)}else if(t===he.CHERRY_PICK)o.append("circle").attr("cx",l).attr("cy",c).attr("r",10).attr("class",`commit ${r.id} ${e}`),o.append("circle").attr("cx",l-3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${e}`),o.append("circle").attr("cx",l+3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${e}`),o.append("line").attr("x1",l+3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${e}`),o.append("line").attr("x1",l-3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${e}`);else{const n=o.append("circle");if(n.attr("cx",l),n.attr("cy",c),n.attr("r",r.type===he.MERGE?9:10),n.attr("class",`commit ${r.id} commit${le[r.branch].index%en}`),t===he.MERGE){const t=o.append("circle");t.attr("cx",l),t.attr("cy",c),t.attr("r",6),t.attr("class",`commit ${e} ${r.id} commit${le[r.branch].index%en}`)}if(t===he.REVERSE){const t=o.append("path");t.attr("d",`M ${l-5},${c-5}L${l+5},${c+5}M${l-5},${c+5}L${l+5},${c-5}`).attr("class",`commit ${e} ${r.id} commit${le[r.branch].index%en}`)}}}if(ai[r.id]={x:s+10,y:c},n){const t=4,e=2;if(r.type!==he.CHERRY_PICK&&(r.customId&&r.type===he.MERGE||r.type!==he.MERGE)&&a.showCommitLabel){const n=i.append("g"),l=n.insert("rect").attr("class","commit-label-bkg"),o=n.append("text").attr("x",s).attr("y",c+25).attr("class","commit-label").text(r.id);let t=o.node().getBBox();if(l.attr("x",s+10-t.width/2-e).attr("y",c+13.5).attr("width",t.width+2*e).attr("height",t.height+2*e),o.attr("x",s+10-t.width/2),a.rotateCommitLabel){let e=-7.5-(t.width+10)/25*9.5,o=10+t.width/25*8.5;n.attr("transform","translate("+e+", "+o+") rotate("+-45+", "+s+", "+c+")")}}if(r.tag){const d=i.insert("polygon"),u=i.append("circle"),l=i.append("text").attr("y",c-16).attr("class","tag-label").text(r.tag);let n=l.node().getBBox();l.attr("x",s+10-n.width/2);const a=n.height/2,o=c-19.2;d.attr("class","tag-label-bkg").attr("points",`
          ${s-n.width/2-t/2},${o+e}
          ${s-n.width/2-t/2},${o-e}
          ${s+10-n.width/2-t},${o-a-e}
          ${s+10+n.width/2+t},${o-a-e}
          ${s+10+n.width/2+t},${o+a+e}
          ${s+10-n.width/2-t},${o+a+e}`),u.attr("cx",s-n.width/2+t/2).attr("cy",o).attr("r",1.5).attr("class","tag-hole")}}s+=50,s>ci&&(ci=s)})},bk=(e,t,n)=>{const s=Object.keys(n),o=s.filter(s=>n[s].branch===t.branch&&n[s].seq>e.seq&&n[s].seq<t.seq);return o.length>0},gc=(e,t,n=0)=>{const s=e+Math.abs(e-t)/2;if(n>5)return s;let o=ri.every(e=>Math.abs(e-s)>=10);if(o)return ri.push(s),s;const i=Math.abs(e-t);return gc(e,t-i/5,n+1)},yk=(e,t,n,s)=>{const o=ai[t.id],i=ai[n.id],h=bk(t,n,s);let c="",u="",a=0,r=0,d=le[n.branch].index,l;if(h){c="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",a=10,r=10,d=le[n.branch].index;const e=o.y<i.y?gc(o.y,i.y):gc(i.y,o.y);o.y<i.y?l=`M ${o.x} ${o.y} L ${o.x} ${e-a} ${c} ${o.x+r} ${e} L ${i.x-a} ${e} ${u} ${i.x} ${e+r} L ${i.x} ${i.y}`:l=`M ${o.x} ${o.y} L ${o.x} ${e+a} ${u} ${o.x+r} ${e} L ${i.x-a} ${e} ${c} ${i.x} ${e-r} L ${i.x} ${i.y}`}else o.y<i.y&&(c="A 20 20, 0, 0, 0,",a=20,r=20,d=le[n.branch].index,l=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${c} ${o.x+r} ${i.y} L ${i.x} ${i.y}`),o.y>i.y&&(c="A 20 20, 0, 0, 0,",a=20,r=20,d=le[t.branch].index,l=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${c} ${i.x} ${o.y-r} L ${i.x} ${i.y}`),o.y===i.y&&(d=le[t.branch].index,l=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${c} ${o.x+r} ${i.y} L ${i.x} ${i.y}`);e.append("path").attr("d",l).attr("class","arrow arrow"+d%en)},_k=(e,t)=>{const n=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(e=>{const s=t[e];s.parents&&s.parents.length>0&&s.parents.forEach(e=>{yk(n,t[e],s,t)})})},wk=(e,t)=>{const s=yo().gitGraph,n=e.append("g");t.forEach((e,t)=>{const r=t%en,i=le[e.name].pos,a=n.append("line");a.attr("x1",0),a.attr("y1",i),a.attr("x2",ci),a.attr("y2",i),a.attr("class","branch branch"+r),ri.push(i);let u=e.name;const c=gk(u),l=n.insert("rect"),h=n.insert("g").attr("class","branchLabel"),d=h.insert("g").attr("class","label branch-label"+r);d.node().appendChild(c);let o=c.getBBox();l.attr("class","branchLabelBkg label"+r).attr("rx",4).attr("ry",4).attr("x",-o.width-4-(s.rotateCommitLabel===!0?30:0)).attr("y",-o.height/2+8).attr("width",o.width+18).attr("height",o.height+4),d.attr("transform","translate("+(-o.width-14-(s.rotateCommitLabel===!0?30:0))+", "+(i-o.height/2-1)+")"),l.attr("transform","translate("+-19+", "+(i-o.height/2)+")")})},Ok=function(t,n,s,o){var c;pk();const l=yo(),r=l.gitGraph;e.debug("in gitgraph renderer",t+`
`,"id:",n,s),wo=o.db.getCommits();const d=o.db.getBranchesAsObjArray();let u=0;d.forEach((e,t)=>{le[e.name]={pos:u,index:t},u+=50+(r.rotateCommitLabel?40:0)});const a=i(`[id="${n}"]`);O4(a,wo,!1),r.showBranches&&wk(a,d),_k(a,wo),O4(a,wo,!0),p.insertTitle(a,"gitTitleText",r.titleTopMargin,o.db.getDiagramTitle()),Hu(void 0,a,r.diagramPadding,(c=r.useMaxWidth)!=null?c:l.useMaxWidth)},xk={draw:Ok},Ck=e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  }
`,Ek=Ck,pi=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},oe=[1,6],fe=[1,7],re=[1,8],ae=[1,9],ue=[1,16],me=[1,11],pe=[1,12],le=[1,13],ce=[1,14],he=[1,15],ge=[1,27],X=[1,33],G=[1,34],Y=[1,35],q=[1,36],K=[1,37],b=[1,72],j=[1,73],I=[1,74],_=[1,75],w=[1,76],O=[1,77],x=[1,78],C=[1,38],E=[1,39],k=[1,40],A=[1,41],S=[1,42],M=[1,43],F=[1,44],r=[1,45],z=[1,46],D=[1,47],a=[1,48],L=[1,49],R=[1,50],P=[1,51],h=[1,52],y=[1,53],T=[1,54],V=[1,55],$=[1,56],W=[1,57],B=[1,59],H=[1,60],N=[1,61],v=[1,62],g=[1,63],p=[1,64],f=[1,65],m=[1,66],u=[1,67],d=[1,68],l=[1,69],Q=[24,52],se=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Z=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],o=[1,94],s=[1,95],n=[1,96],t=[1,97],i=[15,24,52],de=[7,8,9,10,18,22,25,26,27,28],ie=[15,24,43,52],J=[15,24,43,52,86,87,89,90],U=[15,43],te=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:o.setDirection("TB");break;case 5:o.setDirection("BT");break;case 6:o.setDirection("RL");break;case 7:o.setDirection("LR");break;case 11:o.parseDirective("%%{","open_directive");break;case 12:break;case 13:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 14:o.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:o.setC4Type(a[c-3]);break;case 26:o.setTitle(a[c].substring(6)),this.$=a[c].substring(6);break;case 27:o.setAccDescription(a[c].substring(15)),this.$=a[c].substring(15);break;case 28:this.$=a[c].trim(),o.setTitle(this.$);break;case 29:case 30:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 35:case 36:a[c].splice(2,0,"ENTERPRISE"),o.addPersonOrSystemBoundary(...a[c]),this.$=a[c];break;case 37:o.addPersonOrSystemBoundary(...a[c]),this.$=a[c];break;case 38:a[c].splice(2,0,"CONTAINER"),o.addContainerBoundary(...a[c]),this.$=a[c];break;case 39:o.addDeploymentNode("node",...a[c]),this.$=a[c];break;case 40:o.addDeploymentNode("nodeL",...a[c]),this.$=a[c];break;case 41:o.addDeploymentNode("nodeR",...a[c]),this.$=a[c];break;case 42:o.popBoundaryParseStack();break;case 46:o.addPersonOrSystem("person",...a[c]),this.$=a[c];break;case 47:o.addPersonOrSystem("external_person",...a[c]),this.$=a[c];break;case 48:o.addPersonOrSystem("system",...a[c]),this.$=a[c];break;case 49:o.addPersonOrSystem("system_db",...a[c]),this.$=a[c];break;case 50:o.addPersonOrSystem("system_queue",...a[c]),this.$=a[c];break;case 51:o.addPersonOrSystem("external_system",...a[c]),this.$=a[c];break;case 52:o.addPersonOrSystem("external_system_db",...a[c]),this.$=a[c];break;case 53:o.addPersonOrSystem("external_system_queue",...a[c]),this.$=a[c];break;case 54:o.addContainer("container",...a[c]),this.$=a[c];break;case 55:o.addContainer("container_db",...a[c]),this.$=a[c];break;case 56:o.addContainer("container_queue",...a[c]),this.$=a[c];break;case 57:o.addContainer("external_container",...a[c]),this.$=a[c];break;case 58:o.addContainer("external_container_db",...a[c]),this.$=a[c];break;case 59:o.addContainer("external_container_queue",...a[c]),this.$=a[c];break;case 60:o.addComponent("component",...a[c]),this.$=a[c];break;case 61:o.addComponent("component_db",...a[c]),this.$=a[c];break;case 62:o.addComponent("component_queue",...a[c]),this.$=a[c];break;case 63:o.addComponent("external_component",...a[c]),this.$=a[c];break;case 64:o.addComponent("external_component_db",...a[c]),this.$=a[c];break;case 65:o.addComponent("external_component_queue",...a[c]),this.$=a[c];break;case 67:o.addRel("rel",...a[c]),this.$=a[c];break;case 68:o.addRel("birel",...a[c]),this.$=a[c];break;case 69:o.addRel("rel_u",...a[c]),this.$=a[c];break;case 70:o.addRel("rel_d",...a[c]),this.$=a[c];break;case 71:o.addRel("rel_l",...a[c]),this.$=a[c];break;case 72:o.addRel("rel_r",...a[c]),this.$=a[c];break;case 73:o.addRel("rel_b",...a[c]),this.$=a[c];break;case 74:a[c].splice(0,1),o.addRel("rel",...a[c]),this.$=a[c];break;case 75:o.updateElStyle("update_el_style",...a[c]),this.$=a[c];break;case 76:o.updateRelStyle("update_rel_style",...a[c]),this.$=a[c];break;case 77:o.updateLayoutConfig("update_layout_config",...a[c]),this.$=a[c];break;case 78:this.$=[a[c]];break;case 79:a[c].unshift(a[c-1]),this.$=a[c];break;case 80:case 82:this.$=a[c].trim();break;case 81:let e={};e[a[c-1].trim()]=a[c].trim(),this.$=e;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:oe,8:fe,9:re,10:ae,11:5,12:10,18:ue,22:me,25:pe,26:le,27:ce,28:he},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:oe,8:fe,9:re,10:ae,11:5,12:10,18:ue,22:me,25:pe,26:le,27:ce,28:he},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:ge},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:X,33:G,34:Y,36:q,38:K,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{23:79,29:29,30:30,31:31,32:X,33:G,34:Y,36:q,38:K,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{23:80,29:29,30:30,31:31,32:X,33:G,34:Y,36:q,38:K,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{23:81,29:29,30:30,31:31,32:X,33:G,34:Y,36:q,38:K,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{23:82,29:29,30:30,31:31,32:X,33:G,34:Y,36:q,38:K,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(Q,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:j,47:I,48:_,49:w,50:O,51:x,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l}),e(Q,[2,21]),e(se,[2,23],{15:[1,88]}),e(Q,[2,43],{15:[1,89]}),e(Z,[2,26]),e(Z,[2,27]),{35:[1,90]},{37:[1,91]},e(Z,[2,30]),{45:92,85:93,86:o,87:s,89:n,90:t},{45:98,85:93,86:o,87:s,89:n,90:t},{45:99,85:93,86:o,87:s,89:n,90:t},{45:100,85:93,86:o,87:s,89:n,90:t},{45:101,85:93,86:o,87:s,89:n,90:t},{45:102,85:93,86:o,87:s,89:n,90:t},{45:103,85:93,86:o,87:s,89:n,90:t},{45:104,85:93,86:o,87:s,89:n,90:t},{45:105,85:93,86:o,87:s,89:n,90:t},{45:106,85:93,86:o,87:s,89:n,90:t},{45:107,85:93,86:o,87:s,89:n,90:t},{45:108,85:93,86:o,87:s,89:n,90:t},{45:109,85:93,86:o,87:s,89:n,90:t},{45:110,85:93,86:o,87:s,89:n,90:t},{45:111,85:93,86:o,87:s,89:n,90:t},{45:112,85:93,86:o,87:s,89:n,90:t},{45:113,85:93,86:o,87:s,89:n,90:t},{45:114,85:93,86:o,87:s,89:n,90:t},{45:115,85:93,86:o,87:s,89:n,90:t},{45:116,85:93,86:o,87:s,89:n,90:t},e(i,[2,66]),{45:117,85:93,86:o,87:s,89:n,90:t},{45:118,85:93,86:o,87:s,89:n,90:t},{45:119,85:93,86:o,87:s,89:n,90:t},{45:120,85:93,86:o,87:s,89:n,90:t},{45:121,85:93,86:o,87:s,89:n,90:t},{45:122,85:93,86:o,87:s,89:n,90:t},{45:123,85:93,86:o,87:s,89:n,90:t},{45:124,85:93,86:o,87:s,89:n,90:t},{45:125,85:93,86:o,87:s,89:n,90:t},{45:126,85:93,86:o,87:s,89:n,90:t},{45:127,85:93,86:o,87:s,89:n,90:t},{30:128,39:58,40:70,42:71,44:b,46:j,47:I,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l},{15:[1,130],43:[1,129]},{45:131,85:93,86:o,87:s,89:n,90:t},{45:132,85:93,86:o,87:s,89:n,90:t},{45:133,85:93,86:o,87:s,89:n,90:t},{45:134,85:93,86:o,87:s,89:n,90:t},{45:135,85:93,86:o,87:s,89:n,90:t},{45:136,85:93,86:o,87:s,89:n,90:t},{45:137,85:93,86:o,87:s,89:n,90:t},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(de,[2,9]),{14:142,21:ge},{21:[2,13]},{1:[2,15]},e(Q,[2,22]),e(se,[2,24],{31:31,29:143,32:X,33:G,34:Y,36:q,38:K}),e(Q,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:X,33:G,34:Y,36:q,38:K,44:b,46:j,47:I,48:_,49:w,50:O,51:x,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:r,62:z,63:D,64:a,65:L,66:R,67:P,68:h,69:y,70:T,71:V,72:$,73:W,74:B,75:H,76:N,77:v,78:g,79:p,80:f,81:m,82:u,83:d,84:l}),e(Z,[2,28]),e(Z,[2,29]),e(i,[2,46]),e(ie,[2,78],{85:93,45:145,86:o,87:s,89:n,90:t}),e(J,[2,80]),{88:[1,146]},e(J,[2,82]),e(J,[2,83]),e(i,[2,47]),e(i,[2,48]),e(i,[2,49]),e(i,[2,50]),e(i,[2,51]),e(i,[2,52]),e(i,[2,53]),e(i,[2,54]),e(i,[2,55]),e(i,[2,56]),e(i,[2,57]),e(i,[2,58]),e(i,[2,59]),e(i,[2,60]),e(i,[2,61]),e(i,[2,62]),e(i,[2,63]),e(i,[2,64]),e(i,[2,65]),e(i,[2,67]),e(i,[2,68]),e(i,[2,69]),e(i,[2,70]),e(i,[2,71]),e(i,[2,72]),e(i,[2,73]),e(i,[2,74]),e(i,[2,75]),e(i,[2,76]),e(i,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(U,[2,35]),e(U,[2,36]),e(U,[2,37]),e(U,[2,38]),e(U,[2,39]),e(U,[2,40]),e(U,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(se,[2,25]),e(Q,[2,45]),e(ie,[2,79]),e(J,[2,81]),e(i,[2,31]),e(i,[2,42]),e(te,[2,32]),e(te,[2,33],{15:[1,152]}),e(de,[2,10]),e(te,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},ve=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return e}();ee.lexer=ve;function ne(){this.yy={}}return ne.prototype=ee,ee.Parser=ne,new ne}(),pi.parser=pi,Ak=pi,Sk=e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null,Le=[],Tt=[""],J="global",Ee="",Ge=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],to=[],ic="",oc=!1,Mi=4,Ni=2,Bk=function(){return Ik},Vk=function(e){let n=Ne(e,t());Ik=n},$k=function(e,t,n){_.parseDirective(this,e,t,n)},Wk=function(e,t,n,s,o,i,a,r,c){if(e==null||t===void 0||t===null||n===void 0||n===null||s===void 0||s===null)return;let l={};const d=to.find(e=>e.from===t&&e.to===n);if(d?l=d:to.push(l),l.type=e,l.from=t,l.to=n,l.label={text:s},o==null)l.techn={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];l[e]={text:t}}else l.techn={text:o};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];l[e]=t}else l.sprite=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];l[e]=t}else l.tags=r;if(typeof c=="object"){let[e,t]=Object.entries(c)[0];l[e]=t}else l.link=c;l.wrap=It()},Uk=function(e,t,n,s,o,i,a){if(t===null||n===null)return;let r={};const c=Le.find(e=>e.alias===t);if(c&&t===c.alias?r=c:(r.alias=t,Le.push(r)),n==null?r.label={text:""}:r.label={text:n},s==null)r.descr={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]={text:t}}else r.descr={text:s};if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.sprite=o;if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=t}else r.tags=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=t}else r.link=a;r.typeC4Shape={text:e},r.parentBoundary=J,r.wrap=It()},Kk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=Le.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,Le.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=It(),c.typeC4Shape={text:e},c.parentBoundary=J},qk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=Le.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,Le.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=It(),c.typeC4Shape={text:e},c.parentBoundary=J},Yk=function(e,t,n,s,o){if(e===null||t===null)return;let i={};const a=Ge.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,Ge.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"system"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=J,i.wrap=It(),Ee=J,J=e,Tt.push(Ee)},Gk=function(e,t,n,s,o){if(e===null||t===null)return;let i={};const a=Ge.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,Ge.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"container"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=J,i.wrap=It(),Ee=J,J=e,Tt.push(Ee)},Xk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=Ge.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,Ge.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.type={text:"node"};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.type={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.nodeType=e,c.parentBoundary=J,c.wrap=It(),Ee=J,J=t,Tt.push(Ee)},Qk=function(){J=Ee,Tt.pop(),Ee=Tt.pop(),Tt.push(Ee)},Zk=function(e,t,n,s,o,i,a,r,c,l,d){let u=Le.find(e=>e.alias===t);if(u===void 0&&(u=Ge.find(e=>e.alias===t),u===void 0))return;if(n!=null)if(typeof n=="object"){let[e,t]=Object.entries(n)[0];u[e]=t}else u.bgColor=n;if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];u[e]=t}else u.fontColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];u[e]=t}else u.borderColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];u[e]=t}else u.shadowing=i;if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];u[e]=t}else u.shape=a;if(r!=null)if(typeof r=="object"){let[e,t]=Object.entries(r)[0];u[e]=t}else u.sprite=r;if(c!=null)if(typeof c=="object"){let[e,t]=Object.entries(c)[0];u[e]=t}else u.techn=c;if(l!=null)if(typeof l=="object"){let[e,t]=Object.entries(l)[0];u[e]=t}else u.legendText=l;if(d!=null)if(typeof d=="object"){let[e,t]=Object.entries(d)[0];u[e]=t}else u.legendSprite=d},Jk=function(e,t,n,s,o,i,a){const r=to.find(e=>e.from===t&&e.to===n);if(r===void 0)return;if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]=t}else r.textColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.lineColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=parseInt(t)}else r.offsetX=parseInt(i);if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=parseInt(t)}else r.offsetY=parseInt(a)},eA=function(e,t,n){let s=Mi,o=Ni;if(typeof t=="object"){const e=Object.values(t)[0];s=parseInt(e)}else s=parseInt(t);if(typeof n=="object"){const e=Object.values(n)[0];o=parseInt(e)}else o=parseInt(n);s>=1&&(Mi=s),o>=1&&(Ni=o)},tA=function(){return Mi},nA=function(){return Ni},sA=function(){return J},oA=function(){return Ee},W4=function(e){return e==null?Le:Le.filter(t=>t.parentBoundary===e)},aA=function(e){return Le.find(t=>t.alias===e)},rA=function(e){return Object.keys(W4(e))},cA=function(e){return e==null?Ge:Ge.filter(t=>t.parentBoundary===e)},lA=function(){return to},dA=function(){return ic},uA=function(e){oc=e},It=function(){return oc},mA=function(){Le=[],Ge=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ee="",J="global",Tt=[""],to=[],Tt=[""],ic="",oc=!1,Mi=4,Ni=2},fA={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},pA={FILLED:0,OPEN:1},gA={LEFTOF:0,RIGHTOF:1,OVER:2},vA=function(e){let n=Ne(e,t());ic=n},Z4={addPersonOrSystem:Uk,addPersonOrSystemBoundary:Yk,addContainer:Kk,addContainerBoundary:Gk,addComponent:qk,addDeploymentNode:Xk,popBoundaryParseStack:Qk,addRel:Wk,updateElStyle:Zk,updateRelStyle:Jk,updateLayoutConfig:eA,autoWrap:It,setWrap:uA,getC4ShapeArray:W4,getC4Shape:aA,getC4ShapeKeys:rA,getBoundarys:cA,getCurrentBoundaryParse:sA,getParentBoundaryParse:oA,getRels:lA,getTitle:dA,getC4Type:Bk,getC4ShapeInRow:tA,getC4BoundaryInRow:nA,setAccTitle:_e,getAccTitle:Se,getAccDescription:Te,setAccDescription:Fe,parseDirective:$k,getConfig:()=>t().c4,clear:mA,LINETYPE:fA,ARROWTYPE:pA,PLACEMENT:gA,setTitle:vA,setC4Type:Vk},Yr=function(e,t){const n=e.append("rect");if(n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.attrs!=="undefined"&&t.attrs!==null)for(let e in t.attrs)n.attr(e,t.attrs[e]);return t.class!=="undefined"&&n.attr("class",t.class),n},e0=function(e,t,n,s,o,i){const a=e.append("image");a.attr("width",t),a.attr("height",n),a.attr("x",s),a.attr("y",o);let r=i.startsWith("data:image/png;base64")?i:(0,Ht.sanitizeUrl)(i);a.attr("xlink:href",r)},_A=(e,t,n)=>{const s=e.append("g");let o=0;for(let e of t){let r=e.textColor?e.textColor:"#444444",c=e.lineColor?e.lineColor:"#444444",l=e.offsetX?parseInt(e.offsetX):0,d=e.offsetY?parseInt(e.offsetY):0,i="";if(o===0){let t=s.append("line");t.attr("x1",e.startPoint.x),t.attr("y1",e.startPoint.y),t.attr("x2",e.endPoint.x),t.attr("y2",e.endPoint.y),t.attr("stroke-width","1"),t.attr("stroke",c),t.style("fill","none"),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)"),o=-1}else{let t=s.append("path");t.attr("fill","none").attr("stroke-width","1").attr("stroke",c).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",e.startPoint.x).replaceAll("starty",e.startPoint.y).replaceAll("controlx",e.startPoint.x+(e.endPoint.x-e.startPoint.x)/2-(e.endPoint.x-e.startPoint.x)/4).replaceAll("controly",e.startPoint.y+(e.endPoint.y-e.startPoint.y)/2).replaceAll("stopx",e.endPoint.x).replaceAll("stopy",e.endPoint.y)),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)")}let a=n.messageFont();it(n)(e.label.text,s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+d,e.label.width,e.label.height,{fill:r},a),e.techn&&e.techn.text!==""&&(a=n.messageFont(),it(n)("["+e.techn.text+"]",s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+n.messageFontSize+5+d,Math.max(e.label.width,e.techn.width),e.techn.height,{fill:r,"font-style":"italic"},a))}},wA=function(e,t,n){const o=e.append("g");let r=t.bgColor?t.bgColor:"none",c=t.borderColor?t.borderColor:"#444444",i=t.fontColor?t.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(a={"stroke-width":1});let l={x:t.x,y:t.y,fill:r,stroke:c,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:a};Yr(o,l);let s=n.boundaryFont();s.fontWeight="bold",s.fontSize=s.fontSize+2,s.fontColor=i,it(n)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},s),t.type&&t.type.text!==""&&(s=n.boundaryFont(),s.fontColor=i,it(n)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},s)),t.descr&&t.descr.text!==""&&(s=n.boundaryFont(),s.fontSize=s.fontSize-2,s.fontColor=i,it(n)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},s))},OA=function(e,t,n){let c=t.bgColor?t.bgColor:n[t.typeC4Shape.text+"_bg_color"],r=t.borderColor?t.borderColor:n[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const s=e.append("g");s.attr("class","person-man");const i=r0();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":i.x=t.x,i.y=t.y,i.fill=c,i.width=t.width,i.height=t.height,i.style="stroke:"+r+";stroke-width:0.5;",i.rx=2.5,i.ry=2.5,Yr(s,i);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let d=zA(n,t.typeC4Shape.text);switch(s.append("text").attr("fill",a).attr("font-family",d.fontFamily).attr("font-size",d.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":e0(s,48,48,t.x+t.width/2-24,t.y+t.image.Y,l);break}let o=n[t.typeC4Shape.text+"Font"]();return o.fontWeight="bold",o.fontSize=o.fontSize+2,o.fontColor=a,it(n)(t.label.text,s,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},o),o=n[t.typeC4Shape.text+"Font"](),o.fontColor=a,t.thchn&&t.thchn.text!==""?it(n)(t.thchn.text,s,t.x,t.y+t.thchn.Y,t.width,t.height,{fill:a,"font-style":"italic"},o):t.type&&t.type.text!==""&&it(n)(t.type.text,s,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},o),t.descr&&t.descr.text!==""&&(o=n.personFont(),o.fontColor=a,it(n)(t.descr.text,s,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},o)),t.height},xA=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},CA=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},EA=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},kA=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},AA=function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},SA=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},MA=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},FA=function(e){const n=e.append("defs"),t=n.append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},r0=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},zA=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),it=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{fontSize:l,fontFamily:u,fontWeight:m}=c,d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const c=t*l-l*(d.length-1)/2,a=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",l).style("font-weight",m).style("font-family",u);a.append("tspan").attr("dy",c).text(d[t]).attr("alignment-baseline","mathematical"),e(a,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),qe={drawRect:Yr,drawBoundary:wA,drawC4Shape:OA,drawRels:_A,drawImage:e0,insertArrowHead:kA,insertArrowEnd:AA,insertArrowFilledHead:SA,insertDynamicNumber:MA,insertArrowCrossHead:FA,insertDatabaseIcon:xA,insertComputerIcon:CA,insertClockIcon:EA,getNoteRect:r0,sanitizeUrl:Ht.sanitizeUrl},Wi=0,Ki=0,g0=4,Hr=2,pi.yy=Z4,l={},A0=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Tr(e.db.getConfig())}setData(e,t,n,s){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=s}updateVal(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,s=t+e.width,n=this.nextData.starty+e.margin*2,o=n+e.height;(t>=this.data.widthLimit||s>=this.data.widthLimit||this.nextData.cnt>g0)&&(t=this.nextData.startx+e.margin+l.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=s=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",s,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",s,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Tr(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},Tr=function(e){V(l,e),e.fontFamily&&(l.personFontFamily=l.systemFontFamily=l.messageFontFamily=e.fontFamily),e.fontSize&&(l.personFontSize=l.systemFontSize=l.messageFontSize=e.fontSize),e.fontWeight&&(l.personFontWeight=l.systemFontWeight=l.messageFontWeight=e.fontWeight)},Ws=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),ia=e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),UA=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight});function $e(e,t,n,s,o){if(!t[e].width)if(n)t[e].text=ed(t[e].text,o,s),t[e].textLines=t[e].text.split(h.lineBreakRegex).length,t[e].width=o,t[e].height=td(t[e].text,s);else{let n=t[e].text.split(h.lineBreakRegex);t[e].textLines=n.length;let o=0;t[e].height=0,t[e].width=0;for(const i of n)t[e].width=Math.max(nt(i,s),t[e].width),o=td(i,s),t[e].height=t[e].height+o}}K0=function(e,t,n){t.x=n.data.startx,t.y=n.data.starty,t.width=n.data.stopx-n.data.startx,t.height=n.data.stopy-n.data.starty,t.label.y=l.c4ShapeMargin-35;let o=t.wrap&&l.wrap,s=ia(l);s.fontSize=s.fontSize+2,s.fontWeight="bold";let i=nt(t.label.text,s);$e("label",t,o,s,i),qe.drawBoundary(e,t,l)},Y0=function(e,t,n,s){let o=0;for(const m of s){o=0;const i=n[m];let a=Ws(l,i.typeC4Shape.text);switch(a.fontSize=a.fontSize-2,i.typeC4Shape.width=nt("<<"+i.typeC4Shape.text+">>",a),i.typeC4Shape.height=a.fontSize+2,i.typeC4Shape.Y=l.c4ShapePadding,o=i.typeC4Shape.Y+i.typeC4Shape.height-4,i.image={width:0,height:0,Y:0},i.typeC4Shape.text){case"person":case"external_person":i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height;break}i.sprite&&(i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height);let r=i.wrap&&l.wrap,c=l.width-l.c4ShapePadding*2,d=Ws(l,i.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",$e("label",i,r,d,c),i.label.Y=o+8,o=i.label.Y+i.label.height,i.type&&i.type.text!==""){i.type.text="["+i.type.text+"]";let e=Ws(l,i.typeC4Shape.text);$e("type",i,r,e,c),i.type.Y=o+5,o=i.type.Y+i.type.height}else if(i.techn&&i.techn.text!==""){i.techn.text="["+i.techn.text+"]";let e=Ws(l,i.techn.text);$e("techn",i,r,e,c),i.techn.Y=o+5,o=i.techn.Y+i.techn.height}let h=o,u=i.label.width;if(i.descr&&i.descr.text!==""){let e=Ws(l,i.typeC4Shape.text);$e("descr",i,r,e,c),i.descr.Y=o+20,o=i.descr.Y+i.descr.height,u=Math.max(i.label.width,i.descr.width),h=o-i.descr.textLines*5}u=u+l.c4ShapePadding,i.width=Math.max(i.width||l.width,u,l.width),i.height=Math.max(i.height||l.height,h,l.height),i.margin=i.margin||l.c4ShapeMargin,e.insert(i),qe.drawC4Shape(t,i,l)}e.bumpLastMargin(l.c4ShapeMargin)},ge=class{constructor(e,t){this.x=e,this.y=t}},A2=function(e,t){let n=e.x,s=e.y,i=t.x,a=t.y,c=n+e.width/2,l=s+e.height/2,d=Math.abs(n-i),u=Math.abs(s-a),r=u/d,h=e.height/e.width,o=null;return s==a&&n<i?o=new ge(n+e.width,l):s==a&&n>i?o=new ge(n,l):n==i&&s<a?o=new ge(c,s+e.height):n==i&&s>a&&(o=new ge(c,s)),n>i&&s<a?h>=r?o=new ge(n,l+r*e.width/2):o=new ge(c-d/u*e.height/2,s+e.height):n<i&&s<a?h>=r?o=new ge(n+e.width,l+r*e.width/2):o=new ge(c+d/u*e.height/2,s+e.height):n<i&&s>a?h>=r?o=new ge(n+e.width,l-r*e.width/2):o=new ge(c+e.height/2*d/u,s):n>i&&s>a&&(h>=r?o=new ge(n,l-e.width/2*r):o=new ge(c-e.height/2*d/u,s)),o},QA=function(e,t){let n={x:0,y:0};n.x=t.x+t.width/2,n.y=t.y+t.height/2;let s=A2(e,n);n.x=e.x+e.width/2,n.y=e.y+e.height/2;let o=A2(t,n);return{startPoint:s,endPoint:o}},ZA=function(e,t,n,s){let o=0;for(let e of t){o=o+1;let r=e.wrap&&l.wrap,i=UA(l),d=s.db.getC4Type();d==="C4Dynamic"&&(e.label.text=o+": "+e.label.text);let a=nt(e.label.text,i);$e("label",e,r,i,a),e.techn&&e.techn.text!==""&&(a=nt(e.techn.text,i),$e("techn",e,r,i,a)),e.descr&&e.descr.text!==""&&(a=nt(e.descr.text,i),$e("descr",e,r,i,a));let u=n(e.from),h=n(e.to),c=QA(u,h);e.startPoint=c.startPoint,e.endPoint=c.endPoint}qe.drawRels(e,t,l)};function JA(e,t,n,s,o){let i=new A0(o);i.data.widthLimit=n.data.widthLimit/Math.min(Hr,s.length);for(let[u,a]of s.entries()){let r=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=r,r=a.image.Y+a.image.height);let d=a.wrap&&l.wrap,c=ia(l);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",$e("label",a,d,c,i.data.widthLimit),a.label.Y=r+8,r=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let e=ia(l);$e("type",a,d,e,i.data.widthLimit),a.type.Y=r+5,r=a.type.Y+a.type.height}if(a.descr&&a.descr.text!==""){let e=ia(l);e.fontSize=e.fontSize-2,$e("descr",a,d,e,i.data.widthLimit),a.descr.Y=r+20,r=a.descr.Y+a.descr.height}if(u==0||u%Hr===0){let e=n.data.startx+l.diagramMarginX,t=n.data.stopy+l.diagramMarginY+r;i.setData(e,e,t,t)}else{let e=i.data.stopx!==i.data.startx?i.data.stopx+l.diagramMarginX:i.data.startx,t=i.data.starty;i.setData(e,e,t,t)}i.name=a.alias;let f=o.db.getC4ShapeArray(a.alias),h=o.db.getC4ShapeKeys(a.alias);h.length>0&&Y0(i,e,f,h),t=a.alias;let m=o.db.getBoundarys(t);m.length>0&&JA(e,t,i,m,o),a.alias!=="global"&&K0(e,a,i),n.data.stopy=Math.max(i.data.stopy+l.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(i.data.stopx+l.c4ShapeMargin,n.data.stopx),Wi=Math.max(Wi,n.data.stopx),Ki=Math.max(Ki,n.data.stopy)}}eS=function(n,s,o,a){l=t().c4;const h=t().securityLevel;let f;h==="sandbox"&&(f=i("#i"+s));const b=i(h==="sandbox"?f.nodes()[0].contentDocument.body:"body");let m=a.db;a.db.setWrap(l.wrap),g0=m.getC4ShapeInRow(),Hr=m.getC4BoundaryInRow(),e.debug(`C:${JSON.stringify(l,null,2)}`);const r=h==="sandbox"?b.select(`[id="${s}"]`):i(`[id="${s}"]`);qe.insertComputerIcon(r),qe.insertDatabaseIcon(r),qe.insertClockIcon(r);let d=new A0(a);d.setData(l.diagramMarginX,l.diagramMarginX,l.diagramMarginY,l.diagramMarginY),d.data.widthLimit=screen.availWidth,Wi=l.diagramMarginX,Ki=l.diagramMarginY;const u=a.db.getTitle();let j=a.db.getBoundarys("");JA(r,"",d,j,a),qe.insertArrowHead(r),qe.insertArrowEnd(r),qe.insertArrowCrossHead(r),qe.insertArrowFilledHead(r),ZA(r,a.db.getRels(),a.db.getC4Shape,a),d.data.stopx=Wi,d.data.stopy=Ki;const c=d.data;let y=c.stopy-c.starty,p=y+2*l.diagramMarginY,_=c.stopx-c.startx;const g=_+2*l.diagramMarginX;u&&r.append("text").text(u).attr("x",(c.stopx-c.startx)/2-4*l.diagramMarginX).attr("y",c.starty+l.diagramMarginY),Me(r,p,g,l.useMaxWidth);const v=u?60:0;r.attr("viewBox",c.startx-l.diagramMarginX+" -"+(l.diagramMarginY+v)+" "+g+" "+(p+v)),e.debug(`models:`,c)},M2={drawPersonOrSystemArray:Y0,drawBoundary:K0,setConf:Tr,draw:eS},ir=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},U=[1,3],h=[1,7],f=[1,8],g=[1,9],p=[1,10],c=[1,13],W=[1,12],u=[1,16,25],$=[1,20],V=[1,32],k=[1,33],I=[1,34],H=[1,36],R=[1,39],A=[1,37],D=[1,38],z=[1,44],T=[1,45],F=[1,40],M=[1,41],S=[1,42],L=[1,43],o=[1,48],s=[1,49],n=[1,50],i=[1,51],t=[16,25],v=[1,65],l=[1,66],y=[1,67],j=[1,68],b=[1,69],w=[1,70],O=[1,71],N=[1,80],a=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],x=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],P=[5,8,9,10,11,16,19,23,25],m=[54,88,89,90,91],r=[54,65,66,88,89,90,91],B=[54,60,61,62,63,64,88,89,90,91],d=[16,25,32],_=[1,107],C={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 5:o.setDirection("TB");break;case 6:o.setDirection("BT");break;case 7:o.setDirection("RL");break;case 8:o.setDirection("LR");break;case 12:o.parseDirective("%%{","open_directive");break;case 13:o.parseDirective(a[c],"type_directive");break;case 14:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 15:o.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=a[c];break;case 22:this.$=a[c-1]+a[c];break;case 23:case 24:this.$=a[c-1]+"~"+a[c];break;case 25:o.addRelation(a[c]);break;case 26:a[c-1].title=o.cleanupLabel(a[c]),o.addRelation(a[c-1]);break;case 35:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 36:case 37:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 38:o.addClass(a[c]);break;case 39:o.addClass(a[c-2]),o.setCssClass(a[c-2],a[c]);break;case 40:o.addClass(a[c-3]),o.addMembers(a[c-3],a[c-1]);break;case 41:o.addClass(a[c-5]),o.setCssClass(a[c-5],a[c-3]),o.addMembers(a[c-5],a[c-1]);break;case 42:o.addAnnotation(a[c],a[c-2]);break;case 43:this.$=[a[c]];break;case 44:a[c].push(a[c-1]),this.$=a[c];break;case 45:break;case 46:o.addMember(a[c-1],o.cleanupLabel(a[c]));break;case 47:break;case 48:break;case 49:this.$={id1:a[c-2],id2:a[c],relation:a[c-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:a[c-3],id2:a[c],relation:a[c-1],relationTitle1:a[c-2],relationTitle2:"none"};break;case 51:this.$={id1:a[c-3],id2:a[c],relation:a[c-2],relationTitle1:"none",relationTitle2:a[c-1]};break;case 52:this.$={id1:a[c-4],id2:a[c],relation:a[c-2],relationTitle1:a[c-3],relationTitle2:a[c-1]};break;case 53:o.addNote(a[c],a[c-1]);break;case 54:o.addNote(a[c]);break;case 55:this.$={type1:a[c-2],type2:a[c],lineType:a[c-1]};break;case 56:this.$={type1:"none",type2:a[c],lineType:a[c-1]};break;case 57:this.$={type1:a[c-1],type2:"none",lineType:a[c]};break;case 58:this.$={type1:"none",type2:"none",lineType:a[c]};break;case 59:this.$=o.relationType.AGGREGATION;break;case 60:this.$=o.relationType.EXTENSION;break;case 61:this.$=o.relationType.COMPOSITION;break;case 62:this.$=o.relationType.DEPENDENCY;break;case 63:this.$=o.relationType.LOLLIPOP;break;case 64:this.$=o.lineType.LINE;break;case 65:this.$=o.lineType.DOTTED_LINE;break;case 66:case 72:this.$=a[c-2],o.setClickEvent(a[c-1],a[c]);break;case 67:case 73:this.$=a[c-3],o.setClickEvent(a[c-2],a[c-1]),o.setTooltip(a[c-2],a[c]);break;case 68:case 76:this.$=a[c-2],o.setLink(a[c-1],a[c]);break;case 69:this.$=a[c-3],o.setLink(a[c-2],a[c-1],a[c]);break;case 70:case 78:this.$=a[c-3],o.setLink(a[c-2],a[c-1]),o.setTooltip(a[c-2],a[c]);break;case 71:case 79:this.$=a[c-4],o.setLink(a[c-3],a[c-2],a[c]),o.setTooltip(a[c-3],a[c-1]);break;case 74:this.$=a[c-3],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 75:this.$=a[c-4],o.setClickEvent(a[c-3],a[c-2],a[c-1]),o.setTooltip(a[c-3],a[c]);break;case 77:this.$=a[c-3],o.setLink(a[c-2],a[c-1],a[c]);break;case 80:o.setCssClass(a[c-1],a[c]);break}},table:[{3:1,4:2,5:U,6:4,7:5,8:h,9:f,10:g,11:p,12:6,13:11,19:c,23:W},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:U,6:4,7:5,8:h,9:f,10:g,11:p,12:6,13:11,19:c,23:W},{1:[2,9]},e(u,[2,5]),e(u,[2,6]),e(u,[2,7]),e(u,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:$},e([17,22],[2,13]),{6:31,7:30,8:h,9:f,10:g,11:p,13:11,19:c,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:V,41:k,43:I,44:H,49:R,51:A,52:D,55:z,57:T,67:F,68:M,70:S,74:L,88:o,89:s,90:n,91:i},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},e(t,[2,25],{32:[1,57]}),e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),{40:[1,58]},{42:[1,59]},e(t,[2,37]),e(t,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:v,61:l,62:y,63:j,64:b,65:w,66:O}),{27:72,28:46,29:47,88:o,89:s,90:n,91:i},e(t,[2,47]),e(t,[2,48]),{28:73,88:o,89:s,90:n},{27:74,28:46,29:47,88:o,89:s,90:n,91:i},{27:75,28:46,29:47,88:o,89:s,90:n,91:i},{27:76,28:46,29:47,88:o,89:s,90:n,91:i},{54:[1,77]},{27:78,28:46,29:47,88:o,89:s,90:n,91:i},{54:N,56:79},e(a,[2,20],{28:46,29:47,27:81,30:[1,82],88:o,89:s,90:n,91:i}),e(a,[2,21],{30:[1,83]}),e(x,[2,94]),e(x,[2,95]),e(x,[2,96]),e([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),e(P,[2,10]),{15:84,22:$},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:h,9:f,10:g,11:p,13:11,19:c,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:V,41:k,43:I,44:H,49:R,51:A,52:D,55:z,57:T,67:F,68:M,70:S,74:L,88:o,89:s,90:n,91:i},e(t,[2,26]),e(t,[2,35]),e(t,[2,36]),{27:86,28:46,29:47,54:[1,87],88:o,89:s,90:n,91:i},{53:88,58:63,59:64,60:v,61:l,62:y,63:j,64:b,65:w,66:O},e(t,[2,46]),{59:89,65:w,66:O},e(m,[2,58],{58:90,60:v,61:l,62:y,63:j,64:b}),e(r,[2,59]),e(r,[2,60]),e(r,[2,61]),e(r,[2,62]),e(r,[2,63]),e(B,[2,64]),e(B,[2,65]),e(t,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:o,89:s,90:n},{54:N,56:99},e(t,[2,54]),e(t,[2,98]),e(a,[2,22]),e(a,[2,23]),e(a,[2,24]),{16:[1,100]},{25:[2,19]},e(d,[2,49]),{27:101,28:46,29:47,88:o,89:s,90:n,91:i},{27:102,28:46,29:47,54:[1,103],88:o,89:s,90:n,91:i},e(m,[2,57],{58:104,60:v,61:l,62:y,63:j,64:b}),e(m,[2,56]),{28:105,88:o,89:s,90:n},{47:106,51:_},{27:108,28:46,29:47,88:o,89:s,90:n,91:i},e(t,[2,66],{54:[1,109]}),e(t,[2,68],{54:[1,111],69:[1,110]}),e(t,[2,72],{54:[1,112],72:[1,113]}),e(t,[2,76],{54:[1,115],69:[1,114]}),e(t,[2,80]),e(t,[2,53]),e(P,[2,11]),e(d,[2,51]),e(d,[2,50]),{27:116,28:46,29:47,88:o,89:s,90:n,91:i},e(m,[2,55]),e(t,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:_},e(t,[2,42]),e(t,[2,67]),e(t,[2,69]),e(t,[2,70],{69:[1,120]}),e(t,[2,73]),e(t,[2,74],{54:[1,121]}),e(t,[2,77]),e(t,[2,78],{69:[1,122]}),e(d,[2,52]),{47:123,51:_},e(t,[2,40]),{48:[2,44]},e(t,[2,71]),e(t,[2,75]),e(t,[2,79]),{48:[1,124]},e(t,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},K=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return e}();C.lexer=K;function E(){this.yy={}}return E.prototype=C,C.Parser=E,new E}(),ir.parser=ir,B2=ir,oS=(e,t)=>{var n;return((n=t?.class)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*classDiagram/)!==null},iS=(e,t)=>{var n;return e.match(/^\s*classDiagram/)!==null&&((n=t?.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||e.match(/^\s*classDiagram-v2/)!==null},sr="classid-",nr=[],A={},Ta=[],Q2=0,xs=[],Os=e=>h.sanitizeText(e,t()),mS=function(e,t,n){_.parseDirective(this,e,t,n)},_s=function(e){let n="",s=e;if(e.indexOf("~")>0){let o=e.split("~");s=o[0],n=h.sanitizeText(o[1],t())}return{className:s,type:n}},Ka=function(e){let t=_s(e);if(A[t.className]!==void 0)return;A[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:sr+t.className+"-"+Q2},Q2++},j3=function(e){const t=Object.keys(A);for(const n of t)if(A[n].id===e)return A[n].domId},hS=function(){nr=[],A={},Ta=[],xs=[],xs.push(T3),xe()},uS=function(e){return A[e]},dS=function(){return A},cS=function(){return nr},aS=function(){return Ta},sS=function(n){e.debug("Adding relation: "+JSON.stringify(n)),Ka(n.id1),Ka(n.id2),n.id1=_s(n.id1).className,n.id2=_s(n.id2).className,n.relationTitle1=h.sanitizeText(n.relationTitle1.trim(),t()),n.relationTitle2=h.sanitizeText(n.relationTitle2.trim(),t()),nr.push(n)},tS=function(e,t){const n=_s(e).className;A[n].annotations.push(t)},A3=function(e,t){const s=_s(e).className,n=A[s];if(typeof t=="string"){const e=t.trim();e.startsWith("<<")&&e.endsWith(">>")?n.annotations.push(Os(e.substring(2,e.length-2))):e.indexOf(")")>0?n.methods.push(Os(e)):e&&n.members.push(Os(e))}},XA=function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(t=>A3(e,t)))},GA=function(e,t){const n={id:`note${Ta.length}`,class:t,text:e};Ta.push(n)},YA=function(e){return e.substring(0,1)===":"?h.sanitizeText(e.substr(1).trim(),t()):Os(e.trim())},Ba=function(e,t){e.split(",").forEach(function(e){let n=e;e[0].match(/\d/)&&(n=sr+n),A[n]!==void 0&&A[n].cssClasses.push(t)})},qA=function(e,n){const s=t();e.split(",").forEach(function(e){n!==void 0&&(A[e].tooltip=h.sanitizeText(n,s))})},KA=function(e){return A[e].tooltip},WA=function(e,n,s){const o=t();e.split(",").forEach(function(e){let t=e;e[0].match(/\d/)&&(t=sr+t),A[t]!==void 0&&(A[t].link=p.formatUrl(n,o),o.securityLevel==="sandbox"?A[t].linkTarget="_top":typeof s=="string"?A[t].linkTarget=Os(s):A[t].linkTarget="_blank")}),Ba(e,"clickable")},$A=function(e,t,n){e.split(",").forEach(function(e){VA(e,t,n),A[e].haveCallback=!0}),Ba(e,"clickable")},VA=function(e,n,s){const a=t();let o=e,i=j3(o);if(a.securityLevel!=="loose")return;if(n===void 0)return;if(A[o]!==void 0){let e=[];if(typeof s=="string"){e=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<e.length;n++){let t=e[n].trim();t.charAt(0)==='"'&&t.charAt(t.length-1)==='"'&&(t=t.substr(1,t.length-2)),e[n]=t}}e.length===0&&e.push(i),xs.push(function(){const t=document.querySelector(`[id="${i}"]`);t!==null&&t.addEventListener("click",function(){p.runFunc(n,...e)},!1)})}},BA=function(e){xs.forEach(function(t){t(e)})},LA={LINE:0,DOTTED_LINE:1},NA={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},T3=function(e){let t=i(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=i("body").append("div").attr("class","mermaidTooltip").style("opacity",0));const n=i(e).select("svg"),s=n.selectAll("g.node");s.on("mouseover",function(){const n=i(this),s=n.attr("title");if(s===null)return;const e=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(n.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0);const e=i(this);e.classed("hover",!1)})},xs.push(T3),Ru="TB",DA=()=>Ru,TA=e=>{Ru=e},Dn={parseDirective:mS,setAccTitle:_e,getAccTitle:Se,getAccDescription:Te,setAccDescription:Fe,getConfig:()=>t().class,addClass:Ka,bindFunctions:BA,clear:hS,getClass:uS,getClasses:dS,getNotes:aS,addAnnotation:tS,addNote:GA,getRelations:cS,addRelation:sS,getDirection:DA,setDirection:TA,addMember:A3,addMembers:XA,cleanupLabel:YA,lineType:LA,relationType:NA,setClickEvent:$A,setCssClass:Ba,setLink:WA,getTooltip:KA,setTooltip:qA,lookUpDomId:j3,setDiagramTitle:xt,getDiagramTitle:wt},p3=0,bA=function(t,n,s,o,i){const u=function(e){switch(e){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}};n.points=n.points.filter(e=>!Number.isNaN(e.y));const j=n.points,b=Oo().x(function(e){return e.x}).y(function(e){return e.y}).curve(ps),r=t.append("path").attr("d",b(j)).attr("id","edge"+p3).attr("class","relation");let a="";o.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),s.relation.lineType==1&&r.attr("class","relation dashed-line"),s.relation.lineType==10&&r.attr("class","relation dotted-line"),s.relation.type1!=="none"&&r.attr("marker-start","url("+a+"#"+u(s.relation.type1)+"Start)"),s.relation.type2!=="none"&&r.attr("marker-end","url("+a+"#"+u(s.relation.type2)+"End)");let d,l;const c=n.points.length;let h=p.calcLabelPosition(n.points);d=h.x,l=h.y;let m,f,g,v;if(c%2!==0&&c>1){let t=p.calcCardinalityPosition(s.relation.type1!=="none",n.points,n.points[0]),o=p.calcCardinalityPosition(s.relation.type2!=="none",n.points,n.points[c-1]);e.debug("cardinality_1_point "+JSON.stringify(t)),e.debug("cardinality_2_point "+JSON.stringify(o)),m=t.x,f=t.y,g=o.x,v=o.y}if(s.title!==void 0){const n=t.append("g").attr("class","classLabel"),i=n.append("text").attr("class","label").attr("x",d).attr("y",l).attr("fill","red").attr("text-anchor","middle").text(s.title);window.label=i;const e=i.node().getBBox();n.insert("rect",":first-child").attr("class","box").attr("x",e.x-o.padding/2).attr("y",e.y-o.padding/2).attr("width",e.width+o.padding).attr("height",e.height+o.padding)}if(e.info("Rendering relation "+JSON.stringify(s)),s.relationTitle1!==void 0&&s.relationTitle1!=="none"){const e=t.append("g").attr("class","cardinality");e.append("text").attr("class","type1").attr("x",m).attr("y",f).attr("fill","black").attr("font-size","6").text(s.relationTitle1)}if(s.relationTitle2!==void 0&&s.relationTitle2!=="none"){const e=t.append("g").attr("class","cardinality");e.append("text").attr("class","type2").attr("x",g).attr("y",v).attr("fill","black").attr("font-size","6").text(s.relationTitle2)}p3++},Rk=function(t,n,s,o){e.debug("Rendering class ",n,s);const p=n.id,u={id:p,label:n.id,width:0,height:0},a=t.append("g").attr("id",o.db.lookUpDomId(p)).attr("class","classGroup");let r;n.link?r=a.append("svg:a").attr("xlink:href",n.link).attr("target",n.linkTarget).append("text").attr("y",s.textHeight+s.padding).attr("x",0):r=a.append("text").attr("y",s.textHeight+s.padding).attr("x",0);let i=!0;n.annotations.forEach(function(e){const t=r.append("tspan").text("\xAB"+e+"\xBB");i||t.attr("dy",s.textHeight),i=!1});let f=n.id;n.type!==void 0&&n.type!==""&&(f+="<"+n.type+">");const _=r.append("tspan").text(f).attr("class","title");i||_.attr("dy",s.textHeight);const c=r.node().getBBox().height,v=a.append("line").attr("x1",0).attr("y1",s.padding+c+s.dividerMargin/2).attr("y2",s.padding+c+s.dividerMargin/2),g=a.append("text").attr("x",s.padding).attr("y",c+s.dividerMargin+s.textHeight).attr("fill","white").attr("class","classText");i=!0,n.members.forEach(function(e){Y2(g,e,i,s),i=!1});const h=g.node().getBBox(),j=a.append("line").attr("x1",0).attr("y1",s.padding+c+s.dividerMargin+h.height).attr("y2",s.padding+c+s.dividerMargin+h.height),b=a.append("text").attr("x",s.padding).attr("y",c+2*s.dividerMargin+h.height+s.textHeight).attr("fill","white").attr("class","classText");i=!0,n.methods.forEach(function(e){Y2(b,e,i,s),i=!1});const d=a.node().getBBox();var m=" ";n.cssClasses.length>0&&(m=m+n.cssClasses.join(" "));const y=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",d.width+2*s.padding).attr("height",d.height+s.padding+.5*s.dividerMargin).attr("class",m),l=y.node().getBBox().width;return r.node().childNodes.forEach(function(e){e.setAttribute("x",(l-e.getBBox().width)/2)}),n.tooltip&&r.insert("title").text(n.tooltip),v.attr("x2",l),j.attr("x2",l),u.width=l,u.height=d.height+s.padding+.5*s.dividerMargin,u},Lk=function(t,n,s){e.debug("Rendering note ",n,s);const l=n.id,i={id:l,text:n.text,width:0,height:0},a=t.append("g").attr("id",l).attr("class","classGroup");let d=a.append("text").attr("y",s.textHeight+s.padding).attr("x",0);const r=JSON.parse(`"${n.text}"`).split(`
`);r.forEach(function(t){e.debug(`Adding line: ${t}`),d.append("tspan").text(t).attr("class","title").attr("dy",s.textHeight)});const c=a.node().getBBox(),h=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*s.padding).attr("height",c.height+r.length*s.textHeight+s.padding+.5*s.dividerMargin),u=h.node().getBBox().width;return d.node().childNodes.forEach(function(e){e.setAttribute("x",(u-e.getBBox().width)/2)}),i.width=u,i.height=c.height+r.length*s.textHeight+s.padding+.5*s.dividerMargin,i},Na=function(e){const s=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,o=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let n=e.match(s),t=e.match(o);return n&&!t?Nk(n):t?Dk(t):zk(e)},Nk=function(e){let n="",t="";try{let s=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",i=e[3]?Kt(e[3].trim()):"",a=e[4]?e[4].trim():"",r=e[5]?e[5].trim():"";t=s+o+i+" "+a,n=lr(r)}catch{t=e}return{displayText:t,cssStyle:n}},Dk=function(e){let n="",t="";try{let s=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",i=e[3]?Kt(e[3].trim()):"",a=e[4]?e[4].trim():"",r=e[5]?" : "+Kt(e[5]).trim():"";t=s+o+"("+i+")"+r,n=lr(a)}catch{t=e}return{displayText:t,cssStyle:n}},zk=function(e){let o="",i="",n="",s=e.indexOf("("),t=e.indexOf(")");if(s>1&&t>s&&t<=e.length){let c="",a="",r=e.substring(0,1);r.match(/\w/)?a=e.substring(0,s).trim():(r.match(/[#+~-]/)&&(c=r),a=e.substring(1,s).trim());const l=e.substring(s+1,t);e.substring(t+1,1),i=lr(e.substring(t+1,t+2)),o=c+a+"("+Kt(l.trim())+")",t<e.length&&(n=e.substring(t+2).trim(),n!==""&&(n=" : "+Kt(n),o+=n))}else o=Kt(e);return{displayText:o,cssStyle:i}},Y2=function(e,t,n,s){let o=Na(t);const i=e.append("tspan").attr("x",s.padding).text(o.displayText);o.cssStyle!==""&&i.attr("style",o.cssStyle),n||i.attr("dy",s.textHeight)},lr=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},dr={drawClass:Rk,drawEdge:bA,drawNote:Lk,parseMember:Na},Aa={},ka=20,ks=function(e){const t=Object.entries(Aa).find(t=>t[1].label===e);if(t)return t[0]},jk=function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},vk=function(n,s,o,a){const d=t().class;Aa={},e.info("Rendering diagram "+n);const f=t().securityLevel;let m;f==="sandbox"&&(m=i("#i"+s));const h=i(f==="sandbox"?m.nodes()[0].contentDocument.body:"body"),c=h.select(`[id='${s}']`);jk(c);const r=new D({multigraph:!0});r.setGraph({isMultiGraph:!0}),r.setDefaultEdgeLabel(function(){return{}});const u=a.db.getClasses(),b=Object.keys(u);for(const n of b){const s=u[n],t=dr.drawClass(c,s,d,a);Aa[t.id]=t,r.setNode(t.id,t),e.info("Org height: "+t.height)}const j=a.db.getRelations();j.forEach(function(t){e.info("tjoho"+ks(t.id1)+ks(t.id2)+JSON.stringify(t)),r.setEdge(ks(t.id1),ks(t.id2),{relation:t},t.title||"DEFAULT")});const y=a.db.getNotes();y.forEach(function(t){e.debug(`Adding note: ${JSON.stringify(t)}`);const n=dr.drawNote(c,t,d,a);Aa[n.id]=n,r.setNode(n.id,n),t.class&&t.class in u&&r.setEdge(t.id,ks(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Co(r),r.nodes().forEach(function(t){t!==void 0&&r.node(t)!==void 0&&(e.debug("Node "+t+": "+JSON.stringify(r.node(t))),h.select("#"+(a.db.lookUpDomId(t)||t)).attr("transform","translate("+(r.node(t).x-r.node(t).width/2)+","+(r.node(t).y-r.node(t).height/2)+" )"))}),r.edges().forEach(function(t){t!==void 0&&r.edge(t)!==void 0&&(e.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(r.edge(t))),dr.drawEdge(c,r.edge(t),r.edge(t).relation,d,a))});const l=c.node().getBBox(),p=l.width+ka*2,g=l.height+ka*2;Me(c,g,p,d.useMaxWidth);const v=`${l.x-ka} ${l.y-ka} ${p} ${g}`;e.debug(`viewBox ${v}`),c.attr("viewBox",v)},mk={draw:vk},hk=(e,t,n,s)=>{t.forEach(t=>{NE[t](e,n,s)})},uk=(t,n,s)=>{e.trace("Making markers for ",s),t.append("defs").append("marker").attr("id",n+"-extensionStart").attr("class","marker extension "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"-extensionEnd").attr("class","marker extension "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},dk=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},lk=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},nk=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},YE=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},BE=(e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},HE=(e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},RE=(e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},LE=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},NE={extension:uk,composition:dk,aggregation:lk,dependency:nk,lollipop:YE,point:BE,circle:HE,cross:RE,barb:LE},TE=hk;function vM(e,t){t&&e.attr("style",t)}function bM(e){const n=i(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),t=n.append("xhtml:div"),s=e.label,o=e.isNode?"nodeLabel":"edgeLabel";return t.html('<span class="'+o+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+s+"</span>"),vM(t,e.labelStyle),t.style("display","inline-block"),t.style("white-space","nowrap"),t.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}FE=(n,s,o,i)=>{let a=n||"";if(typeof a=="object"&&(a=a[0]),$(t().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),e.info("vertexText"+a);const t={isNode:i,label:or(a).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:s.replace("fill:","color:")};let n=bM(t);return n}const c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("style",s.replace("color:","fill:"));let r=[];typeof a=="string"?r=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?r=a:r=[];for(const t of r){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),o?e.setAttribute("class","title-row"):e.setAttribute("class","row"),e.textContent=t.trim(),c.appendChild(e)}return c},ce=FE,Y=(e,n,s,o)=>{let r;s?r=s:r="node default";const u=e.insert("g").attr("class",r).attr("id",n.domId||n.id),c=u.insert("g").attr("class","label").attr("style",n.labelStyle);let l;n.labelText===void 0?l="":l=typeof n.labelText=="string"?n.labelText:n.labelText[0];const d=c.node().appendChild(ce(Ne(or(l),t()),n.labelStyle,!1,o));let a=d.getBBox();if($(t().flowchart.htmlLabels)){const t=d.children[0],e=i(d);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}const h=n.padding/2;return c.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),{shapeSvg:u,bbox:a,halfPadding:h,label:c}},k=(e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height};function Nt(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}v={},Ce={},y2={},kE=()=>{Ce={},y2={},v={}},ma=(t,n)=>(e.trace("In isDecendant",n," ",t," = ",Ce[n].includes(t)),!!Ce[n].includes(t)),CE=(t,n)=>(e.info("Decendants of ",n," is ",Ce[n]),e.info("Edge is ",t),t.v!==n&&t.w!==n&&(Ce[n]?Ce[n].includes(t.v)||ma(t.v,n)||ma(t.w,n)||Ce[n].includes(t.w):(e.debug("Tilt, ",n,",not in decendants"),!1))),l2=(t,n,s,o)=>{e.warn("Copying children of ",t,"root",o,"data",n.node(t),o);const i=n.children(t)||[];t!==o&&i.push(t),e.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(i=>{if(n.children(i).length>0)l2(i,n,s,o);else{const r=n.node(i);e.info("cp ",i," to ",o," with parent ",t),s.setNode(i,r),o!==n.parent(i)&&(e.warn("Setting parent",i,n.parent(i)),s.setParent(i,n.parent(i))),t!==o&&i!==t?(e.debug("Setting parent",i,t),s.setParent(i,t)):(e.info("In copy ",t,"root",o,"data",n.node(t),o),e.debug("Not Setting parent for node=",i,"cluster!==rootId",t!==o,"node!==clusterId",i!==t));const a=n.edges(i);e.debug("Copying Edges",a),a.forEach(i=>{e.info("Edge",i);const a=n.edge(i.v,i.w,i.name);e.info("Edge data",a,o);try{CE(i,o)?(e.info("Copying as ",i.v,i.w,a,i.name),s.setEdge(i.v,i.w,a,i.name),e.info("newGraph edges ",s.edges(),s.edge(s.edges()[0]))):e.info("Skipping copy of edge ",i.v,"-->",i.w," rootId: ",o," clusterId:",t)}catch(t){e.error(t)}})}e.debug("Removing node",i),n.removeNode(i)})},U0=(e,t)=>{const s=t.children(e);let n=[...s];for(const o of s)y2[o]=e,n=[...n,...U0(o,t)];return n},Hs=(t,n)=>{e.trace("Searching",t);const s=n.children(t);if(e.trace("Searching children of id ",t,s),s.length<1)return e.trace("This is a valid node",t),t;for(const i of s){const o=Hs(i,n);if(o)return e.trace("Found replacement for",t," => ",o),o}},ca=e=>v[e]?v[e].externalConnections&&v[e]?v[e].id:e:e,wE=(t,n)=>{if(!t||n>10){e.debug("Opting out, no graph ");return}e.debug("Opting in, graph "),t.nodes().forEach(function(n){const s=t.children(n);s.length>0&&(e.warn("Cluster identified",n," Replacement id in edges: ",Hs(n,t)),Ce[n]=U0(n,t),v[n]={id:Hs(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const s=t.children(n),o=t.edges();s.length>0?(e.debug("Cluster identified",n,Ce),o.forEach(t=>{if(t.v!==n&&t.w!==n){const s=ma(t.v,n),o=ma(t.w,n);s^o&&(e.warn("Edge: ",t," leaves cluster ",n),e.warn("Decendants of XXX ",n,": ",Ce[n]),v[n].externalConnections=!0)}})):e.debug("Not a cluster ",n,Ce)}),t.edges().forEach(function(n){const s=t.edge(n);e.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),e.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let o=n.v,i=n.w;if(e.warn("Fix XXX",v,"ids:",n.v,n.w,"Translating: ",v[n.v]," --- ",v[n.w]),v[n.v]&&v[n.w]&&v[n.v]===v[n.w]){e.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),e.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),o=ca(n.v),i=ca(n.w),t.removeEdge(n.v,n.w,n.name);const a=n.w+"---"+n.v;t.setNode(a,{domId:a,id:a,labelStyle:"",labelText:s.label,padding:0,shape:"labelRect",style:""});const r=JSON.parse(JSON.stringify(s)),c=JSON.parse(JSON.stringify(s));r.label="",r.arrowTypeEnd="none",c.label="",r.fromCluster=n.v,c.toCluster=n.v,t.setEdge(o,a,r,n.name+"-cyclic-special"),t.setEdge(a,i,c,n.name+"-cyclic-special")}else(v[n.v]||v[n.w])&&(e.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),o=ca(n.v),i=ca(n.w),t.removeEdge(n.v,n.w,n.name),o!==n.v&&(s.fromCluster=n.v),i!==n.w&&(s.toCluster=n.w),e.warn("Fix Replacing with XXX",o,i,n.name),t.setEdge(o,i,s,n.name))}),e.warn("Adjusted Graph",Vt(t)),R0(t,0),e.trace(v)},R0=(t,n)=>{if(e.warn("extractor - ",n,Vt(t),t.children("D")),n>10){e.error("Bailing out");return}let s=t.nodes(),o=!1;for(const e of s){const n=t.children(e);o=o||n.length>0}if(!o){e.debug("Done, no node has children",t.nodes());return}e.debug("Nodes = ",s,n);for(const o of s)if(e.debug("Extracting node",o,v,v[o]&&!v[o].externalConnections,!t.parent(o),t.node(o),t.children("D")," Depth ",n),v[o])if(!v[o].externalConnections&&t.children(o)&&t.children(o).length>0){e.warn("Cluster without external connections, without a parent and with children",o,n);const a=t.graph();let s=a.rankdir==="TB"?"LR":"TB";v[o]&&v[o].clusterData&&v[o].clusterData.dir&&(s=v[o].clusterData.dir,e.warn("Fixing dir",v[o].clusterData.dir,s));const i=new D({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});e.warn("Old graph before copy",Vt(t)),l2(o,t,i,o),t.setNode(o,{clusterNode:!0,id:o,clusterData:v[o].clusterData,labelText:v[o].labelText,graph:i}),e.warn("New graph after copy node: (",o,")",Vt(i)),e.debug("Old graph after copy",Vt(t))}else e.warn("Cluster ** ",o," **not meeting the criteria !externalConnections:",!v[o].externalConnections," no parent: ",!t.parent(o)," children ",t.children(o)&&t.children(o).length>0,t.children("D"),n),e.debug(v);else e.debug("Not a cluster",o,n);s=t.nodes(),e.warn("New list of nodes",s);for(const i of s){const o=t.node(i);e.warn(" Now next level",i,o),o.clusterNode&&R0(o.graph,n+1)}},k0=(e,t)=>{if(t.length===0)return[];let n=Object.assign(t);return t.forEach(t=>{const s=e.children(t),o=k0(e,s);n=[...n,...o]}),n},_E=e=>k0(e,e.children());function PM(e,t){return e.intersect(t)}function yE(e,t,n,s){var o,i=e.x,a=e.y,r=i-s.x,c=a-s.y,d=Math.sqrt(t*t*c*c+n*n*r*r),l=Math.abs(t*n*r/d);return s.x<i&&(l=-l),o=Math.abs(t*n*c/d),s.y<a&&(o=-o),{x:i+l,y:a+o}}function IM(e,t,n){return yE(e,t,t,n)}function BM(e,t,n,s){var o,i,a,r,c,l,m,f,v,b,h=t.y-e.y,d=e.x-t.x,u=t.x*e.y-e.x*t.y,g=h*n.x+d*n.y+u,p=h*s.x+d*s.y+u;if(g!==0&&p!==0&&jE(g,p))return;if(a=s.y-n.y,r=n.x-s.x,c=s.x*n.y-n.x*s.y,m=a*e.x+r*e.y+c,f=a*t.x+r*t.y+c,m!==0&&f!==0&&jE(m,f))return;if(i=h*r-a*d,i===0)return;return l=Math.abs(i/2),o=d*c-r*u,v=o<0?(o-l)/i:(o+l)/i,o=a*u-h*c,b=o<0?(o-l)/i:(o+l)/i,{x:v,y:b}}function jE(e,t){return e*t>0}function $M(e,t,n){var s,r,c,l,d,u,h=e.x,m=e.y,o=[],i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(e){i=Math.min(i,e.x),a=Math.min(a,e.y)}):(i=Math.min(i,t.x),a=Math.min(a,t.y)),r=h-e.width/2-i,c=m-e.height/2-a;for(s=0;s<t.length;s++)l=t[s],d=t[s<t.length-1?s+1:0],u=BM(e,n,{x:r+l.x,y:c+l.y},{x:r+d.x,y:c+d.y}),u&&o.push(u);return o.length?(o.length>1&&o.sort(function(e,t){var s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),o[0]):e}vE=(e,t)=>{var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}},Us=vE,O={node:PM,circle:IM,ellipse:yE,polygon:$M,rect:Us},fE=(t,n)=>{const{shapeSvg:o,bbox:s,halfPadding:i}=Y(t,n,"node "+n.classes,!0);e.info("Classes = ",n.classes);const a=o.insert("rect",":first-child");return a.attr("rx",n.rx).attr("ry",n.ry).attr("x",-s.width/2-i).attr("y",-s.height/2-i).attr("width",s.width+n.padding).attr("height",s.height+n.padding),k(n,a),n.intersect=function(e){return O.rect(n,e)},o},mE=fE,uE=(t,n)=>{const{shapeSvg:o,bbox:i}=Y(t,n,void 0,!0),c=i.width+n.padding,l=i.height+n.padding,s=c+l,a=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];e.info("Question main (Circle)");const r=Nt(o,s,s,a);return r.attr("style",n.style),k(n,r),n.intersect=function(t){return e.warn("Intersect called"),O.polygon(n,a,t)},o},dE=(e,t)=>{const s=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,o=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}],i=s.insert("polygon",":first-child").attr("points",o.map(function(e){return e.x+","+e.y}).join(" "));return i.attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return O.circle(t,14,e)},s},cE=(e,t)=>{const{shapeSvg:i,bbox:a}=Y(e,t,void 0,!0),l=4,n=a.height+t.padding,s=n/l,o=a.width+2*s+t.padding,r=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-n/2},{x:o-s,y:-n},{x:s,y:-n},{x:0,y:-n/2}],c=Nt(i,o,n,r);return c.attr("style",t.style),k(t,c),t.intersect=function(e){return O.polygon(t,r,e)},i},nE=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-n/2,y:0},{x:s,y:0},{x:s,y:-n},{x:-n/2,y:-n},{x:0,y:-n/2}],r=Nt(o,s,n,a);return r.attr("style",t.style),t.width=s+n,t.height=n,t.intersect=function(e){return O.polygon(t,a,e)},o},tE=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:n/6,y:-n}],r=Nt(o,s,n,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},JC=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:2*n/6,y:0},{x:s+n/6,y:0},{x:s-2*n/6,y:-n},{x:-n/6,y:-n}],r=Nt(o,s,n,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},GC=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s+2*n/6,y:0},{x:s-n/6,y:-n},{x:n/6,y:-n}],r=Nt(o,s,n,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},qC=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:-2*n/6,y:-n}],r=Nt(o,s,n,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},UC=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:0,y:0},{x:s+n/2,y:0},{x:s,y:-n/2},{x:s+n/2,y:-n},{x:0,y:-n}],r=Nt(o,s,n,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},$C=(e,t)=>{const{shapeSvg:a,bbox:r}=Y(e,t,void 0,!0),o=r.width+t.padding,s=o/2,n=s/(2.5+o/50),i=r.height+n+t.padding,c="M 0,"+n+" a "+s+","+n+" 0,0,0 "+o+" 0 a "+s+","+n+" 0,0,0 "+-o+" 0 l 0,"+i+" a "+s+","+n+" 0,0,0 "+o+" 0 l 0,"+-i,l=a.attr("label-offset-y",n).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-o/2+","+-(i/2+n)+")");return k(t,l),t.intersect=function(e){const o=O.rect(t,e),i=o.x-t.x;if(s!=0&&(Math.abs(i)<t.width/2||Math.abs(i)==t.width/2&&Math.abs(o.y-t.y)>t.height/2-n)){let a=n*n*(1-i*i/(s*s));a!=0&&(a=Math.sqrt(a)),a=n-a,e.y-t.y>0&&(a=-a),o.y+=a}return o},a},BC=(t,n)=>{const{shapeSvg:i,bbox:s,halfPadding:a}=Y(t,n,"node "+n.classes,!0);e.trace("Classes = ",n.classes);const o=i.insert("rect",":first-child"),r=s.width+n.padding,c=s.height+n.padding;if(o.attr("class","basic label-container").attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("x",-s.width/2-a).attr("y",-s.height/2-a).attr("width",r).attr("height",c),n.props){const t=new Set(Object.keys(n.props));n.props.borders&&(RC(o,n.props.borders,r,c),t.delete("borders")),t.forEach(t=>{e.warn(`Unknown node property ${t}`)})}return k(n,o),n.intersect=function(e){return O.rect(n,e)},i},HC=(t,n)=>{const{shapeSvg:s}=Y(t,n,"label",!0);e.trace("Classes = ",n.classes);const o=s.insert("rect",":first-child"),i=0,a=0;if(o.attr("width",i).attr("height",a),s.attr("class","label edgeLabel"),n.props){const t=new Set(Object.keys(n.props));n.props.borders&&(RC(o,n.props.borders,i,a),t.delete("borders")),t.forEach(t=>{e.warn(`Unknown node property ${t}`)})}return k(n,o),n.intersect=function(e){return O.rect(n,e)},s};function RC(t,n,s,o){const r=[],i=e=>{r.push(e,0)},a=e=>{r.push(0,e)};n.includes("t")?(e.debug("add top border"),i(s)):a(s),n.includes("r")?(e.debug("add right border"),i(o)):a(o),n.includes("b")?(e.debug("add bottom border"),i(s)):a(s),n.includes("l")?(e.debug("add left border"),i(o)):a(o),t.attr("stroke-dasharray",r.join(" "))}NC=(n,s)=>{let f;s.classes?f="node "+s.classes:f="node default";const l=n.insert("g").attr("class",f).attr("id",s.domId||s.id),g=l.insert("rect",":first-child"),v=l.insert("line"),d=l.insert("g").attr("class","label"),r=s.labelText.flat?s.labelText.flat():s.labelText;let u="";typeof r=="object"?u=r[0]:u=r,e.info("Label text abc79",u,r,typeof r=="object");const h=d.node().appendChild(ce(u,s.labelStyle,!0,!0));let o={width:0,height:0};if($(t().flowchart.htmlLabels)){const t=h.children[0],e=i(h);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}e.info("Text 2",r);const m=r.slice(1,r.length);let c=h.getBBox();const p=d.node().appendChild(ce(m.join?m.join("<br/>"):m,s.labelStyle,!0,!0));if($(t().flowchart.htmlLabels)){const t=p.children[0],e=i(p);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}const a=s.padding/2;return i(p).attr("transform","translate( "+(o.width>c.width?0:(c.width-o.width)/2)+", "+(c.height+a+5)+")"),i(h).attr("transform","translate( "+(o.width<c.width?0:-(c.width-o.width)/2)+", "+0+")"),o=d.node().getBBox(),d.attr("transform","translate("+-o.width/2+", "+(-o.height/2-a+3)+")"),g.attr("class","outer title-state").attr("x",-o.width/2-a).attr("y",-o.height/2-a).attr("width",o.width+s.padding).attr("height",o.height+s.padding),v.attr("class","divider").attr("x1",-o.width/2-a).attr("x2",o.width/2+a).attr("y1",-o.height/2-a+c.height+a).attr("y2",-o.height/2-a+c.height+a),k(s,g),s.intersect=function(e){return O.rect(s,e)},l},FC=(e,t)=>{const{shapeSvg:s,bbox:o}=Y(e,t,void 0,!0),n=o.height+t.padding,i=o.width+n/4+t.padding,a=s.insert("rect",":first-child").attr("style",t.style).attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return k(t,a),t.intersect=function(e){return O.rect(t,e)},s},MC=(t,n)=>{const{shapeSvg:i,bbox:s,halfPadding:o}=Y(t,n,void 0,!0),a=i.insert("circle",":first-child");return a.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+o).attr("width",s.width+n.padding).attr("height",s.height+n.padding),e.info("Circle main"),k(n,a),n.intersect=function(t){return e.info("Circle intersect",n,s.width/2+o,t),O.circle(n,s.width/2+o,t)},i},kC=(t,n)=>{const{shapeSvg:a,bbox:s,halfPadding:i}=Y(t,n,void 0,!0),o=5,r=a.insert("g",":first-child"),c=r.insert("circle"),l=r.insert("circle");return c.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+i+o).attr("width",s.width+n.padding+o*2).attr("height",s.height+n.padding+o*2),l.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+i).attr("width",s.width+n.padding).attr("height",s.height+n.padding),e.info("DoubleCircle main"),k(n,c),n.intersect=function(t){return e.info("DoubleCircle intersect",n,s.width/2+i+o,t),O.circle(n,s.width/2+i+o,t)},a},xC=(e,t)=>{const{shapeSvg:o,bbox:i}=Y(e,t,void 0,!0),n=i.width+t.padding,s=i.height+t.padding,a=[{x:0,y:0},{x:n,y:0},{x:n,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],r=Nt(o,n,s,a);return r.attr("style",t.style),k(t,r),t.intersect=function(e){return O.polygon(t,a,e)},o},OC=(e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),k(t,s),t.intersect=function(e){return O.circle(t,7,e)},n},C0=(e,t,n)=>{const i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s=70,o=10;n==="LR"&&(s=10,o=70);const a=i.append("rect").attr("x",-1*s/2).attr("y",-1*o/2).attr("width",s).attr("height",o).attr("class","fork-join");return k(t,a),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return O.rect(t,e)},i},_C=(e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),o=n.insert("circle",":first-child"),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),o.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),k(t,s),t.intersect=function(e){return O.circle(t,7,e)},n},yC=(e,n)=>{const r=n.padding/2,d=4,c=8;let v;n.classes?v="node "+n.classes:v="node default";const h=e.insert("g").attr("class",v).attr("id",n.domId||n.id),b=h.insert("rect",":first-child"),C=h.insert("line"),_=h.insert("line");let s=0,o=d;const f=h.insert("g").attr("class","label");let a=0;const w=n.classData.annotations&&n.classData.annotations[0],x=n.classData.annotations[0]?"\xAB"+n.classData.annotations[0]+"\xBB":"",p=f.node().appendChild(ce(x,n.labelStyle,!0,!0));let u=p.getBBox();if($(t().flowchart.htmlLabels)){const t=p.children[0],e=i(p);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}n.classData.annotations[0]&&(o+=u.height+d,s+=u.width);let g=n.classData.id;n.classData.type!==void 0&&n.classData.type!==""&&(t().flowchart.htmlLabels?g+="&lt;"+n.classData.type+"&gt;":g+="<"+n.classData.type+">");const m=f.node().appendChild(ce(g,n.labelStyle,!0,!0));i(m).attr("class","classTitle");let l=m.getBBox();if($(t().flowchart.htmlLabels)){const t=m.children[0],e=i(m);l=t.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height)}o+=l.height+d,l.width>s&&(s=l.width);const j=[];n.classData.members.forEach(e=>{const c=Na(e);let l=c.displayText;t().flowchart.htmlLabels&&(l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const r=f.node().appendChild(ce(l,c.cssStyle?c.cssStyle:n.labelStyle,!0,!0));let a=r.getBBox();if($(t().flowchart.htmlLabels)){const t=r.children[0],e=i(r);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}a.width>s&&(s=a.width),o+=a.height+d,j.push(r)}),o+=c;const y=[];if(n.classData.methods.forEach(e=>{const c=Na(e);let l=c.displayText;t().flowchart.htmlLabels&&(l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const r=f.node().appendChild(ce(l,c.cssStyle?c.cssStyle:n.labelStyle,!0,!0));let a=r.getBBox();if($(t().flowchart.htmlLabels)){const t=r.children[0],e=i(r);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}a.width>s&&(s=a.width),o+=a.height+d,y.push(r)}),o+=c,w){let e=(s-u.width)/2;i(p).attr("transform","translate( "+(-1*s/2+e)+", "+-1*o/2+")"),a=u.height+d}let E=(s-l.width)/2;return i(m).attr("transform","translate( "+(-1*s/2+E)+", "+(-1*o/2+a)+")"),a+=l.height+d,C.attr("class","divider").attr("x1",-s/2-r).attr("x2",s/2+r).attr("y1",-o/2-r+c+a).attr("y2",-o/2-r+c+a),a+=c,j.forEach(e=>{i(e).attr("transform","translate( "+-s/2+", "+(-1*o/2+a+c/2)+")"),a+=l.height+d}),a+=c,_.attr("class","divider").attr("x1",-s/2-r).attr("x2",s/2+r).attr("y1",-o/2-r+c+a).attr("y2",-o/2-r+c+a),a+=c,y.forEach(e=>{i(e).attr("transform","translate( "+-s/2+", "+(-1*o/2+a)+")"),a+=l.height+d}),b.attr("class","outer title-state").attr("x",-s/2-r).attr("y",-(o/2)-r).attr("width",s+n.padding).attr("height",o+n.padding),k(n,b),n.intersect=function(e){return O.rect(n,e)},h},_0={question:uE,rect:BC,labelRect:HC,rectWithTitle:NC,choice:dE,circle:MC,doublecircle:kC,stadium:FC,hexagon:cE,rect_left_inv_arrow:nE,lean_right:tE,lean_left:JC,trapezoid:GC,inv_trapezoid:qC,rect_right_inv_arrow:UC,cylinder:$C,start:OC,end:_C,note:mE,subroutine:xC,fork:C0,join:C0,class_box:yC},Kn={},jC=(e,n,s)=>{let i,o;if(n.link){let a;t().securityLevel==="sandbox"?a="_top":n.linkTarget&&(a=n.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",n.link).attr("target",a),o=_0[n.shape](i,n,s)}else o=_0[n.shape](e,n,s),i=o;n.tooltip&&o.attr("title",n.tooltip),n.class&&o.attr("class","node default "+n.class),Kn[n.id]=i,n.haveCallback&&Kn[n.id].attr("class",Kn[n.id].attr("class")+" clickable")},fC=(e,t)=>{Kn[t.id]=e},mC=()=>{Kn={}},y0=t=>{const n=Kn[t.id];e.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const o=8,s=t.diff||0;return t.clusterNode?n.attr("transform","translate("+(t.x+s-t.width/2)+", "+(t.y-t.height/2-o)+")"):n.attr("transform","translate("+t.x+", "+t.y+")"),s},hC=(n,s)=>{e.trace("Creating subgraph rect for ",s.id,s);const r=n.insert("g").attr("class","cluster"+(s.class?" "+s.class:"")).attr("id",s.id),l=r.insert("rect",":first-child"),d=r.insert("g").attr("class","cluster-label"),c=d.node().appendChild(ce(s.labelText,s.labelStyle,void 0,!0));let o=c.getBBox();if($(t().flowchart.htmlLabels)){const t=c.children[0],e=i(c);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}const a=0*s.padding,m=a/2,u=s.width<=o.width+a?o.width+a:s.width;s.width<=o.width+a?s.diff=(o.width-s.width)/2-s.padding/2:s.diff=-s.padding/2,e.trace("Data ",s,JSON.stringify(s)),l.attr("style",s.style).attr("rx",s.rx).attr("ry",s.ry).attr("x",s.x-u/2).attr("y",s.y-s.height/2-m).attr("width",u).attr("height",s.height+a),d.attr("transform","translate("+(s.x-o.width/2)+", "+(s.y-s.height/2)+")");const h=l.node().getBBox();return s.width=h.width,s.height=h.height,s.intersect=function(e){return Us(s,e)},r},dC=(e,t)=>{const s=e.insert("g").attr("class","note-cluster").attr("id",t.id),o=s.insert("rect",":first-child"),n=0*t.padding,i=n/2;o.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");const a=o.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(e){return Us(t,e)},s},lC=(e,n)=>{const a=e.insert("g").attr("class",n.classes).attr("id",n.id),d=a.insert("rect",":first-child"),u=a.insert("g").attr("class","cluster-label"),h=a.append("rect"),r=u.node().appendChild(ce(n.labelText,n.labelStyle,void 0,!0));let s=r.getBBox();if($(t().flowchart.htmlLabels)){const t=r.children[0],e=i(r);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}s=r.getBBox();const o=0*n.padding,c=o/2,l=n.width<=s.width+n.padding?s.width+n.padding:n.width;n.width<=s.width+n.padding?n.diff=(s.width+n.padding*0-n.width)/2:n.diff=-n.padding/2,d.attr("class","outer").attr("x",n.x-l/2-c).attr("y",n.y-n.height/2-c).attr("width",l+o).attr("height",n.height+o),h.attr("class","inner").attr("x",n.x-l/2-c).attr("y",n.y-n.height/2-c+s.height-1).attr("width",l+o).attr("height",n.height+o-s.height-3),u.attr("transform","translate("+(n.x-s.width/2)+", "+(n.y-n.height/2-n.padding/3+($(t().flowchart.htmlLabels)?5:3))+")");const m=d.node().getBBox();return n.height=m.height,n.intersect=function(e){return Us(n,e)},a},cC=(e,t)=>{const s=e.insert("g").attr("class",t.classes).attr("id",t.id),o=s.insert("rect",":first-child"),n=0*t.padding,a=n/2;o.attr("class","divider").attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2).attr("width",t.width+n).attr("height",t.height+n);const i=o.node().getBBox();return t.width=i.width,t.height=i.height,t.diff=-t.padding/2,t.intersect=function(e){return Us(t,e)},s},Kx={rect:hC,roundedWithTitle:lC,noteGroup:dC,divider:cC},j0={},Wx=(t,n)=>{e.trace("Inserting cluster");const s=n.shape||"rect";j0[n.id]=Kx[s](t,n)},Vx=()=>{j0={}},Yi={},q={},Nx=()=>{Yi={},q={}},Dx=(e,n)=>{const a=ce(n.label,n.labelStyle),r=e.insert("g").attr("class","edgeLabel"),c=r.insert("g").attr("class","label");c.node().appendChild(a);let o=a.getBBox();if($(t().flowchart.htmlLabels)){const t=a.children[0],e=i(a);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}c.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),Yi[n.id]=r,n.width=o.width,n.height=o.height;let s;if(n.startLabelLeft){const t=ce(n.startLabelLeft,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),q[n.id]||(q[n.id]={}),q[n.id].startLeft=o,Vr(s,n.startLabelLeft)}if(n.startLabelRight){const t=ce(n.startLabelRight,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=o.node().appendChild(t),i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),q[n.id]||(q[n.id]={}),q[n.id].startRight=o,Vr(s,n.startLabelRight)}if(n.endLabelLeft){const t=ce(n.endLabelLeft,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(t),q[n.id]||(q[n.id]={}),q[n.id].endLeft=o,Vr(s,n.endLabelLeft)}if(n.endLabelRight){const t=ce(n.endLabelRight,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(t),q[n.id]||(q[n.id]={}),q[n.id].endRight=o,Vr(s,n.endLabelRight)}};function Vr(e,n){t().flowchart.htmlLabels&&e&&(e.style.width=n.length*9+"px",e.style.height="12px")}zx=(t,n)=>{e.info("Moving label abc78 ",t.id,t.label,Yi[t.id]);let s=n.updatedPath?n.updatedPath:n.originalPath;if(t.label){const a=Yi[t.id];let o=t.x,i=t.y;if(s){const a=p.calcLabelPosition(s);e.info("Moving label "+t.label+" from (",o,",",i,") to (",a.x,",",a.y,") abc78"),n.updatedPath&&(o=a.x,i=a.y)}a.attr("transform","translate("+o+", "+i+")")}if(t.startLabelLeft){const o=q[t.id].startLeft;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.startLabelRight){const o=q[t.id].startRight;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.endLabelLeft){const o=q[t.id].endLeft;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.endLabelRight){const o=q[t.id].endRight;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}},Fx=(e,t)=>{const n=e.x,s=e.y,o=Math.abs(t.x-n),i=Math.abs(t.y-s),a=e.width/2,r=e.height/2;return o>=a||i>=r},Ax=(t,n,s)=>{e.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(n)}
  insidePoint : ${JSON.stringify(s)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const c=t.x,u=t.y,f=Math.abs(c-s.x),r=t.width/2;let o=s.x<n.x?r-f:r+f;const h=t.height/2,a=Math.abs(n.y-s.y),i=Math.abs(n.x-s.x);if(Math.abs(u-n.y)*r>Math.abs(c-n.x)*h){let r=s.y<n.y?n.y-h-u:u-h-n.y;o=i*r/a;const t={x:s.x<n.x?s.x+o:s.x-i+o,y:s.y<n.y?s.y+a-r:s.y-a+r};return o===0&&(t.x=n.x,t.y=n.y),i===0&&(t.x=n.x),a===0&&(t.y=n.y),e.warn(`abc89 topp/bott calc, Q ${a}, q ${r}, R ${i}, r ${o}`,t),t}s.x<n.x?o=n.x-r-c:o=c-r-n.x;let m=a*o/i,l=s.x<n.x?s.x+i-o:s.x-i+o,d=s.y<n.y?s.y+m:s.y-m;return e.warn(`sides calc abc89, Q ${a}, q ${m}, R ${i}, r ${o}`,{_x:l,_y:d}),o===0&&(l=n.x,d=n.y),i===0&&(l=n.x),a===0&&(d=n.y),{x:l,y:d}},p0=(t,n)=>{e.warn("abc88 cutPathAtIntersect",t,n);let s=[],o=t[0],i=!1;return t.forEach(t=>{if(e.info("abc88 checking point",t,n),!Fx(n,t)&&!i){const a=Ax(n,o,t);e.warn("abc88 inside",t,o,a),e.warn("abc88 intersection",a);let r=!1;s.forEach(e=>{r=r||e.x===a.x&&e.y===a.y}),s.some(e=>e.x===a.x&&e.y===a.y)?e.warn("abc88 no intersect",a,s):s.push(a),i=!0}else e.warn("abc88 outside",t,o),o=t,i||s.push(t)}),e.warn("abc88 returning points",s),s},Ex=function(n,s,o,i,a,r){let d=o.points,m=!1;const g=r.node(s.v);var h=r.node(s.w);e.info("abc88 InsertEdge: ",o),h.intersect&&g.intersect&&(d=d.slice(1,o.points.length-1),d.unshift(g.intersect(d[0])),e.info("Last point",d[d.length-1],h,h.intersect(d[d.length-1])),d.push(h.intersect(d[d.length-1]))),o.toCluster&&(e.info("to cluster abc88",i[o.toCluster]),d=p0(o.points,i[o.toCluster].node),m=!0),o.fromCluster&&(e.info("from cluster abc88",i[o.fromCluster]),d=p0(d.reverse(),i[o.fromCluster].node).reverse(),m=!0);const v=d.filter(e=>!Number.isNaN(e.y));let f;a==="graph"||a==="flowchart"?f=o.curve||ps:f=ps;const b=Oo().x(function(e){return e.x}).y(function(e){return e.y}).curve(f);let u;switch(o.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;default:u=""}switch(o.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break}const l=n.append("path").attr("d",b(v)).attr("id",o.id).attr("class"," "+u+(o.classes?" "+o.classes:"")).attr("style",o.style);let c="";switch((t().flowchart.arrowMarkerAbsolute||t().state.arrowMarkerAbsolute)&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),e.info("arrowTypeStart",o.arrowTypeStart),e.info("arrowTypeEnd",o.arrowTypeEnd),o.arrowTypeStart){case"arrow_cross":l.attr("marker-start","url("+c+"#"+a+"-crossStart)");break;case"arrow_point":l.attr("marker-start","url("+c+"#"+a+"-pointStart)");break;case"arrow_barb":l.attr("marker-start","url("+c+"#"+a+"-barbStart)");break;case"arrow_circle":l.attr("marker-start","url("+c+"#"+a+"-circleStart)");break;case"aggregation":l.attr("marker-start","url("+c+"#"+a+"-aggregationStart)");break;case"extension":l.attr("marker-start","url("+c+"#"+a+"-extensionStart)");break;case"composition":l.attr("marker-start","url("+c+"#"+a+"-compositionStart)");break;case"dependency":l.attr("marker-start","url("+c+"#"+a+"-dependencyStart)");break;case"lollipop":l.attr("marker-start","url("+c+"#"+a+"-lollipopStart)");break}switch(o.arrowTypeEnd){case"arrow_cross":l.attr("marker-end","url("+c+"#"+a+"-crossEnd)");break;case"arrow_point":l.attr("marker-end","url("+c+"#"+a+"-pointEnd)");break;case"arrow_barb":l.attr("marker-end","url("+c+"#"+a+"-barbEnd)");break;case"arrow_circle":l.attr("marker-end","url("+c+"#"+a+"-circleEnd)");break;case"aggregation":l.attr("marker-end","url("+c+"#"+a+"-aggregationEnd)");break;case"extension":l.attr("marker-end","url("+c+"#"+a+"-extensionEnd)");break;case"composition":l.attr("marker-end","url("+c+"#"+a+"-compositionEnd)");break;case"dependency":l.attr("marker-end","url("+c+"#"+a+"-dependencyEnd)");break;case"lollipop":l.attr("marker-end","url("+c+"#"+a+"-lollipopEnd)");break}let p={};return m&&(p.updatedPath=d),p.originalPath=o.points,p},u0=(t,n,s,o)=>{e.info("Graph in recursive render: XXX",Vt(n),o);const a=n.graph().rankdir;e.trace("Dir in recursive render - dir:",a);const i=t.insert("g").attr("class","root");n.nodes()?e.info("Recursive render XXX",n.nodes()):e.info("No nodes found for",n),n.edges().length>0&&e.trace("Recursive edges",n.edge(n.edges()[0]));const l=i.insert("g").attr("class","clusters"),d=i.insert("g").attr("class","edgePaths"),u=i.insert("g").attr("class","edgeLabels"),r=i.insert("g").attr("class","nodes");n.nodes().forEach(function(t){const i=n.node(t);if(o!==void 0){const s=JSON.parse(JSON.stringify(o.clusterData));e.info("Setting data for cluster XXX (",t,") ",s,o),n.setNode(o.id,s),n.parent(t)||(e.trace("Setting parent",t,o.id),n.setParent(t,o.id,s))}if(e.info("(Insert) Node XXX"+t+": "+JSON.stringify(n.node(t))),i&&i.clusterNode){e.info("Cluster identified",t,i.width,n.node(t));const a=u0(r,i.graph,s,n.node(t)),o=a.elem;k(i,o),i.diff=a.diff||0,e.info("Node bounds (abc123)",t,i,i.width,i.x,i.y),fC(o,i),e.warn("Recursive render complete ",o,i)}else n.children(t).length>0?(e.info("Cluster - the non recursive path XXX",t,i.id,i,n),e.info(Hs(i.id,n)),v[i.id]={id:Hs(i.id,n),node:i}):(e.info("Node - the non recursive path",t,i.id,i),jC(r,n.node(t),a))}),n.edges().forEach(function(t){const s=n.edge(t.v,t.w,t.name);e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),e.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(n.edge(t))),e.info("Fix",v,"ids:",t.v,t.w,"Translateing: ",v[t.v],v[t.w]),Dx(u,s)}),n.edges().forEach(function(t){e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))}),e.info("#############################################"),e.info("###                Layout                 ###"),e.info("#############################################"),e.info(n),Co(n),e.info("Graph after layout:",Vt(n));let c=0;return _E(n).forEach(function(t){const s=n.node(t);e.info("Position "+t+": "+JSON.stringify(n.node(t))),e.info("Position "+t+": ("+s.x,","+s.y,") width: ",s.width," height: ",s.height),s&&s.clusterNode?y0(s):n.children(t).length>0?(Wx(l,s),v[s.id].node=s):y0(s)}),n.edges().forEach(function(t){const o=n.edge(t);e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(o),o);const i=Ex(d,t,o,v,s,n);zx(o,i)}),n.nodes().forEach(function(t){const s=n.node(t);e.info(t,s.type,s.diff),s.type==="group"&&(c=s.diff)}),{elem:i,diff:c}},Ur=(t,n,s,o,i)=>{TE(t,s,o,i),mC(),Nx(),Vx(),kE(),e.warn("Graph at first:",Vt(n)),wE(n),e.warn("Graph after:",Vt(n)),u0(t,n,o)},Q4=e=>h.sanitizeText(e,t()),Y4={dividerMargin:10,padding:5,textHeight:10},Ox=function(n,s,o,i){const a=Object.keys(n);e.info("keys:",a),e.info(n),a.forEach(function(o){const a=n[o];let r="";a.cssClasses.length>0&&(r=r+" "+a.cssClasses.join(" "));const c={labelStyle:""};let u=a.text!==void 0?a.text:a.id,l=0,d="";switch(a.type){case"class":d="class_box";break;default:d="class_box"}s.setNode(a.id,{labelStyle:c.labelStyle,shape:d,labelText:Q4(u),classData:a,rx:l,ry:l,class:r,style:c.style,id:a.id,domId:a.domId,tooltip:i.db.getTooltip(a.id)||"",haveCallback:a.haveCallback,link:a.link,width:a.type==="group"?500:void 0,type:a.type,padding:t().flowchart.padding}),e.info("setNode",{labelStyle:c.labelStyle,shape:d,labelText:u,rx:l,ry:l,class:r,style:c.style,id:a.id,width:a.type==="group"?500:void 0,type:a.type,padding:t().flowchart.padding})})},_x=function(n,s,o,i){e.info(n),n.forEach(function(n,a){const c=n;let f="";const l={labelStyle:"",style:""};let u=c.text,d=0,h="note";if(s.setNode(c.id,{labelStyle:l.labelStyle,shape:h,labelText:Q4(u),noteData:c,rx:d,ry:d,class:f,style:l.style,id:c.id,domId:c.id,tooltip:"",type:"note",padding:t().flowchart.padding}),e.info("setNode",{labelStyle:l.labelStyle,shape:h,labelText:u,rx:d,ry:d,style:l.style,id:c.id,type:"note",padding:t().flowchart.padding}),!c.class||!(c.class in i))return;const m=o+a,r={};r.classes="relation",r.pattern="dotted",r.id=`edgeNote${m}`,r.arrowhead="none",e.info(`Note edge: ${JSON.stringify(r)}, ${JSON.stringify(c)}`),r.startLabelRight="",r.endLabelLeft="",r.arrowTypeStart="none",r.arrowTypeEnd="none";let p="fill:none",g="";r.style=p,r.labelStyle=g,r.curve=He(Y4.curve,je),s.setEdge(c.id,c.class,r,m)})},yx=function(n,s){const i=t().flowchart;let o=0;n.forEach(function(a){o++;const r={};r.classes="relation",r.pattern=a.relation.lineType==1?"dashed":"solid",r.id="id"+o,a.type==="arrow_open"?r.arrowhead="none":r.arrowhead="normal",e.info(r,a),r.startLabelRight=a.relationTitle1==="none"?"":a.relationTitle1,r.endLabelLeft=a.relationTitle2==="none"?"":a.relationTitle2,r.arrowTypeStart=lx(a.relation.type1),r.arrowTypeEnd=lx(a.relation.type2);let c="",l="";if(a.style!==void 0){const e=vn(a.style);c=e.style,l=e.labelStyle}else c="fill:none";r.style=c,r.labelStyle=l,a.interpolate!==void 0?r.curve=He(a.interpolate,je):n.defaultInterpolate!==void 0?r.curve=He(n.defaultInterpolate,je):r.curve=He(i.curve,je),a.text=a.title,a.text===void 0?a.style!==void 0&&(r.arrowheadStyle="fill: #333"):(r.arrowheadStyle="fill: #333",r.labelpos="c",t().flowchart.htmlLabels?(r.labelType="html",r.label='<span class="edgeLabel">'+a.text+"</span>"):(r.labelType="text",r.label=a.text.replace(h.lineBreakRegex,`
`),a.style===void 0&&(r.style=r.style||"stroke: #333; stroke-width: 1.5px;fill:none"),r.labelStyle=r.labelStyle.replace("color:","fill:"))),s.setEdge(a.id1,a.id2,r,o)})},vx=function(e){const t=Object.keys(e);t.forEach(function(t){Y4[t]=e[t]})},gx=function(n,s,o,a){e.info("Drawing class - ",s);const r=t().flowchart,l=t().securityLevel;e.info("config:",r);const g=r.nodeSpacing||50,v=r.rankSpacing||50,c=new D({multigraph:!0,compound:!0}).setGraph({rankdir:a.db.getDirection(),nodesep:g,ranksep:v,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),h=a.db.getClasses(),d=a.db.getRelations(),b=a.db.getNotes();e.info(d),Ox(h,c,s,a),yx(d,c),_x(b,c,d.length+1,h);let u;l==="sandbox"&&(u=i("#i"+s));const m=i(l==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=m.select(`[id="${s}"]`),j=m.select("#"+s+" g");if(Ur(j,c,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",s),p.insertTitle(f,"classTitleText",r.titleTopMargin,a.db.getDiagramTitle()),di(c,f,r.diagramPadding,r.useMaxWidth),!r.htmlLabels){const e=l==="sandbox"?u.nodes()[0].contentDocument:document,t=e.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const s of t){const o=s.getBBox(),n=e.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",o.width),n.setAttribute("height",o.height),s.insertBefore(n,s.firstChild)}}};function lx(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}cx={setConf:vx,draw:gx},Jr=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},O=[1,2],s=[1,5],t=[6,9,11,23,25,27,29,30,31,49],w=[1,17],y=[1,18],v=[1,19],h=[1,20],c=[1,21],i=[1,22],g=[1,25],u=[1,30],l=[1,31],m=[1,32],f=[1,33],p=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],d=[1,45],o=[30,31,46,47],b=[4,6,9,11,23,25,27,29,30,31,49],j=[42,43,44,45],n=[22,37],_=[1,64],r={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 1:break;case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 12:o.addEntity(a[c-4]),o.addEntity(a[c-2]),o.addRelationship(a[c-4],a[c],a[c-2],a[c-3]);break;case 13:o.addEntity(a[c-3]),o.addAttributes(a[c-3],a[c-1]);break;case 14:o.addEntity(a[c-2]);break;case 15:o.addEntity(a[c]);break;case 16:case 17:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 18:case 19:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 20:case 41:this.$=a[c];break;case 21:case 39:case 40:this.$=a[c].replace(/"/g,"");break;case 22:this.$=[a[c]];break;case 23:a[c].push(a[c-1]),this.$=a[c];break;case 24:this.$={attributeType:a[c-1],attributeName:a[c]};break;case 25:this.$={attributeType:a[c-2],attributeName:a[c-1],attributeKeyType:a[c]};break;case 26:this.$={attributeType:a[c-2],attributeName:a[c-1],attributeComment:a[c]};break;case 27:this.$={attributeType:a[c-3],attributeName:a[c-2],attributeKeyType:a[c-1],attributeComment:a[c]};break;case 28:case 29:case 30:this.$=a[c];break;case 31:this.$=a[c].replace(/"/g,"");break;case 32:this.$={cardA:a[c],relType:a[c-1],cardB:a[c-2]};break;case 33:this.$=o.Cardinality.ZERO_OR_ONE;break;case 34:this.$=o.Cardinality.ZERO_OR_MORE;break;case 35:this.$=o.Cardinality.ONE_OR_MORE;break;case 36:this.$=o.Cardinality.ONLY_ONE;break;case 37:this.$=o.Identification.NON_IDENTIFYING;break;case 38:this.$=o.Identification.IDENTIFYING;break;case 42:o.parseDirective("%%{","open_directive");break;case 43:o.parseDirective(a[c],"type_directive");break;case 44:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 45:o.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:O,7:3,12:4,49:s},{1:[3]},e(t,[2,3],{5:6}),{3:7,4:O,7:3,12:4,49:s},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:w,25:y,27:v,29:h,30:c,31:i,49:s},{1:[2,2]},{14:23,15:[1,24],52:g},e([15,52],[2,43]),e(t,[2,8],{1:[2,1]}),e(t,[2,4]),{7:15,10:26,12:4,17:16,23:w,25:y,27:v,29:h,30:c,31:i,49:s},e(t,[2,6]),e(t,[2,7]),e(t,[2,11]),e(t,[2,15],{18:27,40:29,20:[1,28],42:u,43:l,44:m,45:f}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(t,[2,19]),e(p,[2,20]),e(p,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},e(t,[2,5]),{17:40,30:c,31:i},{21:41,22:[1,42],32:43,33:44,37:d},{41:46,46:[1,47],47:[1,48]},e(o,[2,33]),e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),e(t,[2,16]),e(t,[2,17]),e(t,[2,18]),e(b,[2,9]),{14:49,52:g},{52:[2,44]},{15:[1,50]},{22:[1,51]},e(t,[2,14]),{21:52,22:[2,22],32:43,33:44,37:d},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:u,43:l,44:m,45:f},e(j,[2,37]),e(j,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},e(t,[2,13]),{22:[2,23]},e(n,[2,24],{35:61,36:62,38:[1,63],39:_}),e([22,37,38,39],[2,29]),e([30,31],[2,32]),e(b,[2,10]),e(t,[2,12]),e(t,[2,39]),e(t,[2,40]),e(t,[2,41]),e(n,[2,25],{36:65,39:_}),e(n,[2,26]),e([22,37,39],[2,30]),e(n,[2,31]),e(n,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},x=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return n.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return n.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9-_[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return e}();r.lexer=x;function a(){this.yy={}}return a.prototype=r,r.Parser=a,new a}(),Jr.parser=Jr,ax=Jr,ix=e=>e.match(/^\s*erDiagram/)!==null,Gs={},tc=[],ox={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},tx={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},ex=function(e,t,n){_.parseDirective(this,e,t,n)},V4=function(t){return Gs[t]===void 0&&(Gs[t]={attributes:[]},e.info("Added new entity :",t)),Gs[t]},YO=()=>Gs,qO=function(t,n){let o=V4(t),s;for(s=n.length-1;s>=0;s--)o.attributes.push(n[s]),e.debug("Added attribute ",n[s].attributeName)},UO=function(t,n,s,o){let i={entityA:t,roleA:n,entityB:s,relSpec:o};tc.push(i),e.debug("Added new relationship :",i)},WO=()=>tc,$O=function(){Gs={},tc=[],xe()},VO={Cardinality:ox,Identification:tx,parseDirective:ex,getConfig:()=>t().er,addEntity:V4,addAttributes:qO,getEntities:YO,addRelationship:UO,getRelationships:WO,clear:$O,setAccTitle:_e,getAccTitle:Se,setAccDescription:Fe,getAccDescription:Te,setDiagramTitle:xt,getDiagramTitle:wt},ut={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},BO=function(e,t){let n;e.append("defs").append("marker").attr("id",ut.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",ut.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",ut.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",ut.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",ut.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",ut.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=e.append("defs").append("marker").attr("id",ut.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=e.append("defs").append("marker").attr("id",ut.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},Qe={ERMarkers:ut,insertMarkers:BO},IO=/[^\dA-Za-z](\W)*/g,H={},eo=new Map,PO=function(e){const t=Object.keys(e);for(const n of t)H[n]=e[n]},RO=(e,n,s)=>{const i=H.entityPadding/3,o=H.entityPadding/3,p=H.fontSize*.85,c=n.node().getBBox(),v=[];let d=!1,l=!1,u=0,h=0,m=0,f=0,g=c.height+i*2,j=1;s.forEach(e=>{e.attributeKeyType!==void 0&&(d=!0),e.attributeComment!==void 0&&(l=!0)}),s.forEach(s=>{const r=`${n.node().id}-attr-${j}`;let o=0;const w=Kt(s.attributeType),c=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",p+"px").text(w),b=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",p+"px").text(s.attributeName),a={};a.tn=c,a.nn=b;const y=c.node().getBBox(),_=b.node().getBBox();if(u=Math.max(u,y.width),h=Math.max(h,_.width),o=Math.max(y.height,_.height),d){const n=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",p+"px").text(s.attributeKeyType||"");a.kn=n;const i=n.node().getBBox();m=Math.max(m,i.width),o=Math.max(o,i.height)}if(l){const n=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",p+"px").text(s.attributeComment||"");a.cn=n;const i=n.node().getBBox();f=Math.max(f,i.width),o=Math.max(o,i.height)}a.height=o,v.push(a),g+=o+i*2,j+=1});let r=4;d&&(r+=2),l&&(r+=2);const b=u+h+m+f,a={width:Math.max(H.minEntityWidth,Math.max(c.width+H.entityPadding*2,b+o*r)),height:s.length>0?g:Math.max(H.minEntityHeight,c.height+H.entityPadding*2)};if(s.length>0){const p=Math.max(0,(a.width-b-o*r)/(r/2));n.attr("transform","translate("+a.width/2+","+(i+c.height/2)+")");let t=c.height+i*2,s="attributeBoxOdd";v.forEach(n=>{const r=t+i+n.height/2;n.tn.attr("transform","translate("+o+","+r+")");const c=e.insert("rect","#"+n.tn.node().id).classed(`er ${s}`,!0).attr("x",0).attr("y",t).attr("width",u+o*2+p).attr("height",n.height+i*2),g=parseFloat(c.attr("x"))+parseFloat(c.attr("width"));n.nn.attr("transform","translate("+(g+o)+","+r+")");const v=e.insert("rect","#"+n.nn.node().id).classed(`er ${s}`,!0).attr("x",g).attr("y",t).attr("width",h+o*2+p).attr("height",n.height+i*2);let a=parseFloat(v.attr("x"))+parseFloat(v.attr("width"));if(d){n.kn.attr("transform","translate("+(a+o)+","+r+")");const c=e.insert("rect","#"+n.kn.node().id).classed(`er ${s}`,!0).attr("x",a).attr("y",t).attr("width",m+o*2+p).attr("height",n.height+i*2);a=parseFloat(c.attr("x"))+parseFloat(c.attr("width"))}l&&(n.cn.attr("transform","translate("+(a+o)+","+r+")"),e.insert("rect","#"+n.cn.node().id).classed(`er ${s}`,"true").attr("x",a).attr("y",t).attr("width",f+o*2+p).attr("height",n.height+i*2)),t+=n.height+i*2,s=s==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else a.height=Math.max(H.minEntityHeight,g),n.attr("transform","translate("+a.width/2+","+a.height/2+")");return a},LO=function(e,n,s){const i=Object.keys(n);let o;return i.forEach(function(i){const a=AT(i,"entity");eo.set(i,a);const r=e.append("g").attr("id",a);o=o===void 0?a:o;const c="text-"+a,d=r.append("text").classed("er entityLabel",!0).attr("id",c).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",t().fontFamily).style("font-size",H.fontSize+"px").text(i),{width:u,height:h}=RO(r,d,n[i].attributes),m=r.insert("rect","#"+c).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",u).attr("height",h),l=m.node().getBBox();s.setNode(a,{width:l.width,height:l.height,shape:"rect",id:a})}),o},NO=function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )")})},I4=function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},DO=function(e,t){return e.forEach(function(e){t.setEdge(eo.get(e.entityA),eo.get(e.entityB),{relationship:e},I4(e))}),e},L4=0,FO=function(e,n,s,o,i){L4++;const u=s.edge(eo.get(n.entityA),eo.get(n.entityB),I4(n)),h=Oo().x(function(e){return e.x}).y(function(e){return e.y}).curve(ps),r=e.insert("path","#"+o).classed("er relationshipLine",!0).attr("d",h(u.points)).style("stroke",H.stroke).style("fill","none");n.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&r.attr("stroke-dasharray","8,8");let a="";switch(H.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),n.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:r.attr("marker-end","url("+a+"#"+Qe.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:r.attr("marker-end","url("+a+"#"+Qe.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:r.attr("marker-end","url("+a+"#"+Qe.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:r.attr("marker-end","url("+a+"#"+Qe.ERMarkers.ONLY_ONE_END+")");break}switch(n.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:r.attr("marker-start","url("+a+"#"+Qe.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:r.attr("marker-start","url("+a+"#"+Qe.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:r.attr("marker-start","url("+a+"#"+Qe.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:r.attr("marker-start","url("+a+"#"+Qe.ERMarkers.ONLY_ONE_START+")");break}const m=r.node().getTotalLength(),c=r.node().getPointAtLength(m*.5),d="rel"+L4,f=e.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",c.x).attr("y",c.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",t().fontFamily).style("font-size",H.fontSize+"px").text(n.roleA),l=f.node().getBBox();e.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",c.x-l.width/2).attr("y",c.y-l.height/2).attr("width",l.width).attr("height",l.height)},MO=function(n,s,o,a){H=t().er,e.info("Drawing ER diagram");const u=t().securityLevel;let h;u==="sandbox"&&(h=i("#i"+s));const g=i(u==="sandbox"?h.nodes()[0].contentDocument.body:"body"),r=g.select(`[id='${s}']`);Qe.insertMarkers(r,H);let c;c=new D({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:H.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const v=LO(r,a.db.getEntities(),c),b=DO(a.db.getRelationships(),c);Co(c),NO(r,c),b.forEach(function(e){FO(r,e,c,v,a)});const l=H.diagramPadding;p.insertTitle(r,"entityTitleText",H.titleTopMargin,a.db.getDiagramTitle());const d=r.node().getBBox(),m=d.width+l*2,f=d.height+l*2;Me(r,f,m,H.useMaxWidth),r.attr("viewBox",`${d.x-l} ${d.y-l} ${m} ${f}`)};function AT(e="",t=""){const n=e.replace(IO,"");return`${SO(t)}${SO(n)}${Dj()}`}function SO(e=""){return e.length>0?`${e}-`:""}kO={setConf:PO,draw:MO},rc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},tt=[1,9],Me=[1,7],Be=[1,6],Ve=[1,8],je=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],$e=[2,10],We=[1,20],Ie=[1,21],He=[1,22],Pe=[1,23],xe=[1,30],Le=[1,32],Ne=[1,33],De=[1,34],re=[1,62],de=[1,48],ne=[1,52],ze=[1,36],Te=[1,37],Fe=[1,38],Se=[1,39],Ae=[1,40],fe=[1,56],ve=[1,63],se=[1,51],le=[1,53],pe=[1,55],ie=[1,59],ae=[1,60],Re=[1,41],Oe=[1,42],Ce=[1,43],Ee=[1,44],ge=[1,61],he=[1,50],ue=[1,54],ce=[1,57],me=[1,58],oe=[1,49],et=[1,66],we=[1,71],D=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],K=[1,75],W=[1,74],U=[1,76],ke=[20,21,23,81,82],P=[1,99],a=[1,104],c=[1,107],m=[1,108],I=[1,101],h=[1,106],u=[1,109],H=[1,102],d=[1,114],l=[1,113],n=[1,103],r=[1,105],t=[1,110],i=[1,111],o=[1,112],s=[1,115],Ye=[20,21,22,23,81,82],R=[20,21,22,23,53,81,82],L=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],z=[20,21,23],Xe=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ge=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],_e=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],E=[1,149],k=[1,157],T=[1,158],F=[1,159],M=[1,160],S=[1,144],A=[1,145],N=[1,141],g=[1,152],C=[1,153],x=[1,154],O=[1,155],w=[1,156],_=[1,161],p=[1,162],y=[1,147],j=[1,150],b=[1,146],v=[1,143],Ue=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ze=[1,165],ye=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],f=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],nt=[12,21,22,24],Qe=[22,106],q=[1,250],Y=[1,245],Q=[1,246],ee=[1,254],$=[1,251],V=[1,248],te=[1,247],J=[1,249],Z=[1,252],X=[1,253],G=[1,255],be=[1,273],Je=[20,21,23,106],B=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],qe={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,n,s,o,i,a){var l,c=a.length-1;switch(i){case 5:o.parseDirective("%%{","open_directive");break;case 6:o.parseDirective(a[c],"type_directive");break;case 7:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 8:o.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(a[c])||a[c].length>0)&&a[c-1].push(a[c]),this.$=a[c-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=a[c];break;case 19:o.setDirection("TB"),this.$="TB";break;case 20:o.setDirection(a[c-1]),this.$=a[c-1];break;case 35:this.$=a[c-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=o.addSubGraph(a[c-6],a[c-1],a[c-4]);break;case 42:this.$=o.addSubGraph(a[c-3],a[c-1],a[c-3]);break;case 43:this.$=o.addSubGraph(void 0,a[c-1],void 0);break;case 45:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 46:case 47:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 51:o.addLink(a[c-2].stmt,a[c],a[c-1]),this.$={stmt:a[c],nodes:a[c].concat(a[c-2].nodes)};break;case 52:o.addLink(a[c-3].stmt,a[c-1],a[c-2]),this.$={stmt:a[c-1],nodes:a[c-1].concat(a[c-3].nodes)};break;case 53:this.$={stmt:a[c-1],nodes:a[c-1]};break;case 54:this.$={stmt:a[c],nodes:a[c]};break;case 55:this.$=[a[c]];break;case 56:this.$=a[c-4].concat(a[c]);break;case 57:this.$=[a[c-2]],o.setClass(a[c-2],a[c]);break;case 58:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"square");break;case 59:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"doublecircle");break;case 60:this.$=a[c-5],o.addVertex(a[c-5],a[c-2],"circle");break;case 61:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"ellipse");break;case 62:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"stadium");break;case 63:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"subroutine");break;case 64:this.$=a[c-7],o.addVertex(a[c-7],a[c-1],"rect",void 0,void 0,void 0,Object.fromEntries([[a[c-5],a[c-3]]]));break;case 65:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"cylinder");break;case 66:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"round");break;case 67:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"diamond");break;case 68:this.$=a[c-5],o.addVertex(a[c-5],a[c-2],"hexagon");break;case 69:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"odd");break;case 70:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"trapezoid");break;case 71:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"inv_trapezoid");break;case 72:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"lean_right");break;case 73:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"lean_left");break;case 74:this.$=a[c],o.addVertex(a[c]);break;case 75:a[c-1].text=a[c],this.$=a[c-1];break;case 76:case 77:a[c-2].text=a[c-1],this.$=a[c-2];break;case 78:this.$=a[c];break;case 79:l=o.destructLink(a[c],a[c-2]),this.$={type:l.type,stroke:l.stroke,length:l.length,text:a[c-1]};break;case 80:l=o.destructLink(a[c]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 81:this.$=a[c-1];break;case 83:case 97:case 153:this.$=a[c-1]+""+a[c];break;case 98:case 99:this.$=a[c-4],o.addClass(a[c-2],a[c]);break;case 100:this.$=a[c-4],o.setClass(a[c-2],a[c]);break;case 101:case 109:this.$=a[c-1],o.setClickEvent(a[c-1],a[c]);break;case 102:case 110:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-2]),o.setTooltip(a[c-3],a[c]);break;case 103:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 104:this.$=a[c-4],o.setClickEvent(a[c-4],a[c-3],a[c-2]),o.setTooltip(a[c-4],a[c]);break;case 105:case 111:this.$=a[c-1],o.setLink(a[c-1],a[c]);break;case 106:case 112:this.$=a[c-3],o.setLink(a[c-3],a[c-2]),o.setTooltip(a[c-3],a[c]);break;case 107:case 113:this.$=a[c-3],o.setLink(a[c-3],a[c-2],a[c]);break;case 108:case 114:this.$=a[c-5],o.setLink(a[c-5],a[c-4],a[c]),o.setTooltip(a[c-5],a[c-2]);break;case 115:this.$=a[c-4],o.addVertex(a[c-2],void 0,void 0,a[c]);break;case 116:case 118:this.$=a[c-4],o.updateLink(a[c-2],a[c]);break;case 117:this.$=a[c-4],o.updateLink([a[c-2]],a[c]);break;case 119:this.$=a[c-8],o.updateLinkInterpolate([a[c-6]],a[c-2]),o.updateLink([a[c-6]],a[c]);break;case 120:this.$=a[c-8],o.updateLinkInterpolate(a[c-6],a[c-2]),o.updateLink(a[c-6],a[c]);break;case 121:this.$=a[c-6],o.updateLinkInterpolate([a[c-4]],a[c]);break;case 122:this.$=a[c-6],o.updateLinkInterpolate(a[c-4],a[c]);break;case 123:case 125:this.$=[a[c]];break;case 124:case 126:a[c-2].push(a[c]),this.$=a[c-2];break;case 128:this.$=a[c-1]+a[c];break;case 150:this.$=a[c];break;case 151:this.$=a[c-1]+""+a[c];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:tt,16:4,21:Me,22:Be,24:Ve},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:tt,16:4,21:Me,22:Be,24:Ve},e(je,$e,{17:11}),{7:12,13:[1,13]},{16:14,21:Me,22:Be,24:Ve},{16:15,21:Me,22:Be,24:Ve},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:We,21:Ie,22:He,23:Pe,32:24,33:25,34:26,35:27,36:28,37:29,38:xe,43:31,44:Le,46:Ne,48:De,50:35,51:45,52:re,54:46,66:de,67:ne,86:ze,87:Te,88:Fe,89:Se,90:Ae,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,118:Re,119:Oe,120:Ce,121:Ee,122:ge,123:he,124:ue,125:ce,126:me,127:oe},{8:64,10:[1,65],15:et},e([10,15],[2,6]),e(je,[2,17]),e(je,[2,18]),e(je,[2,19]),{20:[1,68],21:[1,69],22:we,27:67,30:70},e(D,[2,11]),e(D,[2,12]),e(D,[2,13]),e(D,[2,14]),e(D,[2,15]),e(D,[2,16]),{9:72,20:K,21:W,23:U,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:K,21:W,23:U},{9:81,20:K,21:W,23:U},{9:82,20:K,21:W,23:U},{9:83,20:K,21:W,23:U},{9:84,20:K,21:W,23:U},{9:86,20:K,21:W,22:[1,85],23:U},e(D,[2,44]),{45:[1,87]},{47:[1,88]},e(D,[2,47]),e(ke,[2,54],{30:89,22:we}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:P,52:a,66:c,67:m,84:[1,97],91:I,97:96,98:[1,94],100:[1,95],105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},e(D,[2,158]),e(D,[2,159]),e(D,[2,160]),e(D,[2,161]),e(Ye,[2,55],{53:[1,116]}),e(R,[2,74],{116:129,40:[1,117],52:re,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:de,67:ne,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,122:ge,123:he,124:ue,125:ce,126:me,127:oe}),e(L,[2,150]),e(L,[2,175]),e(L,[2,176]),e(L,[2,177]),e(L,[2,178]),e(L,[2,179]),e(L,[2,180]),e(L,[2,181]),e(L,[2,182]),e(L,[2,183]),e(L,[2,184]),e(L,[2,185]),e(L,[2,186]),e(L,[2,187]),e(L,[2,188]),e(L,[2,189]),e(L,[2,190]),{9:130,20:K,21:W,23:U},{11:131,14:[1,132]},e(z,[2,8]),e(je,[2,20]),e(je,[2,26]),e(je,[2,27]),{21:[1,133]},e(Xe,[2,34],{30:134,22:we}),e(D,[2,35]),{50:135,51:45,52:re,54:46,66:de,67:ne,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,122:ge,123:he,124:ue,125:ce,126:me,127:oe},e(Ge,[2,48]),e(Ge,[2,49]),e(Ge,[2,50]),e(_e,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:E,24:k,26:T,38:F,39:139,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(D,[2,36]),e(D,[2,37]),e(D,[2,38]),e(D,[2,39]),e(D,[2,40]),{22:E,24:k,26:T,38:F,39:163,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(Ue,$e,{17:164}),e(D,[2,45]),e(D,[2,46]),e(ke,[2,53],{52:Ze}),{26:P,52:a,66:c,67:m,91:I,97:166,102:[1,167],105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},{95:[1,168],103:169,105:[1,170]},{26:P,52:a,66:c,67:m,91:I,95:[1,171],97:172,105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},{26:P,52:a,66:c,67:m,91:I,97:173,105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},e(z,[2,101],{22:[1,174],99:[1,175]}),e(z,[2,105],{22:[1,176]}),e(z,[2,109],{115:100,117:178,22:[1,177],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,122:n,123:r,124:t,125:i,126:o,127:s}),e(z,[2,111],{22:[1,179]}),e(ye,[2,152]),e(ye,[2,154]),e(ye,[2,155]),e(ye,[2,156]),e(ye,[2,157]),e(f,[2,162]),e(f,[2,163]),e(f,[2,164]),e(f,[2,165]),e(f,[2,166]),e(f,[2,167]),e(f,[2,168]),e(f,[2,169]),e(f,[2,170]),e(f,[2,171]),e(f,[2,172]),e(f,[2,173]),e(f,[2,174]),{52:re,54:180,66:de,67:ne,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,122:ge,123:he,124:ue,125:ce,126:me,127:oe},{22:E,24:k,26:T,38:F,39:181,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:182,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:184,42:M,52:a,57:[1,183],66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:185,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:186,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:187,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{66:[1,188]},{22:E,24:k,26:T,38:F,39:189,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:190,42:M,52:a,66:c,67:m,71:[1,191],73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:192,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:193,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:194,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(L,[2,151]),e(nt,[2,3]),{8:195,15:et},{15:[2,7]},e(je,[2,28]),e(Xe,[2,33]),e(ke,[2,51],{30:196,22:we}),e(_e,[2,75],{22:[1,197]}),{22:[1,198]},{22:E,24:k,26:T,38:F,39:199,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,73:S,81:A,82:[1,200],83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(f,[2,82]),e(f,[2,84]),e(f,[2,140]),e(f,[2,141]),e(f,[2,142]),e(f,[2,143]),e(f,[2,144]),e(f,[2,145]),e(f,[2,146]),e(f,[2,147]),e(f,[2,148]),e(f,[2,149]),e(f,[2,85]),e(f,[2,86]),e(f,[2,87]),e(f,[2,88]),e(f,[2,89]),e(f,[2,90]),e(f,[2,91]),e(f,[2,92]),e(f,[2,93]),e(f,[2,94]),e(f,[2,95]),{9:203,20:K,21:W,22:E,23:U,24:k,26:T,38:F,40:[1,202],42:M,52:a,66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{18:18,19:19,20:We,21:Ie,22:He,23:Pe,32:24,33:25,34:26,35:27,36:28,37:29,38:xe,42:[1,204],43:31,44:Le,46:Ne,48:De,50:35,51:45,52:re,54:46,66:de,67:ne,86:ze,87:Te,88:Fe,89:Se,90:Ae,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,118:Re,119:Oe,120:Ce,121:Ee,122:ge,123:he,124:ue,125:ce,126:me,127:oe},{22:we,30:205},{22:[1,206],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,115:100,117:178,122:n,123:r,124:t,125:i,126:o,127:s},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(Qe,[2,123]),{22:[1,211]},{22:[1,212],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,115:100,117:178,122:n,123:r,124:t,125:i,126:o,127:s},{22:[1,213],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,115:100,117:178,122:n,123:r,124:t,125:i,126:o,127:s},{84:[1,214]},e(z,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(ye,[2,153]),{84:[1,219],101:[1,220]},e(Ye,[2,57],{116:129,52:re,66:de,67:ne,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,122:ge,123:he,124:ue,125:ce,126:me,127:oe}),{22:E,24:k,26:T,38:F,41:[1,221],42:M,52:a,66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,56:[1,222],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:223,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,58:[1,224],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,60:[1,225],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,62:[1,226],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,64:[1,227],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{67:[1,228]},{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,70:[1,229],73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,72:[1,230],73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,39:231,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,41:[1,232],42:M,52:a,66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,73:S,75:[1,233],77:[1,234],81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,73:S,75:[1,236],77:[1,235],81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{9:237,20:K,21:W,23:U},e(ke,[2,52],{52:Ze}),e(_e,[2,77]),e(_e,[2,76]),{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,68:[1,238],73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(_e,[2,79]),e(f,[2,83]),{22:E,24:k,26:T,38:F,39:239,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(Ue,$e,{17:240}),e(D,[2,43]),{51:241,52:re,54:46,66:de,67:ne,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,122:ge,123:he,124:ue,125:ce,126:me,127:oe},{22:q,66:Y,67:Q,86:ee,96:242,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{22:q,66:Y,67:Q,86:ee,96:256,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{22:q,66:Y,67:Q,86:ee,96:257,102:$,104:[1,258],105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{22:q,66:Y,67:Q,86:ee,96:259,102:$,104:[1,260],105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{105:[1,261]},{22:q,66:Y,67:Q,86:ee,96:262,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{22:q,66:Y,67:Q,86:ee,96:263,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{26:P,52:a,66:c,67:m,91:I,97:264,105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},e(z,[2,102]),{84:[1,265]},e(z,[2,106],{22:[1,266]}),e(z,[2,107]),e(z,[2,110]),e(z,[2,112],{22:[1,267]}),e(z,[2,113]),e(R,[2,58]),e(R,[2,59]),{22:E,24:k,26:T,38:F,42:M,52:a,58:[1,268],66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(R,[2,66]),e(R,[2,61]),e(R,[2,62]),e(R,[2,63]),{66:[1,269]},e(R,[2,65]),e(R,[2,67]),{22:E,24:k,26:T,38:F,42:M,52:a,66:c,67:m,72:[1,270],73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(R,[2,69]),e(R,[2,70]),e(R,[2,72]),e(R,[2,71]),e(R,[2,73]),e(nt,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:E,24:k,26:T,38:F,41:[1,271],42:M,52:a,66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{18:18,19:19,20:We,21:Ie,22:He,23:Pe,32:24,33:25,34:26,35:27,36:28,37:29,38:xe,42:[1,272],43:31,44:Le,46:Ne,48:De,50:35,51:45,52:re,54:46,66:de,67:ne,86:ze,87:Te,88:Fe,89:Se,90:Ae,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,118:Re,119:Oe,120:Ce,121:Ee,122:ge,123:he,124:ue,125:ce,126:me,127:oe},e(Ye,[2,56]),e(z,[2,115],{106:be}),e(Je,[2,125],{108:274,22:q,66:Y,67:Q,86:ee,102:$,105:V,109:te,110:J,111:Z,112:X,113:G}),e(B,[2,127]),e(B,[2,129]),e(B,[2,130]),e(B,[2,131]),e(B,[2,132]),e(B,[2,133]),e(B,[2,134]),e(B,[2,135]),e(B,[2,136]),e(B,[2,137]),e(B,[2,138]),e(B,[2,139]),e(z,[2,116],{106:be}),e(z,[2,117],{106:be}),{22:[1,275]},e(z,[2,118],{106:be}),{22:[1,276]},e(Qe,[2,124]),e(z,[2,98],{106:be}),e(z,[2,99],{106:be}),e(z,[2,100],{115:100,117:178,26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,122:n,123:r,124:t,125:i,126:o,127:s}),e(z,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:K,21:W,23:U},e(D,[2,42]),{22:q,66:Y,67:Q,86:ee,102:$,105:V,107:283,108:244,109:te,110:J,111:Z,112:X,113:G},e(B,[2,128]),{26:P,52:a,66:c,67:m,91:I,97:284,105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},{26:P,52:a,66:c,67:m,91:I,97:285,105:h,106:u,109:H,111:d,112:l,115:100,117:98,122:n,123:r,124:t,125:i,126:o,127:s},e(z,[2,108]),e(z,[2,114]),e(R,[2,60]),{22:E,24:k,26:T,38:F,39:286,42:M,52:a,66:c,67:m,73:S,81:A,83:140,84:N,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},e(R,[2,68]),e(Ue,$e,{17:287}),e(Je,[2,126],{108:274,22:q,66:Y,67:Q,86:ee,102:$,105:V,109:te,110:J,111:Z,112:X,113:G}),e(z,[2,121],{115:100,117:178,22:[1,288],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,122:n,123:r,124:t,125:i,126:o,127:s}),e(z,[2,122],{115:100,117:178,22:[1,289],26:P,52:a,66:c,67:m,91:I,105:h,106:u,109:H,111:d,112:l,122:n,123:r,124:t,125:i,126:o,127:s}),{22:E,24:k,26:T,38:F,41:[1,290],42:M,52:a,66:c,67:m,73:S,81:A,83:201,85:151,86:g,87:C,88:x,89:O,90:w,91:_,92:p,94:142,95:y,105:h,106:u,109:j,111:d,112:l,113:b,114:v,115:148,122:n,123:r,124:t,125:i,126:o,127:s},{18:18,19:19,20:We,21:Ie,22:He,23:Pe,32:24,33:25,34:26,35:27,36:28,37:29,38:xe,42:[1,291],43:31,44:Le,46:Ne,48:De,50:35,51:45,52:re,54:46,66:de,67:ne,86:ze,87:Te,88:Fe,89:Se,90:Ae,91:fe,95:ve,105:se,106:le,109:pe,111:ie,112:ae,116:47,118:Re,119:Oe,120:Ce,121:Ee,122:ge,123:he,124:ue,125:ce,126:me,127:oe},{22:q,66:Y,67:Q,86:ee,96:292,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},{22:q,66:Y,67:Q,86:ee,96:293,102:$,105:V,107:243,108:244,109:te,110:J,111:Z,112:X,113:G},e(R,[2,64]),e(D,[2,41]),e(z,[2,119],{106:be}),e(z,[2,120],{106:be})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},st=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return t.lex.firstGraph()&&this.begin("dir"),24;case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return e}();qe.lexer=st;function Ke(){this.yy={}}return Ke.prototype=qe,qe.Parser=Ke,new Ke}(),rc.parser=rc,F4=rc,EO=(e,t)=>{var n;return((n=t?.flowchart)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*graph/)!==null},wO=(e,t)=>{var n;return((n=t?.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"&&e.match(/^\s*graph/)!==null||e.match(/^\s*flowchart/)!==null},_O="flowchart-",M4=0,dc=t(),w={},dn=[],Rn={},jt=[],yi={},uc={},bi=0,hc=!0,fi=[],mi=e=>h.sanitizeText(e,dc),gO=function(e,t,n){_.parseDirective(this,e,t,n)},hi=function(e){const t=Object.keys(w);for(const n of t)if(w[n].id===e)return w[n].domId;return e},pO=function(e,n,s,o,i,a,r={}){let l,c=e;if(c===void 0)return;if(c.trim().length===0)return;w[c]===void 0&&(w[c]={id:c,domId:_O+c+"-"+M4,styles:[],classes:[]}),M4++,n!==void 0?(dc=t(),l=mi(n.trim()),l[0]==='"'&&l[l.length-1]==='"'&&(l=l.substring(1,l.length-1)),w[c].text=l):w[c].text===void 0&&(w[c].text=e),s!==void 0&&(w[c].type=s),o!=null&&o.forEach(function(e){w[c].styles.push(e)}),i!=null&&i.forEach(function(e){w[c].classes.push(e)}),a!==void 0&&(w[c].dir=a),w[c].props===void 0?w[c].props=r:r!==void 0&&Object.assign(w[c].props,r)},fO=function(e,t,n,s){let i=e,a=t;const o={start:i,end:a,type:void 0,text:""};s=n.text,s!==void 0&&(o.text=mi(s.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length),dn.push(o)},hO=function(e,t,n,s){let o,i;for(o=0;o<e.length;o++)for(i=0;i<t.length;i++)fO(e[o],t[i],n,s)},tO=function(e,t){e.forEach(function(e){e==="default"?dn.defaultInterpolate=t:dn[e].interpolate=t})},eO=function(e,t){e.forEach(function(e){e==="default"?dn.defaultStyle=t:(p.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),dn[e].style=t)})},Qw=function(e,t){Rn[e]===void 0&&(Rn[e]={id:e,styles:[],textStyles:[]}),t!=null&&t.forEach(function(t){if(t.match("color")){const n=t.replace("fill","bgFill"),s=n.replace("color","fill");Rn[e].textStyles.push(s)}Rn[e].styles.push(t)})},Xw=function(e){vt=e,vt.match(/.*</)&&(vt="RL"),vt.match(/.*\^/)&&(vt="BT"),vt.match(/.*>/)&&(vt="LR"),vt.match(/.*v/)&&(vt="TB")},pc=function(e,t){e.split(",").forEach(function(e){let n=e;w[n]!==void 0&&w[n].classes.push(t),yi[n]!==void 0&&yi[n].classes.push(t)})},qw=function(e,t){e.split(",").forEach(function(e){t!==void 0&&(uc[fc==="gen-1"?hi(e):e]=mi(t))})},Kw=function(e,n,s){let i=hi(e);if(t().securityLevel!=="loose")return;if(n===void 0)return;let o=[];if(typeof s=="string"){o=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<o.length;t++){let e=o[t].trim();e.charAt(0)==='"'&&e.charAt(e.length-1)==='"'&&(e=e.substr(1,e.length-2)),o[t]=e}}o.length===0&&o.push(e),w[e]!==void 0&&(w[e].haveCallback=!0,fi.push(function(){const e=document.querySelector(`[id="${i}"]`);e!==null&&e.addEventListener("click",function(){p.runFunc(n,...o)},!1)}))},$w=function(e,t,n){e.split(",").forEach(function(e){w[e]!==void 0&&(w[e].link=p.formatUrl(t,dc),w[e].linkTarget=n)}),pc(e,"clickable")},Vw=function(e){return uc[e]},Hw=function(e,t,n){e.split(",").forEach(function(e){Kw(e,t,n)}),pc(e,"clickable")},Pw=function(e){fi.forEach(function(t){t(e)})},Dw=function(){return vt.trim()},zw=function(){return w},Tw=function(){return dn},Fw=function(){return Rn},x4=function(e){let t=i(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=i("body").append("div").attr("class","mermaidTooltip").style("opacity",0));const n=i(e).select("svg"),s=n.selectAll("g.node");s.on("mouseover",function(){const n=i(this),s=n.attr("title");if(s===null)return;const e=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(n.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0);const e=i(this);e.classed("hover",!1)})},fi.push(x4),Mw=function(e="gen-1"){w={},Rn={},dn=[],fi=[x4],jt=[],yi={},bi=0,uc=[],hc=!0,fc=e,xe()},Aw=e=>{fc=e||"gen-1"},Ew=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},Cw=function(t,n,s){let a=t.trim(),r=s;t===s&&s.match(/\s/)&&(a=void 0);function c(e){const t={boolean:{},number:{},string:{}},n=[];let s;const o=e.filter(function(e){const o=typeof e;return e.stmt&&e.stmt==="dir"?(s=e.value,!1):e.trim()!==""&&(o in t?!t[o].hasOwnProperty(e)&&(t[o][e]=!0):!n.includes(e)&&n.push(e))});return{nodeList:o,dir:s}}let o=[];const{nodeList:l,dir:d}=c(o.concat.apply(o,n));if(o=l,fc==="gen-1")for(let e=0;e<o.length;e++)o[e]=hi(o[e]);a=a||"subGraph"+bi,r=r||"",r=mi(r),bi=bi+1;const i={id:a,nodes:o,title:r.trim(),classes:[],dir:d};return e.info("Adding",i.id,i.nodes,i.dir),i.nodes=m4(i,jt).nodes,jt.push(i),yi[a]=i,a},xw=function(e){for(const[t,n]of jt.entries())if(n.id===e)return t;return-1},vo=-1,w4=[],b4=function(e,t){const o=jt[t].nodes;if(vo=vo+1,vo>2e3)return;if(w4[vo]=t,jt[t].id===e)return{result:!0,count:0};let n=0,s=1;for(;n<o.length;){const t=xw(o[n]);if(t>=0){const n=b4(e,t);if(n.result)return{result:!0,count:s+n.count};s=s+n.count}n=n+1}return{result:!1,count:s}},Ow=function(e){return w4[e]},bw=function(){vo=-1,jt.length>0&&b4("none",jt.length-1)},vw=function(){return jt},pw=()=>!!hc&&(hc=!1,!0),fw=e=>{let t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1);break}let s="normal";return t.includes("=")&&(s="thick"),t.includes(".")&&(s="dotted"),{type:n,stroke:s}},uw=(e,t)=>{const s=t.length;let n=0;for(let o=0;o<s;++o)t[o]===e&&++n;return n},dw=e=>{const s=e.trim();let n=s.slice(0,-1),t="arrow_open";switch(s.slice(-1)){case"x":t="arrow_cross",s[0]==="x"&&(t="double_"+t,n=n.slice(1));break;case">":t="arrow_point",s[0]==="<"&&(t="double_"+t,n=n.slice(1));break;case"o":t="arrow_circle",s[0]==="o"&&(t="double_"+t,n=n.slice(1));break}let o="normal",i=n.length-1;n[0]==="="&&(o="thick");let a=uw(".",n);return a&&(o="dotted",i=a),{type:t,stroke:o,length:i}},lw=(e,t)=>{const s=dw(e);let n;if(t){if(n=fw(t),n.stroke!==s.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=s.type;else{if(n.type!==s.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=s.length,n}return s},g4=(e,t)=>{let n=!1;return e.forEach(e=>{const s=e.nodes.indexOf(t);s>=0&&(n=!0)}),n},m4=(e,t)=>{const n=[];return e.nodes.forEach((s,o)=>{g4(t,s)||n.push(e.nodes[o])}),{nodes:n}},dt={parseDirective:gO,defaultConfig:()=>bn.flowchart,setAccTitle:_e,getAccTitle:Se,getAccDescription:Te,setAccDescription:Fe,addVertex:pO,lookUpDomId:hi,addLink:hO,updateLinkInterpolate:tO,updateLink:eO,addClass:Qw,setDirection:Xw,setClass:pc,setTooltip:qw,getTooltip:Vw,setClickEvent:Hw,setLink:$w,bindFunctions:Pw,getDirection:Dw,getVertices:zw,getEdges:Tw,getClasses:Fw,clear:Mw,setGen:Aw,defaultStyle:Ew,addSubGraph:Cw,getDepthFirstPos:Ow,indexNodes:bw,getSubGraphs:vw,destructLink:lw,lex:{firstGraph:pw},exists:g4,makeUniq:m4,setDiagramTitle:xt,getDiagramTitle:wt};function cw(e,t,n){const i=t.width,a=t.height,s=(i+a)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],r=$t(e,s,s,o);return n.intersect=function(e){return Ot(n,o,e)},r}function rw(e,t,n){const r=4,s=t.height,o=s/r,i=t.width+2*o,a=[{x:o,y:0},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],c=$t(e,i,s,a);return n.intersect=function(e){return Ot(n,a,e)},c}function aw(e,t,n){const o=t.width,s=t.height,i=[{x:-s/2,y:0},{x:o,y:0},{x:o,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function ow(e,t,n){const o=t.width,s=t.height,i=[{x:-2*s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:s/6,y:-s}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function sw(e,t,n){const o=t.width,s=t.height,i=[{x:2*s/6,y:0},{x:o+s/6,y:0},{x:o-2*s/6,y:-s},{x:-s/6,y:-s}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function nw(e,t,n){const o=t.width,s=t.height,i=[{x:-2*s/6,y:0},{x:o+2*s/6,y:0},{x:o-s/6,y:-s},{x:s/6,y:-s}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function ew(e,t,n){const o=t.width,s=t.height,i=[{x:s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:-2*s/6,y:-s}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function J_(e,t,n){const o=t.width,s=t.height,i=[{x:0,y:0},{x:o+s/2,y:0},{x:o,y:-s/2},{x:o+s/2,y:-s},{x:0,y:-s}],a=$t(e,o,s,i);return n.intersect=function(e){return Ot(n,i,e)},a}function Z_(e,t,n){const s=t.height,o=t.width+s/4,i=e.insert("rect",":first-child").attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return n.intersect=function(e){return d1(n,e)},i}function Q_(e,t,n){const s=t.width,o=t.height,i=[{x:0,y:0},{x:s,y:0},{x:s,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],a=$t(e,s,o,i);return n.intersect=function(e){return Ot(n,i,e)},a}function U_(e,t,n){const i=t.width,o=i/2,s=o/(2.5+i/50),a=t.height+s,r="M 0,"+s+" a "+o+","+s+" 0,0,0 "+i+" 0 a "+o+","+s+" 0,0,0 "+-i+" 0 l 0,"+a+" a "+o+","+s+" 0,0,0 "+i+" 0 l 0,"+-a,c=e.attr("label-offset-y",s).insert("path",":first-child").attr("d",r).attr("transform","translate("+-i/2+","+-(a/2+s)+")");return n.intersect=function(e){const t=d1(n,e),i=t.x-n.x;if(o!=0&&(Math.abs(i)<n.width/2||Math.abs(i)==n.width/2&&Math.abs(t.y-n.y)>n.height/2-s)){let a=s*s*(1-i*i/(o*o));a!=0&&(a=Math.sqrt(a)),a=s-a,e.y-n.y>0&&(a=-a),t.y+=a}return t},c}function qz(e){e.shapes().question=cw,e.shapes().hexagon=rw,e.shapes().stadium=Z_,e.shapes().subroutine=Q_,e.shapes().cylinder=U_,e.shapes().rect_left_inv_arrow=aw,e.shapes().lean_right=ow,e.shapes().lean_left=sw,e.shapes().trapezoid=nw,e.shapes().inv_trapezoid=ew,e.shapes().rect_right_inv_arrow=J_}function Yz(e){e({question:cw}),e({hexagon:rw}),e({stadium:Z_}),e({subroutine:Q_}),e({cylinder:U_}),e({rect_left_inv_arrow:aw}),e({lean_right:ow}),e({lean_left:sw}),e({trapezoid:nw}),e({inv_trapezoid:ew}),e({rect_right_inv_arrow:J_})}function $t(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("transform","translate("+-t/2+","+n/2+")")}V_={addToRender:qz,addToRenderV2:Yz},a4={},B_=function(e){const t=Object.keys(e);for(const n of t)a4[n]=e[n]},K1=function(n,s,o,a,r,c){const d=a?a.select(`[id="${o}"]`):i(`[id="${o}"]`),l=r||document,u=Object.keys(n);u.forEach(function(o){const a=n[o];let f="default";a.classes.length>0&&(f=a.classes.join(" "));const u=vn(a.styles);let p=a.text!==void 0?a.text:a.id,r;if($(t().flowchart.htmlLabels)){const e={label:p.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)};r=b1(d,e).node(),r.parentNode.removeChild(r)}else{const e=l.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",u.labelStyle.replace("color:","fill:"));const t=p.split(h.lineBreakRegex);for(const s of t){const n=l.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","1"),n.textContent=s,e.appendChild(n)}r=e}let m=0,i="";switch(a.type){case"round":m=5,i="rect";break;case"square":i="rect";break;case"diamond":i="question";break;case"hexagon":i="hexagon";break;case"odd":i="rect_left_inv_arrow";break;case"lean_right":i="lean_right";break;case"lean_left":i="lean_left";break;case"trapezoid":i="trapezoid";break;case"inv_trapezoid":i="inv_trapezoid";break;case"odd_right":i="rect_left_inv_arrow";break;case"circle":i="circle";break;case"ellipse":i="ellipse";break;case"stadium":i="stadium";break;case"subroutine":i="subroutine";break;case"cylinder":i="cylinder";break;case"group":i="rect";break;default:i="rect"}e.warn("Adding node",a.id,a.domId),s.setNode(c.db.lookUpDomId(a.id),{labelType:"svg",labelStyle:u.labelStyle,shape:i,label:r,rx:m,ry:m,class:f,style:u.style,id:c.db.lookUpDomId(a.id)})})},U1=function(e,n,s){let a=0,o,i;if(e.defaultStyle!==void 0){const t=vn(e.defaultStyle);o=t.style,i=t.labelStyle}e.forEach(function(r){a++;var u="L-"+r.start+"-"+r.end,m="LS-"+r.start,f="LE-"+r.end;const c={};r.type==="arrow_open"?c.arrowhead="none":c.arrowhead="normal";let l="",d="";if(r.style!==void 0){const e=vn(r.style);l=e.style,d=e.labelStyle}else switch(r.stroke){case"normal":l="fill:none",o!==void 0&&(l=o),i!==void 0&&(d=i);break;case"dotted":l="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":l=" stroke-width: 3.5px;fill:none";break}c.style=l,c.labelStyle=d,r.interpolate!==void 0?c.curve=He(r.interpolate,je):e.defaultInterpolate!==void 0?c.curve=He(e.defaultInterpolate,je):c.curve=He(a4.curve,je),r.text===void 0?r.style!==void 0&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c",$(t().flowchart.htmlLabels)?(c.labelType="html",c.label=`<span id="L-${u}" class="edgeLabel L-${m}' L-${f}" style="${c.labelStyle}">${r.text.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}</span>`):(c.labelType="text",c.label=r.text.replace(h.lineBreakRegex,`
`),r.style===void 0&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none"),c.labelStyle=c.labelStyle.replace("color:","fill:"))),c.id=u,c.class=m+" "+f,c.minlen=r.length||1,n.setEdge(s.db.lookUpDomId(r.start),s.db.lookUpDomId(r.end),c,a)})},R_=function(t,n){e.info("Extracting classes"),n.db.clear();try{return n.parse(t),n.db.getClasses()}catch(t){return e.error(t),{}}},x_=function(n,s,o,a){e.info("Drawing flowchart"),a.db.clear();const{securityLevel:f,flowchart:h}=t();let v;f==="sandbox"&&(v=i("#i"+s));const p=i(f==="sandbox"?v.nodes()[0].contentDocument.body:"body"),l=f==="sandbox"?v.nodes()[0].contentDocument:document;try{a.parser.parse(n)}catch{e.debug("Parsing failed")}let b=a.db.getDirection();b===void 0&&(b="TD");const w=h.nodeSpacing||50,y=h.rankSpacing||50,u=new D({multigraph:!0,compound:!0}).setGraph({rankdir:b,nodesep:w,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let r;const d=a.db.getSubGraphs();for(let e=d.length-1;e>=0;e--)r=d[e],a.db.addVertex(r.id,r.title,"group",void 0,r.classes);const m=a.db.getVertices();e.warn("Get vertices",m);const _=a.db.getEdges();let c=0;for(c=d.length-1;c>=0;c--){r=d[c],Su("cluster").append("text");for(let t=0;t<r.nodes.length;t++)e.warn("Setting subgraph",r.nodes[t],a.db.lookUpDomId(r.nodes[t]),a.db.lookUpDomId(r.id)),u.setParent(a.db.lookUpDomId(r.nodes[t]),a.db.lookUpDomId(r.id))}K1(m,u,s,p,l,a),U1(_,u,a);const g=new bD;V_.addToRender(g),g.arrows().none=function(t,n,s,o){const i=t.append("marker").attr("id",n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),a=i.append("path").attr("d","M 0 0 L 0 0 L 0 0 z");mt(a,s[o+"Style"])},g.arrows().normal=function(t,n){const s=t.append("marker").attr("id",n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto");s.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const O=p.select(`[id="${s}"]`),j=p.select("#"+s+" g");g(j,u),j.selectAll("g.node").attr("title",function(){return a.db.getTooltip(this.id)}),a.db.indexNodes("subGraph"+c);for(c=0;c<d.length;c++)if(r=d[c],r.title!=="undefined"){const e=l.querySelectorAll("#"+s+' [id="'+a.db.lookUpDomId(r.id)+'"] rect'),t=l.querySelectorAll("#"+s+' [id="'+a.db.lookUpDomId(r.id)+'"]'),o=e[0].x.baseVal.value,c=e[0].y.baseVal.value,d=e[0].width.baseVal.value,u=i(t[0]),n=u.select(".label");n.attr("transform",`translate(${o+d/2}, ${c+14})`),n.attr("id",s+"Text");for(let e=0;e<r.classes.length;e++)t[0].classList.add(r.classes[e])}if(!h.htmlLabels){const e=l.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const n of e){const s=n.getBBox(),t=l.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("rx",0),t.setAttribute("ry",0),t.setAttribute("width",s.width),t.setAttribute("height",s.height),n.insertBefore(t,n.firstChild)}}di(u,O,h.diagramPadding,h.useMaxWidth);const x=Object.keys(m);x.forEach(function(e){const t=m[e];if(t.link){const n=p.select("#"+s+' [id="'+a.db.lookUpDomId(e)+'"]');if(n){const e=l.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS("http://www.w3.org/2000/svg","class",t.classes.join(" ")),e.setAttributeNS("http://www.w3.org/2000/svg","href",t.link),e.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),f==="sandbox"?e.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):t.linkTarget&&e.setAttributeNS("http://www.w3.org/2000/svg","target",t.linkTarget);const s=n.insert(function(){return e},":first-child"),o=n.select(".label-container");o&&s.append(function(){return o.node()});const i=n.select(".label");i&&s.append(function(){return i.node()})}}})},O_={setConf:B_,addVertices:K1,addEdges:U1,getClasses:R_,draw:x_},H1={},w_=function(e){const t=Object.keys(e);for(const n of t)H1[n]=e[n]},L1=function(n,s,o,i,a,r){const c=i.select(`[id="${o}"]`),l=Object.keys(n);l.forEach(function(o){const i=n[o];let p="default";i.classes.length>0&&(p=i.classes.join(" "));const d=vn(i.styles);let m=i.text!==void 0?i.text:i.id,f;if($(t().flowchart.htmlLabels)){const e={label:m.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)};f=b1(c,e).node(),f.parentNode.removeChild(f)}else{const e=a.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",d.labelStyle.replace("color:","fill:"));const t=m.split(h.lineBreakRegex);for(const s of t){const n=a.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","1"),n.textContent=s,e.appendChild(n)}f=e}let u=0,l="";switch(i.type){case"round":u=5,l="rect";break;case"square":l="rect";break;case"diamond":l="question";break;case"hexagon":l="hexagon";break;case"odd":l="rect_left_inv_arrow";break;case"lean_right":l="lean_right";break;case"lean_left":l="lean_left";break;case"trapezoid":l="trapezoid";break;case"inv_trapezoid":l="inv_trapezoid";break;case"odd_right":l="rect_left_inv_arrow";break;case"circle":l="circle";break;case"ellipse":l="ellipse";break;case"stadium":l="stadium";break;case"subroutine":l="subroutine";break;case"cylinder":l="cylinder";break;case"group":l="rect";break;case"doublecircle":l="doublecircle";break;default:l="rect"}s.setNode(i.id,{labelStyle:d.labelStyle,shape:l,labelText:m,rx:u,ry:u,class:p,style:d.style,id:i.id,link:i.link,linkTarget:i.linkTarget,tooltip:r.db.getTooltip(i.id)||"",domId:r.db.lookUpDomId(i.id),haveCallback:i.haveCallback,width:i.type==="group"?500:void 0,dir:i.dir,type:i.type,props:i.props,padding:t().flowchart.padding}),e.info("setNode",{labelStyle:d.labelStyle,shape:l,labelText:m,rx:u,ry:u,class:p,style:d.style,id:i.id,domId:r.db.lookUpDomId(i.id),width:i.type==="group"?500:void 0,type:i.type,dir:i.dir,props:i.props,padding:t().flowchart.padding})})},N1=function(t,n){e.info("abc78 edges = ",t);let r=0,o={},i,a;if(t.defaultStyle!==void 0){const e=vn(t.defaultStyle);i=e.style,a=e.labelStyle}t.forEach(function(s){r++;var f,p,l="L-"+s.start+"-"+s.end;o[l]===void 0?(o[l]=0,e.info("abc78 new entry",l,o[l])):(o[l]++,e.info("abc78 new entry",l,o[l]));let m=l+"-"+o[l];e.info("abc78 new link id to be used is",l,m,o[l]),f="LS-"+s.start,p="LE-"+s.end;const c={style:"",labelStyle:""};switch(c.minlen=s.length||1,s.type==="arrow_open"?c.arrowhead="none":c.arrowhead="normal",c.arrowTypeStart="arrow_open",c.arrowTypeEnd="arrow_open",s.type){case"double_arrow_cross":c.arrowTypeStart="arrow_cross";case"arrow_cross":c.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":c.arrowTypeStart="arrow_point";case"arrow_point":c.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":c.arrowTypeStart="arrow_circle";case"arrow_circle":c.arrowTypeEnd="arrow_circle";break}let d="",u="";switch(s.stroke){case"normal":d="fill:none;",i!==void 0&&(d=i),a!==void 0&&(u=a),c.thickness="normal",c.pattern="solid";break;case"dotted":c.thickness="normal",c.pattern="dotted",c.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":c.thickness="thick",c.pattern="solid",c.style="stroke-width: 3.5px;fill:none;";break}if(s.style!==void 0){const e=vn(s.style);d=e.style,u=e.labelStyle}c.style=c.style+=d,c.labelStyle=c.labelStyle+=u,s.interpolate!==void 0?c.curve=He(s.interpolate,je):t.defaultInterpolate!==void 0?c.curve=He(t.defaultInterpolate,je):c.curve=He(H1.curve,je),s.text===void 0?s.style!==void 0&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c"),c.labelType="text",c.label=s.text.replace(h.lineBreakRegex,`
`),s.style===void 0&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),c.labelStyle=c.labelStyle.replace("color:","fill:"),c.id=m,c.classes="flowchart-link "+f+" "+p,n.setEdge(s.start,s.end,c,r)})},__=function(t,n){e.info("Extracting classes"),n.db.clear();try{return n.parse(t),n.db.getClasses()}catch{return}},y_=function(n,s,o,a){e.info("Drawing flowchart"),a.db.clear(),dt.setGen("gen-2"),a.parser.parse(n);let g=a.db.getDirection();g===void 0&&(g="TD");const{securityLevel:h,flowchart:c}=t(),w=c.nodeSpacing||50,_=c.rankSpacing||50;let v;h==="sandbox"&&(v=i("#i"+s));const b=i(h==="sandbox"?v.nodes()[0].contentDocument.body:"body"),m=h==="sandbox"?v.nodes()[0].contentDocument:document,d=new D({multigraph:!0,compound:!0}).setGraph({rankdir:g,nodesep:w,ranksep:_,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let r;const u=a.db.getSubGraphs();e.info("Subgraphs - ",u);for(let t=u.length-1;t>=0;t--)r=u[t],e.info("Subgraph - ",r),a.db.addVertex(r.id,r.title,"group",void 0,r.classes,r.dir);const f=a.db.getVertices(),j=a.db.getEdges();e.info(j);let l=0;for(l=u.length-1;l>=0;l--){r=u[l],Su("cluster").append("text");for(let t=0;t<r.nodes.length;t++)e.info("Setting up subgraphs",r.nodes[t],r.id),d.setParent(r.nodes[t],r.id)}L1(f,d,s,b,m,a),N1(j,d);const y=b.select(`[id="${s}"]`),O=b.select("#"+s+" g");if(Ur(O,d,["point","circle","cross"],"flowchart",s),p.insertTitle(y,"flowchartTitleText",c.titleTopMargin,a.db.getDiagramTitle()),di(d,y,c.diagramPadding,c.useMaxWidth),a.db.indexNodes("subGraph"+l),!c.htmlLabels){const e=m.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const n of e){const s=n.getBBox(),t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("rx",0),t.setAttribute("ry",0),t.setAttribute("width",s.width),t.setAttribute("height",s.height),n.insertBefore(t,n.firstChild)}}const x=Object.keys(f);x.forEach(function(e){const t=f[e];if(t.link){const n=i("#"+s+' [id="'+e+'"]');if(n){const e=m.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS("http://www.w3.org/2000/svg","class",t.classes.join(" ")),e.setAttributeNS("http://www.w3.org/2000/svg","href",t.link),e.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),h==="sandbox"?e.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):t.linkTarget&&e.setAttributeNS("http://www.w3.org/2000/svg","target",t.linkTarget);const s=n.insert(function(){return e},":first-child"),o=n.select(".label-container");o&&s.append(function(){return o.node()});const i=n.select(".label");i&&s.append(function(){return i.node()})}}})},Tc={setConf:w_,addVertices:L1,addEdges:N1,getClasses:__,draw:y_},Dc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},w=[1,3],n=[1,5],t=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],_=[1,15],h=[1,16],f=[1,17],r=[1,18],c=[1,19],l=[1,20],d=[1,21],u=[1,22],i=[1,23],m=[1,24],a=[1,25],p=[1,26],g=[1,27],v=[1,29],b=[1,31],j=[1,34],y=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],o={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 2:return a[c-1];case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 9:o.setDateFormat(a[c].substr(11)),this.$=a[c].substr(11);break;case 10:o.enableInclusiveEndDates(),this.$=a[c].substr(18);break;case 11:o.TopAxis(),this.$=a[c].substr(8);break;case 12:o.setAxisFormat(a[c].substr(11)),this.$=a[c].substr(11);break;case 13:o.setTickInterval(a[c].substr(13)),this.$=a[c].substr(13);break;case 14:o.setExcludes(a[c].substr(9)),this.$=a[c].substr(9);break;case 15:o.setIncludes(a[c].substr(9)),this.$=a[c].substr(9);break;case 16:o.setTodayMarker(a[c].substr(12)),this.$=a[c].substr(12);break;case 17:o.setDiagramTitle(a[c].substr(6)),this.$=a[c].substr(6);break;case 18:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 19:case 20:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 21:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 23:o.addTask(a[c-1],a[c]),this.$="task";break;case 27:this.$=a[c-1],o.setClickEvent(a[c-1],a[c],null);break;case 28:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 29:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],null),o.setLink(a[c-2],a[c]);break;case 30:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-2],a[c-1]),o.setLink(a[c-3],a[c]);break;case 31:this.$=a[c-2],o.setClickEvent(a[c-2],a[c],null),o.setLink(a[c-2],a[c-1]);break;case 32:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-1],a[c]),o.setLink(a[c-3],a[c-2]);break;case 33:this.$=a[c-1],o.setLink(a[c-1],a[c]);break;case 34:case 40:this.$=a[c-1]+" "+a[c];break;case 35:case 36:case 38:this.$=a[c-2]+" "+a[c-1]+" "+a[c];break;case 37:case 39:this.$=a[c-3]+" "+a[c-2]+" "+a[c-1]+" "+a[c];break;case 41:o.parseDirective("%%{","open_directive");break;case 42:o.parseDirective(a[c],"type_directive");break;case 43:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 44:o.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:w,30:4,40:n},{1:[3]},{3:6,4:2,5:w,30:4,40:n},e(t,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:_,13:h,14:f,15:r,16:c,17:l,18:d,19:u,20:i,21:m,23:a,25:p,26:g,27:28,28:v,30:4,35:b,40:n},{32:32,33:[1,33],43:j},e([33,43],[2,42]),e(t,[2,8],{1:[2,2]}),e(t,[2,4]),{4:30,10:35,12:_,13:h,14:f,15:r,16:c,17:l,18:d,19:u,20:i,21:m,23:a,25:p,26:g,27:28,28:v,30:4,35:b,40:n},e(t,[2,6]),e(t,[2,7]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{22:[1,36]},{24:[1,37]},e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),{29:[1,38]},e(t,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},e(t,[2,5]),e(t,[2,18]),e(t,[2,19]),e(t,[2,23]),e(t,[2,27],{37:[1,44],38:[1,45]}),e(t,[2,33],{36:[1,46]}),e(y,[2,25]),{32:47,43:j},{43:[2,43]},e(t,[2,28],{38:[1,48]}),e(t,[2,29]),e(t,[2,31],{37:[1,49]}),{11:[1,50]},e(t,[2,30]),e(t,[2,32]),e(y,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},O=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return e}();o.lexer=O;function s(){this.yy={}}return s.prototype=o,o.Parser=s,new s}(),Dc.parser=Dc,Ty=Dc,Fy=e=>e.match(/^\s*gantt/)!==null,Ue="",Nc="",Hc=void 0,Bc="",So=[],Mo=[],$c={},Wc=[],Ho=[],Un="",l1=["active","done","crit","milestone"],Jc=[],xo=!1,nl=!1,rl=0,xy=function(e,t,n){_.parseDirective(this,e,t,n)},Oy=function(){Wc=[],Ho=[],Un="",Jc=[],Si=0,hd=void 0,Ll=void 0,L=[],Ue="",Nc="",Hc=void 0,Bc="",So=[],Mo=[],xo=!1,nl=!1,rl=0,$c={},xe()},wy=function(e){Nc=e},by=function(){return Nc},vy=function(e){Hc=e},py=function(){return Hc},fy=function(e){Bc=e},my=function(){return Bc},hy=function(e){Ue=e},dy=function(){xo=!0},ly=function(){return xo},cy=function(){nl=!0},ay=function(){return nl},iy=function(){return Ue},oy=function(e){So=e.toLowerCase().split(/[\s,]+/)},sy=function(){return So},ty=function(e){Mo=e.toLowerCase().split(/[\s,]+/)},Jj=function(){return Mo},Xj=function(){return $c},Gj=function(e){Un=e,Wc.push(e)},Yj=function(){return Wc},qj=function(){let e=dd();const n=10;let t=0;for(;!e&&t<n;)e=dd(),t++;return Ho=L,Ho},zu=function(e,t,n,s){return!s.includes(e.format(t.trim()))&&(!!(e.isoWeekday()>=6&&n.includes("weekends"))||!!n.includes(e.format("dddd").toLowerCase())||n.includes(e.format(t.trim())))},Au=function(e,t,n,s){if(!n.length||e.manualEndTime)return;let o=(0,De.default)(e.startTime,t,!0);o.add(1,"d");let i=(0,De.default)(e.endTime,t,!0),a=Uj(o,i,t,n,s);e.endTime=i.toDate(),e.renderEndTime=a},Uj=function(e,t,n,s,o){let i=!1,a=null;for(;e<=t;)i||(a=t.toDate()),i=zu(e,n,s,o),i&&t.add(1,"d"),e.add(1,"d");return a},ml=function(t,n,s){s=s.trim();const r=/^after\s+([\d\w- ]+)/,i=r.exec(s.trim());if(i!==null){let e=null;if(i[1].split(" ").forEach(function(t){let n=Sn(t);n!==void 0&&(e?n.endTime>e.endTime&&(e=n):e=n)}),e)return e.endTime;const t=new Date;return t.setHours(0,0,0,0),t}let a=(0,De.default)(s,n.trim(),!0);if(a.isValid())return a.toDate();e.debug("Invalid date:"+s),e.debug("With date format:"+n.trim());const o=new Date(s);if(o===void 0||isNaN(o.getTime()))throw new Error("Invalid date:"+s);return o},nu=function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?De.default.duration(Number.parseFloat(t[1]),t[2]):De.default.duration.invalid()},Yd=function(e,t,n,s=!1){n=n.trim();let o=(0,De.default)(n,t.trim(),!0);if(o.isValid())return s&&o.add(1,"d"),o.toDate();const i=(0,De.default)(e),a=nu(n);return a.isValid()&&i.add(a),i.toDate()},Si=0,$n=function(e){return e===void 0?(Si=Si+1,"task"+Si):e},Vj=function(e,t){let i;t.substr(0,1)===":"?i=t.substr(1,t.length):i=t;const s=i.split(","),n={};ij(s,n,l1);for(let e=0;e<s.length;e++)s[e]=s[e].trim();let o="";switch(s.length){case 1:n.id=$n(),n.startTime=e.endTime,o=s[0];break;case 2:n.id=$n(),n.startTime=ml(void 0,Ue,s[0]),o=s[1];break;case 3:n.id=$n(s[0]),n.startTime=ml(void 0,Ue,s[1]),o=s[2];break}return o&&(n.endTime=Yd(n.startTime,Ue,o,xo),n.manualEndTime=(0,De.default)(o,"YYYY-MM-DD",!0).isValid(),Au(n,Ue,Mo,So)),n},zj=function(e,t){let o;t.substr(0,1)===":"?o=t.substr(1,t.length):o=t;const n=o.split(","),s={};ij(n,s,l1);for(let e=0;e<n.length;e++)n[e]=n[e].trim();switch(n.length){case 1:s.id=$n(),s.startTime={type:"prevTaskEnd",id:e},s.endTime={data:n[0]};break;case 2:s.id=$n(),s.startTime={type:"getStartDate",startData:n[0]},s.endTime={data:n[1]};break;case 3:s.id=$n(n[0]),s.startTime={type:"getStartDate",startData:n[1]},s.endTime={data:n[2]};break}return s},L=[],ud={},xj=function(e,t){const n={section:Un,type:Un,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},s=zj(Ll,t);n.raw.startTime=s.startTime,n.raw.endTime=s.endTime,n.id=s.id,n.prevTaskId=Ll,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,n.order=rl,rl++;const o=L.push(n);Ll=n.id,ud[n.id]=o-1},Sn=function(e){const t=ud[e];return L[t]},Oj=function(e,t){const n={section:Un,type:Un,description:e,task:e,classes:[]},s=Vj(hd,t);n.startTime=s.startTime,n.endTime=s.endTime,n.id=s.id,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,hd=n,Ho.push(n)},dd=function(){const t=function(e){const n=L[e];let t="";switch(L[e].raw.startTime.type){case"prevTaskEnd":{const e=Sn(n.prevTaskId);n.startTime=e.endTime;break}case"getStartDate":t=ml(void 0,Ue,L[e].raw.startTime.startData),t&&(L[e].startTime=t);break}return L[e].startTime&&(L[e].endTime=Yd(L[e].startTime,Ue,L[e].raw.endTime.data,xo),L[e].endTime&&(L[e].processed=!0,L[e].manualEndTime=(0,De.default)(L[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Au(L[e],Ue,Mo,So))),L[e].processed};let e=!0;for(const[n,s]of L.entries())t(n),e=e&&s.processed;return e},_j=function(e,n){let s=n;t().securityLevel!=="loose"&&(s=(0,Ht.sanitizeUrl)(n)),e.split(",").forEach(function(e){let t=Sn(e);t!==void 0&&(od(e,()=>{window.open(s,"_self")}),$c[e]=s)}),ld(e,"clickable")},ld=function(e,t){e.split(",").forEach(function(e){let n=Sn(e);n!==void 0&&n.classes.push(t)})},vj=function(e,n,s){if(t().securityLevel!=="loose")return;if(n===void 0)return;let o=[];if(typeof s=="string"){o=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<o.length;t++){let e=o[t].trim();e.charAt(0)==='"'&&e.charAt(e.length-1)==='"'&&(e=e.substr(1,e.length-2)),o[t]=e}}o.length===0&&o.push(e);let i=Sn(e);i!==void 0&&od(e,()=>{p.runFunc(n,...o)})},od=function(e,t){Jc.push(function(){const n=document.querySelector(`[id="${e}"]`);n!==null&&n.addEventListener("click",function(){t()})},function(){const n=document.querySelector(`[id="${e}-text"]`);n!==null&&n.addEventListener("click",function(){t()})})},gj=function(e,t,n){e.split(",").forEach(function(e){vj(e,t,n)}),ld(e,"clickable")},lj=function(e){Jc.forEach(function(t){t(e)})},Ha={parseDirective:xy,getConfig:()=>t().gantt,clear:Oy,setDateFormat:hy,getDateFormat:iy,enableInclusiveEndDates:dy,endDatesAreInclusive:ly,enableTopAxis:cy,topAxisEnabled:ay,setAxisFormat:wy,getAxisFormat:by,setTickInterval:vy,getTickInterval:py,setTodayMarker:fy,getTodayMarker:my,setAccTitle:_e,getAccTitle:Se,setDiagramTitle:xt,getDiagramTitle:wt,setAccDescription:Fe,getAccDescription:Te,addSection:Gj,getSections:Yj,getTasks:qj,addTask:xj,findTaskById:Sn,addTaskOrg:Oj,setIncludes:oy,getIncludes:sy,setExcludes:ty,getExcludes:Jj,setClickEvent:gj,setLink:_j,getLinks:Xj,bindFunctions:lj,parseDuration:nu,isInvalidDate:zu};function ij(e,t,n){let s=!0;for(;s;)s=!1,n.forEach(function(n){const o="^\\s*"+n+"\\s*$",i=new RegExp(o);e[0].match(i)&&(t[n]=!0,e.shift(1),s=!0)})}nj=function(){e.debug("Something is calling, setConf, remove the call")},tj=function(e,n,s,o){const a=t().gantt,u=t().securityLevel;let m;u==="sandbox"&&(m=i("#i"+n));const v=i(u==="sandbox"?m.nodes()[0].contentDocument.body:"body"),f=u==="sandbox"?m.nodes()[0].contentDocument:document,g=f.getElementById(n);Bt=g.parentElement.offsetWidth,Bt===void 0&&(Bt=1200),a.useWidth!==void 0&&(Bt=a.useWidth);const d=o.db.getTasks(),p=d.length*(a.barHeight+a.barGap)+2*a.topPadding;g.setAttribute("viewBox","0 0 "+Bt+" "+p);const l=v.select(`[id="${n}"]`),r=VF().domain([oV(d,function(e){return e.startTime}),aV(d,function(e){return e.endTime})]).rangeRound([0,Bt-a.leftPadding-a.rightPadding]);let c=[];for(const e of d)c.push(e.type);const b=c;c=E(c);function j(e,t){const s=e.startTime,o=t.startTime;let n=0;return s>o?n=1:s<o&&(n=-1),n}d.sort(j),y(d,Bt,p),Me(l,p,Bt,a.useMaxWidth),l.append("text").text(o.db.getDiagramTitle()).attr("x",Bt/2).attr("y",a.titleTopMargin).attr("class","titleText");function y(e,t,n){const l=a.barHeight,r=l+a.barGap,s=a.topPadding,i=a.leftPadding,d=nS().domain([0,c.length]).range(["#00B9FA","#F95002"]).interpolate($j);w(r,s,i,t,n,e,o.db.getExcludes(),o.db.getIncludes()),O(i,s,t,n),_(e,r,s,i,l,d,t),x(r,s),C(i,s,t,n)}function _(e,s,d,u,h,m,f){l.append("g").selectAll("rect").data(e).enter().append("rect").attr("x",0).attr("y",function(e,t){return t=e.order,t*s+d-2}).attr("width",function(){return f-a.rightPadding/2}).attr("height",s).attr("class",function(e){for(const[t,n]of c.entries())if(e.type===n)return"section section"+t%a.numberSectionStyles;return"section section0"});const p=l.append("g").selectAll("rect").data(e).enter(),g=o.db.getLinks();p.append("rect").attr("id",function(e){return e.id}).attr("rx",3).attr("ry",3).attr("x",function(e){return e.milestone?r(e.startTime)+u+.5*(r(e.endTime)-r(e.startTime))-.5*h:r(e.startTime)+u}).attr("y",function(e,t){return t=e.order,t*s+d}).attr("width",function(e){return e.milestone?h:r(e.renderEndTime||e.endTime)-r(e.startTime)}).attr("height",h).attr("transform-origin",function(e,t){return t=e.order,(r(e.startTime)+u+.5*(r(e.endTime)-r(e.startTime))).toString()+"px "+(t*s+d+.5*h).toString()+"px"}).attr("class",function(e){const o="task";let n="";e.classes.length>0&&(n=e.classes.join(" "));let s=0;for(const[t,n]of c.entries())e.type===n&&(s=t%a.numberSectionStyles);let t="";return e.active?e.crit?t+=" activeCrit":t=" active":e.done?e.crit?t=" doneCrit":t=" done":e.crit&&(t+=" crit"),t.length===0&&(t=" task"),e.milestone&&(t=" milestone "+t),t+=s,t+=" "+n,o+t}),p.append("text").attr("id",function(e){return e.id+"-text"}).text(function(e){return e.task}).attr("font-size",a.fontSize).attr("x",function(e){let t=r(e.startTime),n=r(e.renderEndTime||e.endTime);e.milestone&&(t+=.5*(r(e.endTime)-r(e.startTime))-.5*h),e.milestone&&(n=t+h);const s=this.getBBox().width;return s>n-t?n+s+1.5*a.leftPadding>f?t+u-5:n+u+5:(n-t)/2+t+u}).attr("y",function(e,t){return t=e.order,t*s+a.barHeight/2+(a.fontSize/2-2)+d}).attr("text-height",h).attr("class",function(e){const l=r(e.startTime);let i=r(e.endTime);e.milestone&&(i=l+h);const s=this.getBBox().width;let o="";e.classes.length>0&&(o=e.classes.join(" "));let n=0;for(const[t,s]of c.entries())e.type===s&&(n=t%a.numberSectionStyles);let t="";return e.active&&(e.crit?t="activeCritText"+n:t="activeText"+n),e.done?e.crit?t=t+" doneCritText"+n:t=t+" doneText"+n:e.crit&&(t=t+" critText"+n),e.milestone&&(t+=" milestoneText"),s>i-l?i+s+1.5*a.leftPadding>f?o+" taskTextOutsideLeft taskTextOutside"+n+" "+t:o+" taskTextOutsideRight taskTextOutside"+n+" "+t+" width-"+s:o+" taskText taskText"+n+" "+t+" width-"+s});const v=t().securityLevel;if(v==="sandbox"){let t;t=i("#i"+n);const e=t.nodes()[0].contentDocument;p.filter(function(e){return g[e.id]!==void 0}).each(function(t){var n,s=e.querySelector("#"+t.id),o=e.querySelector("#"+t.id+"-text");const i=s.parentNode;n=e.createElement("a"),n.setAttribute("xlink:href",g[t.id]),n.setAttribute("target","_top"),i.appendChild(n),n.appendChild(s),n.appendChild(o)})}}function w(e,t,n,s,i,c,d,u){const f=c.reduce((e,{startTime:t})=>e?Math.min(e,t):t,0),p=c.reduce((e,{endTime:t})=>e?Math.max(e,t):t,0),v=o.db.getDateFormat();if(!f||!p)return;const g=[];let h=null,m=(0,De.default)(f);for(;m.valueOf()<=p;)o.db.isInvalidDate(m,v,d,u)?h?h.end=m.clone():h={start:m.clone(),end:m.clone()}:h&&(g.push(h),h=null),m.add(1,"d");const b=l.append("g").selectAll("rect").data(g).enter();b.append("rect").attr("id",function(e){return"exclude-"+e.start.format("YYYY-MM-DD")}).attr("x",function(e){return r(e.start)+n}).attr("y",a.gridLineStartPadding).attr("width",function(e){const t=e.end.clone().add(1,"day");return r(t)-r(e.start)}).attr("height",i-t-a.gridLineStartPadding).attr("transform-origin",function(t,s){return(r(t.start)+n+.5*(r(t.end)-r(t.start))).toString()+"px "+(s*e+.5*i).toString()+"px"}).attr("class","exclude-range")}function O(e,t,n,s){let i=qB(r).tickSize(-s+t+a.gridLineStartPadding).tickFormat(Kl(o.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const d=/^([1-9]\d*)(minute|hour|day|week|month)$/,c=d.exec(o.db.getTickInterval()||a.tickInterval);if(c!==null){const e=c[1],t=c[2];switch(t){case"minute":i.ticks(Ns.every(e));break;case"hour":i.ticks(Ps.every(e));break;case"day":i.ticks(fn.every(e));break;case"week":i.ticks(Hn.every(e));break;case"month":i.ticks(co.every(e));break}}if(l.append("g").attr("class","grid").attr("transform","translate("+e+", "+(s-50)+")").call(i).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),o.db.topAxisEnabled()||a.topAxis){let n=YB(r).tickSize(-s+t+a.gridLineStartPadding).tickFormat(Kl(o.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(c!==null){const e=c[1],t=c[2];switch(t){case"minute":n.ticks(Ns.every(e));break;case"hour":n.ticks(Ps.every(e));break;case"day":n.ticks(fn.every(e));break;case"week":n.ticks(Hn.every(e));break;case"month":n.ticks(co.every(e));break}}l.append("g").attr("class","grid").attr("transform","translate("+e+", "+t+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function x(e,t){const n=[];let s=0;for(const[t,e]of c.entries())n[t]=[e,A(e,b)];l.append("g").selectAll("text").data(n).enter().append(function(e){const n=e[0].split(h.lineBreakRegex),s=-(n.length-1)/2,t=f.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("dy",s+"em");for(const[s,o]of n.entries()){const e=f.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","central"),e.setAttribute("x","10"),s>0&&e.setAttribute("dy","1em"),e.textContent=o,t.appendChild(e)}return t}).attr("x",10).attr("y",function(o,i){if(i>0)for(let a=0;a<i;a++)return s+=n[i-1][1],o[1]*e/2+s*e+t;else return o[1]*e/2+t}).attr("font-size",a.sectionFontSize).attr("font-size",a.sectionFontSize).attr("class",function(e){for(const[t,n]of c.entries())if(e[0]===n)return"sectionTitle sectionTitle"+t%a.numberSectionStyles;return"sectionTitle"})}function C(e,t,n,s){const i=o.db.getTodayMarker();if(i==="off")return;const u=l.append("g").attr("class","today"),c=new Date,d=u.append("line");d.attr("x1",r(c)+e).attr("x2",r(c)+e).attr("y1",a.titleTopMargin).attr("y2",s-a.titleTopMargin).attr("class","today"),i!==""&&d.attr("style",i.replace(/,/g,";"))}function E(e){const t={},n=[];for(let s=0,o=e.length;s<o;++s)Object.prototype.hasOwnProperty.call(t,e[s])||(t[e[s]]=!0,n.push(e[s]));return n}function k(e){let t=e.length;const n={};for(;t;)n[e[--t]]=(n[e[t]]||0)+1;return n}function A(e,t){return k(t)[e]||0}},ej={setConf:nj,draw:tj},Gl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},t=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,n,s,o,i,a){switch(a.length-1,i){case 1:return o;case 4:break;case 6:o.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},o=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return e}();n.lexer=o;function s(){this.yy={}}return s.prototype=n,n.Parser=s,new s}(),Gl.parser=Gl,Jb=Gl,rd="",cd=!1,Zb=t=>{e.debug("Setting message to: "+t),rd=t},Qb=()=>rd,Xb=e=>{cd=e},Kb=()=>cd,Ub={setMessage:Zb,getMessage:Qb,setInfo:Xb,getInfo:Kb,clear:xe},Wb=(n,s,o)=>{try{e.debug(`Rendering info diagram
`+n);const r=t().securityLevel;let c;r==="sandbox"&&(c=i("#i"+s));const l=i(r==="sandbox"?c.nodes()[0].contentDocument.body:"body"),a=l.select("#"+s),d=a.append("g");d.append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+o),a.attr("height",100),a.attr("width",400)}catch(t){e.error("Error while rendering info diagram"),e.error(t.message)}},Ib={draw:Wb},Hb=e=>e.match(/^\s*info/)!==null,Il=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},c=[1,4],s=[1,5],o=[1,6],i=[1,7],n=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],y=[2,5],d=[1,6,11,13,15,17,19,20,26,27,28,29],t=[26,27,28],h=[2,8],j=[1,18],b=[1,19],m=[1,20],f=[1,21],p=[1,22],g=[1,23],v=[1,28],r=[6,26,27,28,29],u={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:o.setShowData(!0);break;case 7:this.$=a[c-1];break;case 9:o.addSection(a[c-1],o.cleanupValue(a[c]));break;case 10:this.$=a[c].trim(),o.setDiagramTitle(this.$);break;case 11:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 12:case 13:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 14:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 21:o.parseDirective("%%{","open_directive");break;case 22:o.parseDirective(a[c],"type_directive");break;case 23:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 24:o.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:c,21:8,26:s,27:o,28:i,29:n},{1:[3]},{3:10,4:2,5:3,6:c,21:8,26:s,27:o,28:i,29:n},{3:11,4:2,5:3,6:c,21:8,26:s,27:o,28:i,29:n},e(a,y,{7:12,8:[1,13]}),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(t,h,{21:8,9:16,10:17,5:24,1:[2,3],11:j,13:b,15:m,17:f,19:p,20:g,29:n}),e(a,y,{7:25}),{23:26,24:[1,27],32:v},e([24,32],[2,22]),e(a,[2,6]),{4:29,26:s,27:o,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,h,{21:8,9:16,10:17,5:24,1:[2,4],11:j,13:b,15:m,17:f,19:p,20:g,29:n}),e(r,[2,16]),{25:34,31:[1,35]},e(r,[2,24]),e(a,[2,7]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),{23:36,32:v},{32:[2,23]},e(r,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},_=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return e}();u.lexer=_;function l(){this.yy={}}return l.prototype=u,u.Parser=l,new l}(),Il.parser=Il,Pb=Il,Rb=e=>{const t=e.match(/^\s*pie/)!==null||e.match(/^\s*bar/)!==null;return t},ya={},Pl=!1,Lb=function(e,t,n){_.parseDirective(this,e,t,n)},Nb=function(n,s){n=h.sanitizeText(n,t()),ya[n]===void 0&&(ya[n]=s,e.debug("Added new section :",n))},Db=()=>ya,zb=function(e){Pl=e},Tb=function(){return Pl},Fb=function(e){return e.substring(0,1)===":"?(e=e.substring(1).trim(),Number(e.trim())):Number(e.trim())},Mb=function(){ya={},Pl=!1,xe()},Sb={parseDirective:Lb,getConfig:()=>t().pie,addSection:Nb,getSections:Db,cleanupValue:Fb,clear:Mb,setAccTitle:_e,getAccTitle:Se,setDiagramTitle:xt,getDiagramTitle:wt,setShowData:zb,getShowData:Tb,getAccDescription:Te,setAccDescription:Fe},bt=t(),ys=450,jb=(n,s,o,a)=>{try{bt=t(),e.debug(`Rendering info diagram
`+n);const _=t().securityLevel;let w;_==="sandbox"&&(w=i("#i"+s));const C=i(_==="sandbox"?w.nodes()[0].contentDocument.body:"body"),E=_==="sandbox"?w.nodes()[0].contentDocument:document;a.db.clear(),a.parser.parse(n),e.debug("Parsed info diagram");const O=E.getElementById(s);Mt=O.parentElement.offsetWidth,Mt===void 0&&(Mt=1200),bt.useWidth!==void 0&&(Mt=bt.useWidth),bt.pie.useWidth!==void 0&&(Mt=bt.pie.useWidth);const x=C.select("#"+s);Me(x,ys,Mt,bt.pie.useMaxWidth),O.setAttribute("viewBox","0 0 "+Mt+" "+ys);var c,d,m,p,v,b,j,y=40,r=18,u=4,g=Math.min(Mt,ys)/2-y,l=x.append("g").attr("transform","translate("+Mt/2+","+ys/2+")"),h=a.db.getSections(),f=0;Object.keys(h).forEach(function(e){f+=h[e]});const o=bt.themeVariables;j=[o.pie1,o.pie2,o.pie3,o.pie4,o.pie5,o.pie6,o.pie7,o.pie8,o.pie9,o.pie10,o.pie11,o.pie12],c=fS().range(j),b=Object.entries(h).map(function(e,t){return{order:t,name:e[0],value:e[1]}}),v=zT().value(function(e){return e.value}).sort(function(e,t){return e.order-t.order}),d=v(b),p=Od().innerRadius(0).outerRadius(g),l.selectAll("mySlices").data(d).enter().append("path").attr("d",p).attr("fill",function(e){return c(e.data.name)}).attr("class","pieCircle"),l.selectAll("mySlices").data(d).enter().append("text").text(function(e){return(e.data.value/f*100).toFixed(0)+"%"}).attr("transform",function(e){return"translate("+p.centroid(e)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(a.db.getDiagramTitle()).attr("x",0).attr("y",-(ys-50)/2).attr("class","pieTitleText"),m=l.selectAll(".legend").data(c.domain()).enter().append("g").attr("class","legend").attr("transform",function(e,t){const n=r+u,s=n*c.domain().length/2,o=12*r,i=t*n-s;return"translate("+o+","+i+")"}),m.append("rect").attr("width",r).attr("height",r).style("fill",c).style("stroke",c),m.data(d).append("text").attr("x",r+u).attr("y",r-u).text(function(e){return a.db.getShowData()||bt.showData||bt.pie.showData?e.data.name+" ["+e.data.value+"]":e.data.name})}catch(t){e.error("Error while rendering info diagram"),e.error(t)}},bb={draw:jb},Rl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},M=[1,3],s=[1,5],o=[1,6],i=[1,7],a=[1,8],w=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],x=[1,22],v=[2,13],g=[1,26],d=[1,27],u=[1,28],h=[1,29],m=[1,30],f=[1,31],p=[1,24],n=[1,32],r=[1,33],z=[1,36],j=[71,72],B=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],I=[1,56],H=[1,57],P=[1,58],R=[1,59],L=[1,60],N=[1,61],D=[1,62],c=[62,63],O=[1,74],l=[1,70],_=[1,71],y=[1,72],C=[1,73],b=[1,75],k=[1,79],E=[1,80],A=[1,77],S=[1,78],t=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],F={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 6:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 7:case 8:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 9:o.parseDirective("%%{","open_directive");break;case 10:o.parseDirective(a[c],"type_directive");break;case 11:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 12:o.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:o.addRequirement(a[c-3],a[c-4]);break;case 20:o.setNewReqId(a[c-2]);break;case 21:o.setNewReqText(a[c-2]);break;case 22:o.setNewReqRisk(a[c-2]);break;case 23:o.setNewReqVerifyMethod(a[c-2]);break;case 26:this.$=o.RequirementType.REQUIREMENT;break;case 27:this.$=o.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=o.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=o.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=o.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=o.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=o.RiskLevel.LOW_RISK;break;case 33:this.$=o.RiskLevel.MED_RISK;break;case 34:this.$=o.RiskLevel.HIGH_RISK;break;case 35:this.$=o.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=o.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=o.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=o.VerifyType.VERIFY_TEST;break;case 39:o.addElement(a[c-3]);break;case 40:o.setNewElementType(a[c-2]);break;case 41:o.setNewElementDocRef(a[c-2]);break;case 44:o.addRelationship(a[c-2],a[c],a[c-4]);break;case 45:o.addRelationship(a[c-2],a[c-4],a[c]);break;case 46:this.$=o.Relationships.CONTAINS;break;case 47:this.$=o.Relationships.COPIES;break;case 48:this.$=o.Relationships.DERIVES;break;case 49:this.$=o.Relationships.SATISFIES;break;case 50:this.$=o.Relationships.VERIFIES;break;case 51:this.$=o.Relationships.REFINES;break;case 52:this.$=o.Relationships.TRACES;break}},table:[{3:1,4:2,6:M,9:4,14:s,16:o,18:i,19:a},{1:[3]},{3:10,4:2,5:[1,9],6:M,9:4,14:s,16:o,18:i,19:a},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(w,[2,8]),{20:[2,9]},{3:16,4:2,6:M,9:4,14:s,16:o,18:i,19:a},{1:[2,2]},{4:21,5:x,7:17,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{11:34,12:[1,35],22:z},e([12,22],[2,10]),e(w,[2,6]),e(w,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:x,7:38,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{4:21,5:x,7:39,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{4:21,5:x,7:40,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{4:21,5:x,7:41,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{4:21,5:x,7:42,8:v,9:4,14:s,16:o,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:g,41:d,42:u,43:h,44:m,45:f,53:p,71:n,72:r},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(j,[2,26]),e(j,[2,27]),e(j,[2,28]),e(j,[2,29]),e(j,[2,30]),e(j,[2,31]),e(B,[2,55]),e(B,[2,56]),e(w,[2,4]),{13:51,21:[1,52]},e(w,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:I,65:H,66:P,67:R,68:L,69:N,70:D},{61:63,64:I,65:H,66:P,67:R,68:L,69:N,70:D},{11:64,22:z},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(c,[2,46]),e(c,[2,47]),e(c,[2,48]),e(c,[2,49]),e(c,[2,50]),e(c,[2,51]),e(c,[2,52]),{63:[1,68]},e(w,[2,5]),{5:O,29:69,30:l,33:_,35:y,37:C,39:b},{5:k,39:E,55:76,56:A,58:S},{32:81,71:n,72:r},{32:82,71:n,72:r},e(t,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:O,29:87,30:l,33:_,35:y,37:C,39:b},e(t,[2,25]),e(t,[2,39]),{31:[1,88]},{31:[1,89]},{5:k,39:E,55:90,56:A,58:S},e(t,[2,43]),e(t,[2,44]),e(t,[2,45]),{32:91,71:n,72:r},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(t,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(t,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:O,29:116,30:l,33:_,35:y,37:C,39:b},{5:O,29:117,30:l,33:_,35:y,37:C,39:b},{5:O,29:118,30:l,33:_,35:y,37:C,39:b},{5:O,29:119,30:l,33:_,35:y,37:C,39:b},{5:k,39:E,55:120,56:A,58:S},{5:k,39:E,55:121,56:A,58:S},e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,40]),e(t,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},V=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return n.yytext=n.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n{<>\-=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return e}();F.lexer=V;function T(){this.yy={}}return T.prototype=F,F.Parser=T,new T}(),Rl.parser=Rl,gb=Rl,pb=e=>e.match(/^\s*requirement(Diagram)?/)!==null,Nl=[],ie={},bs={},Pt={},vs={},mb={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},hb={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},ub={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},db={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},lb=function(e,t,n){_.parseDirective(this,e,t,n)},cb=(e,t)=>(bs[e]===void 0&&(bs[e]={name:e,type:t,id:ie.id,text:ie.text,risk:ie.risk,verifyMethod:ie.verifyMethod}),ie={},bs[e]),rb=()=>bs,ab=e=>{ie!==void 0&&(ie.id=e)},ib=e=>{ie!==void 0&&(ie.text=e)},sb=e=>{ie!==void 0&&(ie.risk=e)},nb=e=>{ie!==void 0&&(ie.verifyMethod=e)},tb=t=>(vs[t]===void 0&&(vs[t]={name:t,type:Pt.type,docRef:Pt.docRef},e.info("Added new requirement: ",t)),Pt={},vs[t]),eb=()=>vs,J9=e=>{Pt!==void 0&&(Pt.type=e)},Z9=e=>{Pt!==void 0&&(Pt.docRef=e)},X9=(e,t,n)=>{Nl.push({type:e,src:t,dst:n})},Y9=()=>Nl,q9=()=>{Nl=[],ie={},bs={},Pt={},vs={},xe()},K9={RequirementType:mb,RiskLevel:hb,VerifyType:ub,Relationships:db,parseDirective:lb,getConfig:()=>t().req,addRequirement:cb,getRequirements:rb,setNewReqId:ab,setNewReqText:ib,setNewReqRisk:sb,setNewReqVerifyMethod:nb,setAccTitle:_e,getAccTitle:Se,setAccDescription:Fe,getAccDescription:Te,addElement:tb,getElements:eb,setNewElementType:J9,setNewElementDocRef:Z9,addRelationship:X9,getRelationships:Y9,clear:q9},Dl={CONTAINS:"contains",ARROW:"arrow"},V9=(e,t)=>{let n=e.append("defs").append("marker").attr("id",Dl.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",Dl.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},gd={ReqMarkers:Dl,insertLineEndings:V9},x={},Fd=0,Td=(e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",x.rect_min_width+"px").attr("height",x.rect_min_height+"px"),Rd=(e,t,n)=>{let a=x.rect_min_width/2,s=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",a).attr("y",x.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach(e=>{o==0?s.append("tspan").attr("text-anchor","middle").attr("x",x.rect_min_width/2).attr("dy",0).text(e):s.append("tspan").attr("text-anchor","middle").attr("x",x.rect_min_width/2).attr("dy",x.line_height*.75).text(e),o++});let r=1.5*x.rect_padding,c=o*x.line_height*.75,i=r+c;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",x.rect_min_width).attr("y1",i).attr("y2",i),{titleNode:s,y:i}},Ud=(e,t,n,s)=>{let r=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",x.rect_padding).attr("y",s).attr("dominant-baseline","hanging"),i=0;const a=30;let o=[];return n.forEach(e=>{let t=e.length;for(;t>a&&i<3;){let n=e.substring(0,a);e=e.substring(a,e.length),t=e.length,o[o.length]=n,i++}if(i==3){let e=o[o.length-1];o[o.length-1]=e.substring(0,e.length-4)+"..."}else o[o.length]=e;i=0}),o.forEach(e=>{r.append("tspan").attr("x",x.rect_padding).attr("dy",x.line_height).text(e)}),r},R9=(e,t,n,s)=>{const r=t.node().getTotalLength(),o=t.node().getPointAtLength(r*.5),a="rel"+Fd;Fd++;const c=e.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(s),i=c.node().getBBox();e.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-i.width/2).attr("y",o.y-i.height/2).attr("width",i.width).attr("height",i.height).attr("fill","white").attr("fill-opacity","85%")},L9=function(e,t,n,s,o){const a=n.edge(Xn(t.src),Xn(t.dst)),r=Oo().x(function(e){return e.x}).y(function(e){return e.y}),i=e.insert("path","#"+s).attr("class","er relationshipLine").attr("d",r(a.points)).attr("fill","none");t.type==o.db.Relationships.CONTAINS?i.attr("marker-start","url("+h.getUrl(x.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(i.attr("stroke-dasharray","10,7"),i.attr("marker-end","url("+h.getUrl(x.arrowMarkerAbsolute)+"#"+gd.ReqMarkers.ARROW+"_line_ending)")),R9(e,i,x,`<<${t.type}>>`)},N9=(t,n,s)=>{Object.keys(t).forEach(o=>{let i=t[o];o=Xn(o),e.info("Added new requirement: ",o);const a=s.append("g").attr("id",o),c="req-"+o,l=Td(a,c);let d=Rd(a,o+"_title",[`<<${i.type}>>`,`${i.name}`]);Ud(a,o+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],d.y);const r=l.node().getBBox();n.setNode(o,{width:r.width,height:r.height,shape:"rect",id:o})})},D9=(e,t,n)=>{Object.keys(e).forEach(s=>{let r=e[s];const o=Xn(s),i=n.append("g").attr("id",o),a="element-"+o,l=Td(i,a);let d=Rd(i,a+"_title",[`<<Element>>`,`${s}`]);Ud(i,a+"_body",[`Type: ${r.type||"Not Specified"}`,`Doc Ref: ${r.docRef||"None"}`],d.y);const c=l.node().getBBox();t.setNode(o,{width:c.width,height:c.height,shape:"rect",id:o})})},z9=(e,t)=>(e.forEach(function(e){let n=Xn(e.src),s=Xn(e.dst);t.setEdge(n,s,{relationship:e})}),e),T9=function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&(e.select("#"+n),e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )"))})},Xn=e=>e.replace(/\s/g,"").replace(/\./g,"_"),M9=(e,n,s,o)=>{x=t().requirement,o.db.clear(),o.parser.parse(e);const d=x.securityLevel;let u;d==="sandbox"&&(u=i("#i"+n));const p=i(d==="sandbox"?u.nodes()[0].contentDocument.body:"body"),a=p.select(`[id='${n}']`);gd.insertLineEndings(a,x);const r=new D({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:x.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let g=o.db.getRequirements(),v=o.db.getElements(),h=o.db.getRelationships();N9(g,r,a),D9(v,r,a),z9(h,r),Co(r),T9(a,r),h.forEach(function(e){L9(a,e,r,n,o)});const c=x.rect_padding,l=a.node().getBBox(),m=l.width+c*2,f=l.height+c*2;Me(a,f,m,x.useMaxWidth),a.attr("viewBox",`${l.x-c} ${l.y-c} ${m} ${f}`)},S9={draw:M9},bl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},z=[1,2],T=[1,3],F=[1,5],s=[1,7],o=[2,5],S=[1,15],M=[1,17],c=[1,18],l=[1,19],i=[1,21],u=[1,22],h=[1,23],m=[1,29],f=[1,30],p=[1,31],g=[1,32],v=[1,33],b=[1,34],j=[1,35],y=[1,36],_=[1,37],w=[1,38],O=[1,39],a=[1,40],C=[1,43],E=[1,44],k=[1,45],x=[1,46],d=[1,47],n=[1,48],R=[1,51],t=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],D=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],P=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],A=[67,68,69],r=[1,121],H=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],L={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:return o.apply(a[c]),a[c];case 5:this.$=[];break;case 6:a[c-1].push(a[c]),this.$=a[c-1];break;case 7:case 8:this.$=a[c];break;case 9:this.$=[];break;case 12:a[c-3].type="addParticipant",a[c-3].description=o.parseMessage(a[c-1]),this.$=a[c-3];break;case 13:a[c-1].type="addParticipant",this.$=a[c-1];break;case 14:a[c-3].type="addActor",a[c-3].description=o.parseMessage(a[c-1]),this.$=a[c-3];break;case 15:a[c-1].type="addActor",this.$=a[c-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(a[c-2]),sequenceIndexStep:Number(a[c-1]),sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(a[c-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:o.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:a[c-1]};break;case 22:this.$={type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:a[c-1]};break;case 28:o.setDiagramTitle(a[c].substring(6)),this.$=a[c].substring(6);break;case 29:o.setDiagramTitle(a[c].substring(7)),this.$=a[c].substring(7);break;case 30:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 31:case 32:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 33:a[c-1].unshift({type:"loopStart",loopText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.LOOP_START}),a[c-1].push({type:"loopEnd",loopText:a[c-2],signalType:o.LINETYPE.LOOP_END}),this.$=a[c-1];break;case 34:a[c-1].unshift({type:"rectStart",color:o.parseMessage(a[c-2]),signalType:o.LINETYPE.RECT_START}),a[c-1].push({type:"rectEnd",color:o.parseMessage(a[c-2]),signalType:o.LINETYPE.RECT_END}),this.$=a[c-1];break;case 35:a[c-1].unshift({type:"optStart",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.OPT_START}),a[c-1].push({type:"optEnd",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.OPT_END}),this.$=a[c-1];break;case 36:a[c-1].unshift({type:"altStart",altText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.ALT_START}),a[c-1].push({type:"altEnd",signalType:o.LINETYPE.ALT_END}),this.$=a[c-1];break;case 37:a[c-1].unshift({type:"parStart",parText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.PAR_START}),a[c-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=a[c-1];break;case 38:a[c-1].unshift({type:"criticalStart",criticalText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.CRITICAL_START}),a[c-1].push({type:"criticalEnd",signalType:o.LINETYPE.CRITICAL_END}),this.$=a[c-1];break;case 39:a[c-1].unshift({type:"breakStart",breakText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.BREAK_START}),a[c-1].push({type:"breakEnd",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.BREAK_END}),this.$=a[c-1];break;case 42:this.$=a[c-3].concat([{type:"option",optionText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.CRITICAL_OPTION},a[c]]);break;case 44:this.$=a[c-3].concat([{type:"and",parText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.PAR_AND},a[c]]);break;case 46:this.$=a[c-3].concat([{type:"else",altText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.ALT_ELSE},a[c]]);break;case 47:this.$=[a[c-1],{type:"addNote",placement:a[c-2],actor:a[c-1].actor,text:a[c]}];break;case 48:a[c-2]=[].concat(a[c-1],a[c-1]).slice(0,2),a[c-2][0]=a[c-2][0].actor,a[c-2][1]=a[c-2][1].actor,this.$=[a[c-1],{type:"addNote",placement:o.PLACEMENT.OVER,actor:a[c-2].slice(0,2),text:a[c]}];break;case 49:this.$=[a[c-1],{type:"addLinks",actor:a[c-1].actor,text:a[c]}];break;case 50:this.$=[a[c-1],{type:"addALink",actor:a[c-1].actor,text:a[c]}];break;case 51:this.$=[a[c-1],{type:"addProperties",actor:a[c-1].actor,text:a[c]}];break;case 52:this.$=[a[c-1],{type:"addDetails",actor:a[c-1].actor,text:a[c]}];break;case 55:this.$=[a[c-2],a[c]];break;case 56:this.$=a[c];break;case 57:this.$=o.PLACEMENT.LEFTOF;break;case 58:this.$=o.PLACEMENT.RIGHTOF;break;case 59:this.$=[a[c-4],a[c-1],{type:"addMessage",from:a[c-4].actor,to:a[c-1].actor,signalType:a[c-3],msg:a[c]},{type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:a[c-1]}];break;case 60:this.$=[a[c-4],a[c-1],{type:"addMessage",from:a[c-4].actor,to:a[c-1].actor,signalType:a[c-3],msg:a[c]},{type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:a[c-4]}];break;case 61:this.$=[a[c-3],a[c-1],{type:"addMessage",from:a[c-3].actor,to:a[c-1].actor,signalType:a[c-2],msg:a[c]}];break;case 62:this.$={type:"addParticipant",actor:a[c]};break;case 63:this.$=o.LINETYPE.SOLID_OPEN;break;case 64:this.$=o.LINETYPE.DOTTED_OPEN;break;case 65:this.$=o.LINETYPE.SOLID;break;case 66:this.$=o.LINETYPE.DOTTED;break;case 67:this.$=o.LINETYPE.SOLID_CROSS;break;case 68:this.$=o.LINETYPE.DOTTED_CROSS;break;case 69:this.$=o.LINETYPE.SOLID_POINT;break;case 70:this.$=o.LINETYPE.DOTTED_POINT;break;case 71:this.$=o.parseMessage(a[c].trim().substring(1));break;case 72:o.parseDirective("%%{","open_directive");break;case 73:o.parseDirective(a[c],"type_directive");break;case 74:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 75:o.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:z,5:T,6:4,7:F,11:6,79:s},{1:[3]},{3:8,4:z,5:T,6:4,7:F,11:6,79:s},{3:9,4:z,5:T,6:4,7:F,11:6,79:s},{3:10,4:z,5:T,6:4,7:F,11:6,79:s},e([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},{13:49,14:[1,50],82:R},e([14,82],[2,73]),e(t,[2,6]),{6:41,10:52,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},e(t,[2,8]),e(t,[2,9]),{17:53,69:n},{17:54,69:n},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:n},{17:60,69:n},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},e(t,[2,28]),e(t,[2,29]),{35:[1,66]},{37:[1,67]},e(t,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},e(t,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:n},{17:89,69:n},{17:90,69:n},{17:91,69:n},e([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},e(t,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},e(t,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},e(t,[2,20]),{5:[1,102]},{5:[1,103]},e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),e(t,[2,30]),e(t,[2,31]),e(D,o,{8:104}),e(D,o,{8:105}),e(D,o,{8:106}),e(B,o,{44:107,8:108}),e(I,o,{46:109,8:110}),e(P,o,{48:111,8:112}),e(D,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:n},e(A,[2,63]),e(A,[2,64]),e(A,[2,65]),e(A,[2,66]),e(A,[2,67]),e(A,[2,68]),e(A,[2,69]),e(A,[2,70]),{17:117,69:n},{17:119,57:118,69:n},{69:[2,57]},{69:[2,58]},{55:120,78:r},{55:122,78:r},{55:123,78:r},{55:124,78:r},e(H,[2,10]),{13:125,82:R},{82:[2,74]},{19:[1,126]},e(t,[2,13]),{19:[1,127]},e(t,[2,15]),{5:[1,128]},e(t,[2,18]),e(t,[2,19]),e(t,[2,21]),e(t,[2,22]),{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,129],41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,130],41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,131],41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},{40:[1,132]},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,45],41:j,42:y,43:_,45:w,47:O,49:a,52:[1,133],53:C,58:E,59:k,60:x,61:d,69:n,79:s},{40:[1,134]},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,43],41:j,42:y,43:_,45:w,47:O,49:a,51:[1,135],53:C,58:E,59:k,60:x,61:d,69:n,79:s},{40:[1,136]},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,41],41:j,42:y,43:_,45:w,47:O,49:a,50:[1,137],53:C,58:E,59:k,60:x,61:d,69:n,79:s},{4:S,5:M,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:i,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,138],41:j,42:y,43:_,45:w,47:O,49:a,53:C,58:E,59:k,60:x,61:d,69:n,79:s},{17:139,69:n},{17:140,69:n},{55:141,78:r},{55:142,78:r},{55:143,78:r},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},e(t,[2,17]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),e(t,[2,36]),{19:[1,148]},e(t,[2,37]),{19:[1,149]},e(t,[2,38]),{19:[1,150]},e(t,[2,39]),{55:151,78:r},{55:152,78:r},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:n},e(H,[2,11]),e(t,[2,12]),e(t,[2,14]),e(B,o,{8:108,44:154}),e(I,o,{8:110,46:155}),e(P,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},V=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return n.yytext=n.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return n.yytext=n.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^->:\n,;]+?([-]*[^->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+\->:\n,;]+((?!(-x|--x|-\)|--\)))[-]*[^+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[)])/i,/^(?:--[)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return e}();L.lexer=V;function N(){this.yy={}}return N.prototype=L,L.Parser=N,new N}(),bl.parser=bl,C9=bl,x9=e=>e.match(/^\s*sequenceDiagram/)!==null,As=void 0,At={},ke=[],fa=!1,v9=function(e,t,n){_.parseDirective(this,e,t,n)},pl=function(e,t,n,s){const o=At[e];if(o&&t===o.name&&n==null)return;(n==null||n.text==null)&&(n={text:t,wrap:null,type:s}),(s==null||n.text==null)&&(n={text:t,wrap:null,type:s}),At[e]={name:t,description:n.text,wrap:n.wrap===void 0&&Mn()||!!n.wrap,prevActor:As,links:{},properties:{},actorCnt:null,rectData:null,type:s||"participant"},As&&At[As]&&(At[As].nextActor=e),As=e},p9=e=>{let t,n=0;for(t=0;t<ke.length;t++)ke[t].type===Rs.ACTIVE_START&&ke[t].from.actor===e&&n++,ke[t].type===Rs.ACTIVE_END&&ke[t].from.actor===e&&n--;return n},f9=function(e,t,n,s){ke.push({from:e,to:t,message:n.text,wrap:n.wrap===void 0&&Mn()||!!n.wrap,answer:s})},S=function(e,t,n={text:void 0,wrap:void 0},s){if(s===Rs.ACTIVE_END){const t=p9(e.actor);if(t<1){let t=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw t.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},t}}return ke.push({from:e,to:t,message:n.text,wrap:n.wrap===void 0&&Mn()||!!n.wrap,type:s}),!0},d9=function(){return ke},a9=function(){return At},Ls=function(e){return At[e]},o9=function(){return Object.keys(At)},s9=function(){fa=!0},n9=function(){fa=!1},e9=()=>fa,Jv=function(e){lu=e},Mn=()=>lu!==void 0?lu:t().sequence.wrap,Qv=function(){At={},ke=[],fa=!1,xe()},Gv=function(t){const n=t.trim(),s={text:n.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:n.match(/^:?wrap:/)!==null||n.match(/^:?nowrap:/)===null&&void 0};return e.debug("parseMessage:",s),s},Rs={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},Uv={FILLED:0,OPEN:1},Wv={LEFTOF:0,RIGHTOF:1,OVER:2},gu=function(e,t,n){({actor:e,placement:t,message:n.text,wrap:n.wrap===void 0&&Mn()||!!n.wrap});const s=[].concat(e,e);ke.push({from:s[0],to:s[1],message:n.text,wrap:n.wrap===void 0&&Mn()||!!n.wrap,type:Rs.NOTE,placement:t})},vu=function(n,s){const o=Ls(n);try{let e=Ne(s.text,t());e=e.replace(/&amp;/g,"&"),e=e.replace(/&equals;/g,"=");const n=JSON.parse(e);ju(o,n)}catch(t){e.error("error while parsing actor link text",t)}},Lv=function(n,s){const r=Ls(n);try{const n={};let e=Ne(s.text,t());var i,a,o=e.indexOf("@");e=e.replace(/&amp;/g,"&"),e=e.replace(/&equals;/g,"="),i=e.slice(0,o-1).trim(),a=e.slice(o+1).trim(),n[i]=a,ju(r,n)}catch(t){e.error("error while parsing actor link text",t)}};function ju(e,t){if(e.links==null)e.links=t;else for(let n in t)e.links[n]=t[n]}yu=function(n,s){const o=Ls(n);try{let e=Ne(s.text,t());const n=JSON.parse(e);kv(o,n)}catch(t){e.error("error while parsing actor properties text",t)}};function kv(e,t){if(e.properties==null)e.properties=t;else for(let n in t)e.properties[n]=t[n]}wu=function(t,n){const s=Ls(t),o=document.getElementById(n.text);try{const t=o.innerHTML,e=JSON.parse(t);e.properties&&kv(s,e.properties),e.links&&ju(s,e.links)}catch(t){e.error("error while parsing actor details text",t)}},pv=function(e,t){return e!==void 0&&e.properties!==void 0?e.properties[t]:void 0},Ou=function(e){if(Array.isArray(e))e.forEach(function(e){Ou(e)});else switch(e.type){case"sequenceIndex":ke.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":pl(e.actor,e.actor,e.description,"participant");break;case"addActor":pl(e.actor,e.actor,e.description,"actor");break;case"activeStart":S(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":S(e.actor,void 0,void 0,e.signalType);break;case"addNote":gu(e.actor,e.placement,e.text);break;case"addLinks":vu(e.actor,e.text);break;case"addALink":Lv(e.actor,e.text);break;case"addProperties":yu(e.actor,e.text);break;case"addDetails":wu(e.actor,e.text);break;case"addMessage":S(e.from,e.to,e.msg,e.signalType);break;case"loopStart":S(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":S(void 0,void 0,void 0,e.signalType);break;case"rectStart":S(void 0,void 0,e.color,e.signalType);break;case"rectEnd":S(void 0,void 0,void 0,e.signalType);break;case"optStart":S(void 0,void 0,e.optText,e.signalType);break;case"optEnd":S(void 0,void 0,void 0,e.signalType);break;case"altStart":S(void 0,void 0,e.altText,e.signalType);break;case"else":S(void 0,void 0,e.altText,e.signalType);break;case"altEnd":S(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":_e(e.text);break;case"parStart":S(void 0,void 0,e.parText,e.signalType);break;case"and":S(void 0,void 0,e.parText,e.signalType);break;case"parEnd":S(void 0,void 0,void 0,e.signalType);break;case"criticalStart":S(void 0,void 0,e.criticalText,e.signalType);break;case"option":S(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":S(void 0,void 0,void 0,e.signalType);break;case"breakStart":S(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":S(void 0,void 0,void 0,e.signalType);break}},xu={addActor:pl,addMessage:f9,addSignal:S,addLinks:vu,addDetails:wu,addProperties:yu,autoWrap:Mn,setWrap:Jv,enableSequenceNumbers:s9,disableSequenceNumbers:n9,showSequenceNumbers:e9,getMessages:d9,getActors:a9,getActor:Ls,getActorKeys:o9,getActorProperty:pv,getAccTitle:Se,getDiagramTitle:wt,setDiagramTitle:xt,parseDirective:v9,getConfig:()=>t().sequence,clear:Qv,parseMessage:Gv,LINETYPE:Rs,ARROWTYPE:Uv,PLACEMENT:Wv,addNote:gu,setAccTitle:_e,apply:Ou,setAccDescription:Fe,getAccDescription:Te},ul=[],rv=e=>{ul.push(e)},ku=()=>{ul.forEach(e=>{e()}),ul=[]},Ti=function(e,t){const n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},Mu=(e,t)=>{rv(()=>{const n=document.querySelectorAll(e);if(n.length===0)return;n[0].addEventListener("mouseover",function(){P7("actor"+t+"_popup")}),n[0].addEventListener("mouseout",function(){k7("actor"+t+"_popup")})})},Q7=function(e,t,n,s,o){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const d=t.links,u=t.actorCnt,i=t.rectData;var c,l,h,p,f="none";o&&(f="block !important");const r=e.append("g");r.attr("id","actor"+u+"_popup"),r.attr("class","actorPopupMenu"),r.attr("display",f),Mu("#actor"+u+"_popup",u),h="",i.class!==void 0&&(h=" "+i.class);let m=i.width>n?i.width:n;const a=r.append("rect");if(a.attr("class","actorPopupMenuPanel"+h),a.attr("x",i.x),a.attr("y",i.height),a.attr("fill",i.fill),a.attr("stroke",i.stroke),a.attr("width",m),a.attr("height",i.height),a.attr("rx",i.rx),a.attr("ry",i.ry),d!=null){c=20;for(let e in d)l=r.append("a"),p=(0,Ht.sanitizeUrl)(d[e]),l.attr("xlink:href",p),l.attr("target","_blank"),t7(s)(e,l,i.x+10,i.height+c,m,20,{class:"actor"},s),c+=30}return a.attr("height",c),{height:i.height+c,width:m}},Du=function(e,t,n,s){const o=e.append("image");o.attr("x",t),o.attr("y",n);var i=(0,Ht.sanitizeUrl)(s);o.attr("xlink:href",i)},Nu=function(e,t,n,s){const o=e.append("use");o.attr("x",t),o.attr("y",n);var i=(0,Ht.sanitizeUrl)(s);o.attr("xlink:href","#"+i)},U7=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},B7=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},P7=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},k7=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},is=function(e,t){let o=0,n=0;const r=t.text.split(h.lineBreakRegex);let a=[],i=0,s=()=>t.y;if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":s=()=>Math.round(t.y+t.textMargin);break;case"middle":case"center":s=()=>Math.round(t.y+(o+n+t.textMargin)/2);break;case"bottom":case"end":s=()=>Math.round(t.y+(o+n+2*t.textMargin)-t.textMargin);break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,l]of r.entries()){t.textMargin!==void 0&&t.textMargin===0&&t.fontSize!==void 0&&(i=d*t.fontSize);const c=e.append("text");if(c.attr("x",t.x),c.attr("y",s()),t.anchor!==void 0&&c.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&c.style("font-family",t.fontFamily),t.fontSize!==void 0&&c.style("font-size",t.fontSize),t.fontWeight!==void 0&&c.style("font-weight",t.fontWeight),t.fill!==void 0&&c.attr("fill",t.fill),t.class!==void 0&&c.attr("class",t.class),t.dy!==void 0?c.attr("dy",t.dy):i!==0&&c.attr("dy",i),t.tspan){const e=c.append("tspan");e.attr("x",t.x),t.fill!==void 0&&e.attr("fill",t.fill),e.text(l)}else c.text(l);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(c._groups||c)[0][0].getBBox().height,o=n),a.push(c)}return a},Lu=function(e,t){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}const n=e.append("polygon");return n.attr("points",s(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,is(e,t),n},Ve=-1,Pu=(e,t)=>{if(!e.selectAll)return;e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)},O7=function(e,t,n){const a=t.x+t.width/2,r=e.append("g");var i,o=r;t.y===0&&(Ve++,o.append("line").attr("id","actor"+Ve).attr("x1",a).attr("y1",5).attr("x2",a).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=r.append("g"),t.actorCnt=Ve,t.links!=null&&(o.attr("id","root-"+Ve),Mu("#root-"+Ve,Ve)));const s=ui();i="actor",t.properties!=null&&t.properties.class?i=t.properties.class:s.fill="#eaeaea",s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height,s.class=i,s.rx=3,s.ry=3;const c=Ti(o,s);if(t.rectData=s,t.properties!=null&&t.properties.icon){const e=t.properties.icon.trim();e.charAt(0)==="@"?Nu(o,s.x+s.width-20,s.y+10,e.substr(1)):Du(o,s.x+s.width-20,s.y+10,e)}Iu(n)(t.description,o,s.x,s.y,s.width,s.height,{class:"actor"},n);let l=t.height;if(c.node){const e=c.node().getBBox();t.height=e.height,l=e.height}return l},_7=function(e,t,n){const o=t.x+t.width/2;t.y===0&&(Ve++,e.append("line").attr("id","actor"+Ve).attr("x1",o).attr("y1",80).attr("x2",o).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const i=e.append("g");i.attr("class","actor-man");const s=ui();s.x=t.x,s.y=t.y,s.fill="#eaeaea",s.width=t.width,s.height=t.height,s.class="actor",s.rx=3,s.ry=3,i.append("line").attr("id","actor-man-torso"+Ve).attr("x1",o).attr("y1",t.y+25).attr("x2",o).attr("y2",t.y+45),i.append("line").attr("id","actor-man-arms"+Ve).attr("x1",o-18).attr("y1",t.y+33).attr("x2",o+18).attr("y2",t.y+33),i.append("line").attr("x1",o-18).attr("y1",t.y+60).attr("x2",o).attr("y2",t.y+45),i.append("line").attr("x1",o).attr("y1",t.y+45).attr("x2",o+16).attr("y2",t.y+60);const a=i.append("circle");a.attr("cx",t.x+t.width/2),a.attr("cy",t.y+10),a.attr("r",15),a.attr("width",t.width),a.attr("height",t.height);const r=i.node().getBBox();return t.height=r.height,Iu(n)(t.description,i,s.x,s.y+35,s.width,s.height,{class:"actor"},n),t.height},j7=function(e,t,n){switch(t.type){case"actor":return _7(e,t,n);case"participant":return O7(e,t,n)}},v7=function(e){return e.append("g")},g7=function(e,t,n,s,o){const i=ui(),a=t.anchored;i.x=t.startx,i.y=t.starty,i.class="activation"+o%3,i.width=t.stopx-t.startx,i.height=n-t.starty,Ti(a,i)},p7=function(e,t,n,s){const{boxMargin:c,boxTextMargin:i,labelBoxHeight:f,labelBoxWidth:h,messageFontFamily:l,messageFontSize:d,messageFontWeight:u}=s,a=e.append("g"),r=function(e,t,n,s){return a.append("line").attr("x1",e).attr("y1",t).attr("x2",n).attr("y2",s).attr("class","loopLine")};r(t.startx,t.starty,t.stopx,t.starty),r(t.stopx,t.starty,t.stopx,t.stopy),r(t.startx,t.stopy,t.stopx,t.stopy),r(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(e){r(t.startx,e.y,t.stopx,e.y).style("stroke-dasharray","3, 3")});let o=cl();o.text=n,o.x=t.startx,o.y=t.starty,o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.anchor="middle",o.valign="middle",o.tspan=!1,o.width=h||50,o.height=f||20,o.textMargin=i,o.class="labelText",Lu(a,o),o=cl(),o.text=t.title,o.x=t.startx+h/2+(t.stopx-t.startx)/2,o.y=t.starty+c+i,o.anchor="middle",o.valign="middle",o.textMargin=i,o.class="loopText",o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.wrap=!0;let m=is(a,o);return t.sectionTitles!==void 0&&t.sectionTitles.forEach(function(e,n){if(e.message){o.text=e.message,o.x=t.startx+(t.stopx-t.startx)/2,o.y=t.sections[n].y+c+i,o.class="loopText",o.anchor="middle",o.valign="middle",o.tspan=!1,o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.wrap=t.wrap,m=is(a,o);let s=Math.round(m.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));t.sections[n].height+=s-(c+i)}}),t.height=Math.round(t.stopy-t.starty),a},f7=function(e,t){const n=Ti(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"});n.lower()},m7=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},l7=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},c7=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},r7=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},i7=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},o7=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},s7=function(e){const t=e.append("defs"),n=t.append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5);n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},cl=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},ui=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Iu=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{actorFontSize:l,actorFontFamily:m,actorFontWeight:f}=c;let u=l&&l.replace?l.replace("px",""):l;const d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const h=t*u-u*(d.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").style("font-size",l).style("font-weight",f).style("font-family",m);c.append("tspan").attr("x",s+i/2).attr("dy",h).text(d[t]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(c,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),t7=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{actorFontSize:l,actorFontFamily:u,actorFontWeight:m}=c,d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const c=t*l-l*(d.length-1)/2,i=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",l).style("font-weight",m).style("font-family",u);i.append("tspan").attr("x",s).attr("dy",c).text(d[t]),i.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(i,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),C={drawRect:Ti,drawText:is,drawLabel:Lu,drawActor:j7,drawPopup:Q7,drawImage:Du,drawEmbeddedImage:Nu,anchorElement:v7,drawActivation:g7,drawLoop:p7,drawBackgroundRect:f7,insertArrowHead:r7,insertArrowFilledHead:i7,insertSequenceNumber:o7,insertArrowCrossHead:s7,insertDatabaseIcon:m7,insertComputerIcon:l7,insertClockIcon:c7,getTextObj:cl,getNoteRect:ui,popupMenu:U7,popdownMenu:B7,fixLifeLineHeights:Pu,sanitizeUrl:Ht.sanitizeUrl},n={},a={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Ku(t())},updateVal:function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},updateBounds:function(e,t,s,o){const i=this;let r=0;function c(c){return function(d){r++;const u=i.sequenceItems.length-r+1;i.updateVal(d,"starty",t-u*n.boxMargin,Math.min),i.updateVal(d,"stopy",o+u*n.boxMargin,Math.max),i.updateVal(a.data,"startx",e-u*n.boxMargin,Math.min),i.updateVal(a.data,"stopx",s+u*n.boxMargin,Math.max),c==="activation"||(i.updateVal(d,"startx",e-u*n.boxMargin,Math.min),i.updateVal(d,"stopx",s+u*n.boxMargin,Math.max),i.updateVal(a.data,"starty",t-u*n.boxMargin,Math.min),i.updateVal(a.data,"stopy",o+u*n.boxMargin,Math.max))}}this.sequenceItems.forEach(c()),this.activations.forEach(c("activation"))},insert:function(e,t,n,s){const o=Math.min(e,n),i=Math.max(e,n),r=Math.min(t,s),c=Math.max(t,s);this.updateVal(a.data,"startx",o,Math.min),this.updateVal(a.data,"starty",r,Math.min),this.updateVal(a.data,"stopx",i,Math.max),this.updateVal(a.data,"stopy",c,Math.max),this.updateBounds(o,r,i,c)},newActivation:function(e,t,s){const o=s[e.from.actor],a=Xo(e.from.actor).length||0,i=o.x+o.width/2+(a-1)*n.activationWidth/2;this.activations.push({startx:i,starty:this.verticalPos+2,stopx:i+n.activationWidth,stopy:void 0,actor:e.from.actor,anchored:C.anchorElement(t)})},endActivation:function(e){const t=this.activations.map(function(e){return e.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:a.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},e7=function(e,t){a.bumpVerticalPos(n.boxMargin),t.height=n.boxMargin,t.starty=a.getVerticalPos();const o=C.getNoteRect();o.x=t.startx,o.y=t.starty,o.width=t.width||n.width,o.class="note";const r=e.append("g"),c=C.drawRect(r,o),s=C.getTextObj();s.x=t.startx,s.y=t.starty,s.width=o.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=n.noteFontFamily,s.fontSize=n.noteFontSize,s.fontWeight=n.noteFontWeight,s.anchor=n.noteAlign,s.textMargin=n.noteMargin,s.valign="center";const l=is(r,s),i=Math.round(l.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));c.attr("height",i+2*n.noteMargin),t.height+=i+2*n.noteMargin,a.bumpVerticalPos(i+2*n.noteMargin),t.stopy=t.starty+i+2*n.noteMargin,t.stopx=t.startx+o.width,a.insert(t.startx,t.starty,t.stopx,t.stopy),a.models.addNote(t)},os=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),Bn=e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),al=e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight});function vP(e,t){a.bumpVerticalPos(10);const{startx:i,stopx:r,message:l}=t,u=h.splitBreaks(l).length,c=p.calculateTextDimensions(l,os(n)),d=c.height/u;t.height+=d,a.bumpVerticalPos(d);let o,s=c.height-10;const m=c.width;if(i===r){o=a.getVerticalPos()+s,n.rightAngles||(s+=n.boxMargin,o=a.getVerticalPos()+s),s+=30;const e=Math.max(m/2,n.width/2);a.insert(i-e,a.getVerticalPos()-10+s,r+e,a.getVerticalPos()+30+s)}else s+=n.boxMargin,o=a.getVerticalPos()+s,a.insert(i,o-10,r,o);return a.bumpVerticalPos(s),t.height+=s,t.stopy=t.starty+t.height,a.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),o}J5=function(e,t,s,o){const{startx:r,stopx:d,starty:h,message:u,type:c,sequenceIndex:m,sequenceVisible:f}=t,g=p.calculateTextDimensions(u,os(n)),a=C.getTextObj();a.x=r,a.y=h+10,a.width=d-r,a.class="messageText",a.dy="1em",a.text=u,a.fontFamily=n.messageFontFamily,a.fontSize=n.messageFontSize,a.fontWeight=n.messageFontWeight,a.anchor=n.messageAlign,a.valign="center",a.textMargin=n.wrapPadding,a.tspan=!1,is(e,a);const v=g.width;let i;r===d?n.rightAngles?i=e.append("path").attr("d",`M  ${r},${s} H ${r+Math.max(n.width/2,v/2)} V ${s+25} H ${r}`):i=e.append("path").attr("d","M "+r+","+s+" C "+(r+60)+","+(s-10)+" "+(r+60)+","+(s+30)+" "+r+","+(s+20)):(i=e.append("line"),i.attr("x1",r),i.attr("y1",s),i.attr("x2",d),i.attr("y2",s)),c===o.db.LINETYPE.DOTTED||c===o.db.LINETYPE.DOTTED_CROSS||c===o.db.LINETYPE.DOTTED_POINT||c===o.db.LINETYPE.DOTTED_OPEN?(i.style("stroke-dasharray","3, 3"),i.attr("class","messageLine1")):i.attr("class","messageLine0");let l="";n.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),i.attr("stroke-width",2),i.attr("stroke","none"),i.style("fill","none"),(c===o.db.LINETYPE.SOLID||c===o.db.LINETYPE.DOTTED)&&i.attr("marker-end","url("+l+"#arrowhead)"),(c===o.db.LINETYPE.SOLID_POINT||c===o.db.LINETYPE.DOTTED_POINT)&&i.attr("marker-end","url("+l+"#filled-head)"),(c===o.db.LINETYPE.SOLID_CROSS||c===o.db.LINETYPE.DOTTED_CROSS)&&i.attr("marker-end","url("+l+"#crosshead)"),(f||n.showSequenceNumbers)&&(i.attr("marker-start","url("+l+"#sequencenumber)"),e.append("text").attr("x",r).attr("y",s+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(m))},il=function(e,t,s,o,i,r){if(i.hideUnusedParticipants===!0){const e=new Set;r.forEach(t=>{e.add(t.from),e.add(t.to)}),s=s.filter(t=>e.has(t))}let l=0,d=0,c=0;for(const r of s){const i=t[r];i.width=i.width||n.width,i.height=Math.max(i.height||n.height,n.height),i.margin=i.margin||n.actorMargin,i.x=l+d,i.y=o;const u=C.drawActor(e,i,n);c=Math.max(c,u),a.insert(i.x,o,i.x+i.width,i.height),l+=i.width,d+=i.margin,a.models.addActor(i)}a.bumpVerticalPos(c)},Uu=function(e,t,s,o){let i=0,a=0;for(const l of s){const r=t[l],d=U5(r),c=C.drawPopup(e,r,d,n,n.forceMenus,o);c.height>i&&(i=c.height),c.width+r.x>a&&(a=c.width+r.x)}return{maxHeight:i,maxWidth:a}},Ku=function(e){V(n,e),e.fontFamily&&(n.actorFontFamily=n.noteFontFamily=n.messageFontFamily=e.fontFamily),e.fontSize&&(n.actorFontSize=n.noteFontSize=n.messageFontSize=e.fontSize),e.fontWeight&&(n.actorFontWeight=n.noteFontWeight=n.messageFontWeight=e.fontWeight)},Xo=function(e){return a.activations.filter(function(t){return t.actor===e})},qu=function(e,t){const n=t[e],s=Xo(e),o=s.reduce(function(e,t){return Math.min(e,t.startx)},n.x+n.width/2),i=s.reduce(function(e,t){return Math.max(e,t.stopx)},n.x+n.width/2);return[o,i]};function lt(t,s,o,i,r){a.bumpVerticalPos(o);let c=i;if(s.id&&s.message&&t[s.id]){const o=t[s.id].width,a=os(n);s.message=p.wrapLabel(`[${s.message}]`,o-2*n.wrapPadding,a),s.width=o,s.wrap=!0;const l=p.calculateTextDimensions(s.message,a),r=Math.max(l.height,n.labelBoxHeight);c=i+r,e.debug(`${r} - ${s.message}`)}r(s),a.bumpVerticalPos(c)}q5=function(s,o,r,c){const{securityLevel:p,sequence:z}=t();n=z;let w;p==="sandbox"&&(w=i("#i"+o));const T=i(p==="sandbox"?w.nodes()[0].contentDocument.body:"body"),F=p==="sandbox"?w.nodes()[0].contentDocument:document;a.init(),e.debug(c.db);const l=p==="sandbox"?T.select(`[id="${o}"]`):i(`[id="${o}"]`),h=c.db.getActors(),b=c.db.getActorKeys(),f=c.db.getMessages(),y=c.db.getDiagramTitle(),x=EP(h,f,c);n.height=AP(h,x),C.insertComputerIcon(l),C.insertDatabaseIcon(l),C.insertClockIcon(l),il(l,h,b,0,n,f);const d=I5(f,h,x,c);C.insertArrowHead(l),C.insertArrowCrossHead(l),C.insertArrowFilledHead(l),C.insertSequenceNumber(l);function S(e,t){const s=a.endActivation(e);s.starty+18>t&&(s.starty=t-6,t+=12),C.drawActivation(l,s,t,n,Xo(e.from.actor).length),a.insert(s.startx,t-10,s.stopx,t)}let m=1,O=1;const k=[];f.forEach(function(t){let s,i,o;switch(t.type){case c.db.LINETYPE.NOTE:i=t.noteModel,e7(l,i);break;case c.db.LINETYPE.ACTIVE_START:a.newActivation(t,l,h);break;case c.db.LINETYPE.ACTIVE_END:S(t,a.getVerticalPos());break;case c.db.LINETYPE.LOOP_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.LOOP_END:s=a.endLoop(),C.drawLoop(l,s,"loop",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.RECT_START:lt(d,t,n.boxMargin,n.boxMargin,e=>a.newLoop(void 0,e.message));break;case c.db.LINETYPE.RECT_END:s=a.endLoop(),C.drawBackgroundRect(l,s),a.models.addLoop(s),a.bumpVerticalPos(s.stopy-a.getVerticalPos());break;case c.db.LINETYPE.OPT_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.OPT_END:s=a.endLoop(),C.drawLoop(l,s,"opt",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.ALT_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.ALT_ELSE:lt(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.ALT_END:s=a.endLoop(),C.drawLoop(l,s,"alt",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.PAR_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.PAR_AND:lt(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.PAR_END:s=a.endLoop(),C.drawLoop(l,s,"par",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.AUTONUMBER:m=t.message.start||m,O=t.message.step||O,t.message.visible?c.db.enableSequenceNumbers():c.db.disableSequenceNumbers();break;case c.db.LINETYPE.CRITICAL_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.CRITICAL_OPTION:lt(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.CRITICAL_END:s=a.endLoop(),C.drawLoop(l,s,"critical",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.BREAK_START:lt(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.BREAK_END:s=a.endLoop(),C.drawLoop(l,s,"break",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;default:try{o=t.msgModel,o.starty=a.getVerticalPos(),o.sequenceIndex=m,o.sequenceVisible=c.db.showSequenceNumbers();const e=vP(l,o);k.push({messageModel:o,lineStartY:e}),a.models.addMessage(o)}catch(t){e.error("error while drawing message",t)}}[c.db.LINETYPE.SOLID_OPEN,c.db.LINETYPE.DOTTED_OPEN,c.db.LINETYPE.SOLID,c.db.LINETYPE.DOTTED,c.db.LINETYPE.SOLID_CROSS,c.db.LINETYPE.DOTTED_CROSS,c.db.LINETYPE.SOLID_POINT,c.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(m=m+O)}),k.forEach(e=>J5(l,e.messageModel,e.lineStartY,c)),n.mirrorActors&&(a.bumpVerticalPos(n.boxMargin*2),il(l,h,b,a.getVerticalPos(),n,f),a.bumpVerticalPos(n.boxMargin),Pu(l,a.getVerticalPos()));const g=Uu(l,h,b,F),{bounds:u}=a.getBounds();e.debug("For line height fix Querying: #"+o+" .actor-line");const M=Su("#"+o+" .actor-line");M.attr("y2",u.stopy);let _=u.stopy-u.starty;_<g.maxHeight&&(_=g.maxHeight);let v=_+2*n.diagramMarginY;n.mirrorActors&&(v=v-n.boxMargin+n.bottomMarginAdj);let j=u.stopx-u.startx;j<g.maxWidth&&(j=g.maxWidth);const E=j+2*n.diagramMarginX;y&&l.append("text").text(y).attr("x",(u.stopx-u.startx)/2-2*n.diagramMarginX).attr("y",-25),Me(l,v,E,n.useMaxWidth);const A=y?40:0;l.attr("viewBox",u.startx-n.diagramMarginX+" -"+(n.diagramMarginY+A)+" "+E+" "+(v+A)),e.debug(`models:`,a.models)};function EP(t,s,o){const i={};return s.forEach(function(e){if(t[e.to]&&t[e.from]){const s=t[e.to];if(e.placement===o.db.PLACEMENT.LEFTOF&&!s.prevActor)return;if(e.placement===o.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;const c=e.placement!==void 0,r=!c,l=c?Bn(n):os(n),d=e.wrap?p.wrapLabel(e.message,n.width-2*n.wrapPadding,l):e.message,u=p.calculateTextDimensions(d,l),a=u.width+2*n.wrapPadding;r&&e.from===s.nextActor?i[e.to]=Math.max(i[e.to]||0,a):r&&e.from===s.prevActor?i[e.from]=Math.max(i[e.from]||0,a):r&&e.from===e.to?(i[e.from]=Math.max(i[e.from]||0,a/2),i[e.to]=Math.max(i[e.to]||0,a/2)):e.placement===o.db.PLACEMENT.RIGHTOF?i[e.from]=Math.max(i[e.from]||0,a):e.placement===o.db.PLACEMENT.LEFTOF?i[s.prevActor]=Math.max(i[s.prevActor]||0,a):e.placement===o.db.PLACEMENT.OVER&&(s.prevActor&&(i[s.prevActor]=Math.max(i[s.prevActor]||0,a/2)),s.nextActor&&(i[e.from]=Math.max(i[e.from]||0,a/2)))}}),e.debug("maxMessageWidthPerActor:",i),i}U5=function(e){let t=0;const s=al(n);for(const i in e.links){const a=p.calculateTextDimensions(i,s),o=a.width+2*n.wrapPadding+2*n.boxMargin;t<o&&(t=o)}return t};function AP(e,t){let s=0;Object.keys(e).forEach(t=>{const o=e[t];o.wrap&&(o.description=p.wrapLabel(o.description,n.width-2*n.wrapPadding,al(n)));const i=p.calculateTextDimensions(o.description,al(n));o.width=o.wrap?n.width:Math.max(n.width,i.width+2*n.wrapPadding),o.height=o.wrap?Math.max(i.height,n.height):n.height,s=Math.max(s,o.height)});for(const o in t){const s=e[o];if(!s)continue;const i=e[s.nextActor];if(!i)continue;const a=t[o],r=a+n.actorMargin-s.width/2-i.width/2;s.margin=Math.max(r,n.actorMargin)}return Math.max(s,n.height)}$5=function(t,s,o){const c=s[t.from].x,l=s[t.to].x,a=t.wrap&&t.message;let r=p.calculateTextDimensions(a?p.wrapLabel(t.message,n.width,Bn(n)):t.message,Bn(n));const i={width:a?n.width:Math.max(n.width,r.width+2*n.noteMargin),height:0,startx:s[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===o.db.PLACEMENT.RIGHTOF?(i.width=a?Math.max(n.width,r.width):Math.max(s[t.from].width/2+s[t.to].width/2,r.width+2*n.noteMargin),i.startx=c+(s[t.from].width+n.actorMargin)/2):t.placement===o.db.PLACEMENT.LEFTOF?(i.width=a?Math.max(n.width,r.width+2*n.noteMargin):Math.max(s[t.from].width/2+s[t.to].width/2,r.width+2*n.noteMargin),i.startx=c-i.width+(s[t.from].width-n.actorMargin)/2):t.to===t.from?(r=p.calculateTextDimensions(a?p.wrapLabel(t.message,Math.max(n.width,s[t.from].width),Bn(n)):t.message,Bn(n)),i.width=a?Math.max(n.width,s[t.from].width):Math.max(s[t.from].width,n.width,r.width+2*n.noteMargin),i.startx=c+(s[t.from].width-i.width)/2):(i.width=Math.abs(c+s[t.from].width/2-(l+s[t.to].width/2))+n.actorMargin,i.startx=c<l?c+s[t.from].width/2-n.actorMargin/2:l+s[t.to].width/2-n.actorMargin/2),a&&(i.message=p.wrapLabel(t.message,i.width-2*n.wrapPadding,Bn(n))),e.debug(`NM:[${i.startx},${i.stopx},${i.starty},${i.stopy}:${i.width},${i.height}=${t.message}]`),i},B5=function(e,t,s){let a=!1;if([s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN,s.db.LINETYPE.SOLID,s.db.LINETYPE.DOTTED,s.db.LINETYPE.SOLID_CROSS,s.db.LINETYPE.DOTTED_CROSS,s.db.LINETYPE.SOLID_POINT,s.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(a=!0),!a)return{};const o=qu(e.from,t),i=qu(e.to,t),r=o[0]<=i[0]?1:0,c=o[0]<i[0]?0:1,l=[...o,...i],d=Math.abs(i[c]-o[r]);e.wrap&&e.message&&(e.message=p.wrapLabel(e.message,Math.max(d+2*n.wrapPadding,n.width),os(n)));const u=p.calculateTextDimensions(e.message,os(n));return{width:Math.max(e.wrap?0:u.width+2*n.wrapPadding,d+2*n.wrapPadding,n.width),height:0,startx:o[r],stopx:i[c],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},I5=function(t,s,o,i){const d={},l=[];let r,u,c;return t.forEach(function(e){switch(e.id=p.random({length:10}),e.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:l.push({id:e.id,msg:e.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:e.message&&(r=l.pop(),d[r.id]=r,d[e.id]=r,l.push(r));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:r=l.pop(),d[r.id]=r;break;case i.db.LINETYPE.ACTIVE_START:{const t=s[e.from?e.from.actor:e.to.actor],i=Xo(e.from?e.from.actor:e.to.actor).length,o=t.x+t.width/2+(i-1)*n.activationWidth/2,r={startx:o,stopx:o+n.activationWidth,actor:e.from.actor,enabled:!0};a.activations.push(r)}break;case i.db.LINETYPE.ACTIVE_END:{const t=a.activations.map(e=>e.actor).lastIndexOf(e.from.actor);delete a.activations.splice(t,1)[0]}break}const t=e.placement!==void 0;t?(u=$5(e,s,i),e.noteModel=u,l.forEach(e=>{r=e,r.from=Math.min(r.from,u.startx),r.to=Math.max(r.to,u.startx+u.width),r.width=Math.max(r.width,Math.abs(r.from-r.to))-n.labelBoxWidth})):(c=B5(e,s,i),e.msgModel=c,c.startx&&c.stopx&&l.length>0&&l.forEach(t=>{if(r=t,c.startx===c.stopx){const t=s[e.from],o=s[e.to];r.from=Math.min(t.x-c.width/2,t.x-t.width/2,r.from),r.to=Math.max(o.x+c.width/2,o.x+t.width/2,r.to),r.width=Math.max(r.width,Math.abs(r.to-r.from))-n.labelBoxWidth}else r.from=Math.min(c.startx,r.from),r.to=Math.max(c.stopx,r.to),r.width=Math.max(r.width,c.width)-n.labelBoxWidth}))}),a.activations=[],e.debug("Loop type widths:",d),d},Yu={bounds:a,drawActors:il,drawActorsPopup:Uu,setConf:Ku,draw:q5},Zc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},l=[1,2],y=[1,3],h=[1,5],n=[1,7],A=[2,5],k=[1,15],S=[1,17],c=[1,21],i=[1,22],d=[1,23],u=[1,24],o=[1,37],m=[1,25],f=[1,26],p=[1,27],g=[1,28],v=[1,29],b=[1,32],j=[1,33],a=[1,34],_=[1,35],w=[1,36],O=[1,39],x=[1,40],C=[1,41],E=[1,42],s=[1,38],z=[1,45],t=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],r=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],M=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],D=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],F={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(t,n,s,o,i,a){var l,d,u,c=a.length-1;switch(i){case 4:return o.setRootDoc(a[c]),a[c];case 5:this.$=[];break;case 6:a[c]!="nl"&&(a[c-1].push(a[c]),this.$=a[c-1]);break;case 7:case 8:this.$=a[c];break;case 9:this.$="nl";break;case 12:this.$=a[c];break;case 13:const e=a[c-1];e.description=o.trimColon(a[c]),this.$=e;break;case 14:this.$={stmt:"relation",state1:a[c-2],state2:a[c]};break;case 15:const t=o.trimColon(a[c]);this.$={stmt:"relation",state1:a[c-3],state2:a[c-1],description:t};break;case 19:this.$={stmt:"state",id:a[c-3],type:"default",description:"",doc:a[c-1]};break;case 20:d=a[c],l=a[c-2].trim(),a[c].match(":")&&(u=a[c].split(":"),d=u[0],l=[l,u[1]]),this.$={stmt:"state",id:d,type:"default",description:l};break;case 21:this.$={stmt:"state",id:a[c-3],type:"default",description:a[c-5],doc:a[c-1]};break;case 22:this.$={stmt:"state",id:a[c],type:"fork"};break;case 23:this.$={stmt:"state",id:a[c],type:"join"};break;case 24:this.$={stmt:"state",id:a[c],type:"choice"};break;case 25:this.$={stmt:"state",id:o.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:a[c-1].trim(),note:{position:a[c-2].trim(),text:a[c].trim()}};break;case 30:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 31:case 32:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:a[c-1].trim(),classes:a[c].trim()};break;case 35:this.$={stmt:"applyClass",id:a[c-1].trim(),styleClass:a[c].trim()};break;case 38:o.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:o.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:o.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:o.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:a[c].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:a[c-2].trim(),classes:[a[c].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:a[c-2].trim(),classes:[a[c].trim()],type:"default",description:""};break;case 50:o.parseDirective("%%{","open_directive");break;case 51:o.parseDirective(a[c],"type_directive");break;case 52:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 53:o.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:l,5:y,6:4,7:h,45:6,60:n},{1:[3]},{3:8,4:l,5:y,6:4,7:h,45:6,60:n},{3:9,4:l,5:y,6:4,7:h,45:6,60:n},{3:10,4:l,5:y,6:4,7:h,45:6,60:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],A,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:k,5:S,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:i,19:d,22:u,24:o,25:m,26:f,27:p,28:g,29:v,32:31,33:b,35:j,37:a,38:_,42:w,45:6,50:O,51:x,52:C,53:E,56:s,60:n},{47:43,48:[1,44],63:z},e([48,63],[2,51]),e(t,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:c,17:i,19:d,22:u,24:o,25:m,26:f,27:p,28:g,29:v,32:31,33:b,35:j,37:a,38:_,42:w,45:6,50:O,51:x,52:C,53:E,56:s,60:n},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12],{14:[1,47],15:[1,48]}),e(t,[2,16]),{18:[1,49]},e(t,[2,18],{20:[1,50]}),{23:[1,51]},e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},e(t,[2,28]),e(t,[2,29]),{34:[1,56]},{36:[1,57]},e(t,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},e(r,[2,44],{57:[1,61]}),e(r,[2,45],{57:[1,62]}),e(t,[2,38]),e(t,[2,39]),e(t,[2,40]),e(t,[2,41]),e(M,[2,36]),{49:63,62:[1,64]},e(M,[2,53]),e(t,[2,7]),e(t,[2,13]),{13:65,24:o,56:s},e(t,[2,17]),e(D,A,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},e(t,[2,30]),e(t,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:z},{63:[2,52]},e(t,[2,14],{14:[1,76]}),{4:k,5:S,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:i,19:d,21:[1,77],22:u,24:o,25:m,26:f,27:p,28:g,29:v,32:31,33:b,35:j,37:a,38:_,42:w,45:6,50:O,51:x,52:C,53:E,56:s,60:n},e(t,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),e(r,[2,46]),e(r,[2,47]),e(M,[2,37]),e(t,[2,15]),e(t,[2,19]),e(D,A,{8:81}),e(t,[2,26]),e(t,[2,27]),{4:k,5:S,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:i,19:d,21:[1,82],22:u,24:o,25:m,26:f,27:p,28:g,29:v,32:31,33:b,35:j,37:a,38:_,42:w,45:6,50:O,51:x,52:C,53:E,56:s,60:n},e(t,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},N=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),n.yytext=n.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),n.yytext=n.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),n.yytext=n.yytext.substr(2).trim(),31;case 69:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return n.yytext=n.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return e}();F.lexer=N;function T(){this.yy={}}return T.prototype=F,F.Parser=T,new T}(),Zc.parser=Zc,Zu=Zc,P5=(e,t)=>{var n;return((n=t?.state)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*stateDiagram/)!==null},D5=(e,t)=>{var n;return e.match(/^\s*stateDiagram-v2/)!==null||!!(e.match(/^\s*stateDiagram/)&&((n=t?.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},t1="LR",T5="TB",Ko="state",Gc="relation",M5="classDef",A5="applyClass",ko="default",s1="divider",Kc="[*]",a1="start",r1=Kc,c1="end",u1="color",m1="fill",k5="bgFill",x5=",";function _5(){return{}}j1=t1,Lo=[],No=_5(),w1=()=>({relations:[],states:{},documents:{}}),Ro={root:w1()},G=Ro.root,Do=0,O1=0,m5={LINE:0,DOTTED_LINE:1},h5={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},$o=e=>JSON.parse(JSON.stringify(e)),u5=function(e,t,n){_.parseDirective(this,e,t,n)},l5=t=>{e.info("Setting root doc",t),Lo=t},i5=()=>Lo,Uo=(e,t,n)=>{if(t.stmt===Gc)Uo(e,t.state1,!0),Uo(e,t.state2,!1);else if(t.stmt===Ko&&t.id==="[*]"&&(t.id=n?e.id+"_start":e.id+"_end",t.start=n),t.doc){const s=[];let n=[],e;for(e=0;e<t.doc.length;e++)if(t.doc[e].type===s1){const o=$o(t.doc[e]);o.doc=$o(n),s.push(o),n=[]}else n.push(t.doc[e]);if(s.length>0&&n.length>0){const e={stmt:Ko,id:Zl(),type:"divider",doc:$o(n)};s.push($o(e)),t.doc=s}t.doc.forEach(e=>Uo(t,e,!0))}},s5=()=>(Uo({id:"root"},{id:"root",doc:Lo},!0),{id:"root",doc:Lo}),n5=t=>{let n;t.doc?n=t.doc:n=t,e.info(n),E1(!0),e.info("Extract",n),n.forEach(e=>{switch(e.stmt){case Ko:sn(e.id,e.type,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles);break;case Gc:D1(e.state1,e.state2,e.description);break;case M5:R1(e.id,e.classes);break;case A5:Ac(e.id,e.styleClass);break}})},sn=function(n,s=ko,o=null,i=null,a=null,r=null,c=null,l=null){if(G.states[n]===void 0?(e.info("Adding state ",n,i),G.states[n]={id:n,descriptions:[],type:s,doc:o,note:a,classes:[],styles:[],textStyles:[]}):(G.states[n].doc||(G.states[n].doc=o),G.states[n].type||(G.states[n].type=s)),i&&(e.info("Setting state description",n,i),typeof i=="string"&&Mc(n,i.trim()),typeof i=="object"&&i.forEach(e=>Mc(n,e.trim()))),a&&(G.states[n].note=a,G.states[n].note.text=h.sanitizeText(G.states[n].note.text,t())),r){e.info("Setting state classes",n,r);const t=typeof r=="string"?[r]:r;t.forEach(e=>Ac(n,e.trim()))}if(c){e.info("Setting state styles",n,c);const t=typeof c=="string"?[c]:c;t.forEach(e=>Hg(n,e.trim()))}if(l){e.info("Setting state styles",n,c);const t=typeof l=="string"?[l]:l;t.forEach(e=>Ng(n,e.trim()))}},E1=function(e){Ro={root:w1()},G=Ro.root,Do=0,No=_5(),e||xe()},Eo=function(e){return G.states[e]},Jg=function(){return G.states},Zg=function(){e.info("Documents = ",Ro)},Qg=function(){return G.relations};function k1(e=""){let t=e;return e===Kc&&(Do++,t=`${a1}${Do}`),t}function F1(e="",t=ko){return e===Kc?a1:t}function CH(e=""){let t=e;return e===r1&&(Do++,t=`${c1}${Do}`),t}function EH(e="",t=ko){return e===r1?c1:t}function kH(e,n,s){let o=k1(e.id),a=F1(e.id,e.type),i=k1(n.id),r=F1(n.id,n.type);sn(o,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),sn(i,r,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles),G.relations.push({id1:o,id2:i,relationTitle:h.sanitizeText(s,t())})}D1=function(e,n,s){if(typeof e=="object")kH(e,n,s);else{const o=k1(e),a=F1(e),i=CH(n),r=EH(n);sn(o,a),sn(i,r),G.relations.push({id1:o,id2:i,title:h.sanitizeText(s,t())})}},Mc=function(e,n){const s=G.states[e],o=n.startsWith(":")?n.replace(":","").trim():n;s.descriptions.push(h.sanitizeText(o,t()))},qg=function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},Wg=()=>(O1++,"divider-id-"+O1),R1=function(e,t=""){No[e]===void 0&&(No[e]={id:e,styles:[],textStyles:[]});const n=No[e];t!=null&&t.split(x5).forEach(e=>{const t=e.replace(/([^;]*);/,"$1").trim();if(e.match(u1)){const e=t.replace(m1,k5),s=e.replace(u1,m1);n.textStyles.push(s)}n.styles.push(t)})},Bg=function(){return No},Ac=function(e,t){e.split(",").forEach(function(e){let n=Eo(e);if(n===void 0){const t=e.trim();sn(t),n=Eo(t)}n.classes.push(t)})},Hg=function(e,t){const n=Eo(e);n!==void 0&&n.textStyles.push(t)},Ng=function(e,t){const n=Eo(e);n!==void 0&&n.textStyles.push(t)},zg=()=>j1,Fg=e=>{j1=e},Sg=e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),et={parseDirective:u5,getConfig:()=>t().state,addState:sn,clear:E1,getState:Eo,getStates:Jg,getRelations:Qg,getClasses:Bg,getDirection:zg,addRelation:D1,getDividerId:Wg,setDirection:Fg,cleanupLabel:qg,lineType:m5,relationType:h5,logDocuments:Zg,getRootDoc:i5,setRootDoc:l5,getRootDocV2:s5,extract:n5,trimColon:Sg,getAccTitle:Se,setAccTitle:_e,getAccDescription:Te,setAccDescription:Fe,addStyleClass:R1,setCssClass:Ac,addDescription:Mc,setDiagramTitle:xt,getDiagramTitle:wt},Ec={},kg=(e,t)=>{Ec[e]=t},Cg=e=>Ec[e],G1=()=>Object.keys(Ec),_g=()=>G1().length,jg={get:Cg,set:kg,keys:G1,size:_g},vg=e=>e.append("circle").attr("class","start-state").attr("r",t().state.sizeUnit).attr("cx",t().state.padding+t().state.sizeUnit).attr("cy",t().state.padding+t().state.sizeUnit),pg=e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",t().state.textHeight).attr("class","divider").attr("x2",t().state.textHeight*2).attr("y1",0).attr("y2",0),fg=(e,n)=>{const s=e.append("text").attr("x",2*t().state.padding).attr("y",t().state.textHeight+2*t().state.padding).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.id),o=s.node().getBBox();return e.insert("rect",":first-child").attr("x",t().state.padding).attr("y",t().state.padding).attr("width",o.width+2*t().state.padding).attr("height",o.height+2*t().state.padding).attr("rx",t().state.radius),s},mg=(e,n)=>{const d=function(e,n,s){const o=e.append("tspan").attr("x",2*t().state.padding).text(n);s||o.attr("dy",t().state.textHeight)},u=e.append("text").attr("x",2*t().state.padding).attr("y",t().state.textHeight+1.3*t().state.padding).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.descriptions[0]),o=u.node().getBBox(),s=o.height,i=e.append("text").attr("x",t().state.padding).attr("y",s+t().state.padding*.4+t().state.dividerMargin+t().state.textHeight).attr("class","state-description");let a=!0,r=!0;n.descriptions.forEach(function(e){a||(d(i,e,r),r=!1),a=!1});const h=e.append("line").attr("x1",t().state.padding).attr("y1",t().state.padding+s+t().state.dividerMargin/2).attr("y2",t().state.padding+s+t().state.dividerMargin/2).attr("class","descr-divider"),c=i.node().getBBox(),l=Math.max(c.width,o.width);return h.attr("x2",l+3*t().state.padding),e.insert("rect",":first-child").attr("x",t().state.padding).attr("y",t().state.padding).attr("width",l+2*t().state.padding).attr("height",c.height+s+2*t().state.padding).attr("rx",t().state.radius),e},ug=(e,n,s)=>{const c=t().state.padding,d=2*t().state.padding,m=e.node().getBBox(),i=m.width,l=m.x,u=e.append("text").attr("x",0).attr("y",t().state.titleShift).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.id),f=u.node().getBBox(),r=f.width+d;let o=Math.max(r,i);o===i&&(o=o+d);let a;const h=e.node().getBBox();n.doc,a=l-c,r>i&&(a=(i-o)/2+c),Math.abs(l-h.x)<c&&r>i&&(a=l-(r-i)/2);const p=1-t().state.textHeight;return e.insert("rect",":first-child").attr("x",a).attr("y",p).attr("class",s?"alt-composit":"composit").attr("width",o).attr("height",h.height+t().state.textHeight+t().state.titleShift+1).attr("rx","0"),u.attr("x",a+c),r<=i&&u.attr("x",l+(o-d)/2-r/2+c),e.insert("rect",":first-child").attr("x",a).attr("y",t().state.titleShift-t().state.textHeight-t().state.padding).attr("width",o).attr("height",t().state.textHeight*3).attr("rx",t().state.radius),e.insert("rect",":first-child").attr("x",a).attr("y",t().state.titleShift-t().state.textHeight-t().state.padding).attr("width",o).attr("height",h.height+3+2*t().state.textHeight).attr("rx",t().state.radius),e},lg=e=>(e.append("circle").attr("class","end-state-outer").attr("r",t().state.sizeUnit+t().state.miniPadding).attr("cx",t().state.padding+t().state.sizeUnit+t().state.miniPadding).attr("cy",t().state.padding+t().state.sizeUnit+t().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",t().state.sizeUnit).attr("cx",t().state.padding+t().state.sizeUnit+2).attr("cy",t().state.padding+t().state.sizeUnit+2)),rg=(e,n)=>{let s=t().state.forkWidth,o=t().state.forkHeight;if(n.parentId){let e=s;s=o,o=e}return e.append("rect").style("stroke","black").style("fill","black").attr("width",s).attr("height",o).attr("x",t().state.padding).attr("y",t().state.padding)},og=(e,n,s,o)=>{let a=0;const i=o.append("text");i.style("text-anchor","start"),i.attr("class","noteText");let r=e.replace(/\r\n/g,"<br/>");r=r.replace(/\n/g,"<br/>");const l=r.split(h.lineBreakRegex);let c=1.25*t().state.noteMargin;for(const o of l){const e=o.trim();if(e.length>0){const o=i.append("tspan");if(o.text(e),c===0){const e=o.node().getBBox();c+=e.height}a+=c,o.attr("x",n+t().state.noteMargin),o.attr("y",s+a+1.25*t().state.noteMargin)}}return{textWidth:i.node().getBBox().width,textHeight:a}},tg=(e,n)=>{n.attr("class","state-note");const s=n.append("rect").attr("x",0).attr("y",t().state.padding),o=n.append("g"),{textWidth:i,textHeight:a}=og(e,0,0,o);return s.attr("height",a+2*t().state.noteMargin),s.attr("width",i+t().state.noteMargin*2),s},Q1=function(e,n){const i=n.id,o={id:i,label:n.id,width:0,height:0},s=e.append("g").attr("id",i).attr("class","stateGroup");n.type==="start"&&vg(s),n.type==="end"&&lg(s),(n.type==="fork"||n.type==="join")&&rg(s,n),n.type==="note"&&tg(n.note.text,s),n.type==="divider"&&pg(s),n.type==="default"&&n.descriptions.length===0&&fg(s,n),n.type==="default"&&n.descriptions.length>0&&mg(s,n);const a=s.node().getBBox();return o.width=a.width+2*t().state.padding,o.height=a.height+2*t().state.padding,jg.set(i,o),o},Z1=0,eg=function(n,s,o){const a=function(e){switch(e){case et.relationType.AGGREGATION:return"aggregation";case et.relationType.EXTENSION:return"extension";case et.relationType.COMPOSITION:return"composition";case et.relationType.DEPENDENCY:return"dependency"}};s.points=s.points.filter(e=>!Number.isNaN(e.y));const r=s.points,c=Oo().x(function(e){return e.x}).y(function(e){return e.y}).curve(ps),l=n.append("path").attr("d",c(r)).attr("id","edge"+Z1).attr("class","transition");let i="";if(t().state.arrowMarkerAbsolute&&(i=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,i=i.replace(/\(/g,"\\("),i=i.replace(/\)/g,"\\)")),l.attr("marker-end","url("+i+"#"+a(et.relationType.DEPENDENCY)+"End)"),o.title!==void 0){const l=n.append("g").attr("class","stateLabel"),{x:d,y:r}=p.calcLabelPosition(s.points),a=h.getRows(o.title);let i=0;const m=[];let c=0,f=0;for(let t=0;t<=a.length;t++){const n=l.append("text").attr("text-anchor","middle").text(a[t]).attr("x",d).attr("y",r+i),s=n.node().getBBox();if(c=Math.max(c,s.width),f=Math.min(f,s.x),e.info(s.x,d,r+i),i===0){const t=n.node().getBBox();i=t.height,e.info("Title height",i,r)}m.push(n)}let u=i*a.length;if(a.length>1){const e=(a.length-1)*i*.5;m.forEach((t,n)=>t.attr("y",r+n*i-e)),u=i*a.length}const g=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",d-c/2-t().state.padding/2).attr("y",r-u/2-t().state.padding/2-3.5).attr("width",c+t().state.padding).attr("height",u+t().state.padding),e.info(g)}Z1++},Cc={},Zp=function(){},Qp=function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},Xp=function(n,s,o,a){Oe=t().state;const l=t().securityLevel;let d;l==="sandbox"&&(d=i("#i"+s));const u=i(l==="sandbox"?d.nodes()[0].contentDocument.body:"body"),p=l==="sandbox"?d.nodes()[0].contentDocument:document;e.debug("Rendering diagram "+n);const r=u.select(`[id='${s}']`);Qp(r);const g=new D({multigraph:!0,compound:!0,rankdir:"RL"});g.setDefaultEdgeLabel(function(){return{}});const v=a.db.getRootDoc();t4(v,r,void 0,!1,u,p,a);const h=Oe.padding,c=r.node().getBBox(),m=c.width+h*2,f=c.height+h*2,b=m*1.75;Me(r,f,b,Oe.useMaxWidth),r.attr("viewBox",`${c.x-Oe.padding}  ${c.y-Oe.padding} `+m+" "+f)},qp=e=>e?e.length*Oe.fontSizeFactor:1,t4=(t,n,s,o,i,a,r)=>{const c=new D({compound:!0,multigraph:!0});let u,l=!0;for(u=0;u<t.length;u++)if(t[u].stmt==="relation"){l=!1;break}s?c.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:l?1:Oe.edgeLengthFactor,nodeSep:l?1:50,isMultiGraph:!0}):c.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:l?1:Oe.edgeLengthFactor,nodeSep:l?1:50,ranker:"tight-tree",isMultiGraph:!0}),c.setDefaultEdgeLabel(function(){return{}}),r.db.extract(t);const p=r.db.getStates(),v=r.db.getRelations(),b=Object.keys(p);for(const l of b){const t=p[l];s&&(t.parentId=s);let e;if(t.doc){let s=n.append("g").attr("id",t.id).attr("class","stateGroup");e=t4(t.doc,s,t.id,!o,i,a,r);{s=ug(s,t,o);let n=s.node().getBBox();e.width=n.width,e.height=n.height+Oe.padding/2,Cc[t.id]={y:Oe.compositTitleSize}}}else e=Q1(n,t);if(t.note){const o={descriptions:[],id:t.id+"-note",note:t.note,type:"note"},s=Q1(n,o);t.note.position==="left of"?(c.setNode(e.id+"-note",s),c.setNode(e.id,e)):(c.setNode(e.id,e),c.setNode(e.id+"-note",s)),c.setParent(e.id,e.id+"-group"),c.setParent(e.id+"-note",e.id+"-group")}else c.setNode(e.id,e)}e.debug("Count=",c.nodeCount(),c);let g=0;v.forEach(function(t){g++,e.debug("Setting edge",t),c.setEdge(t.id1,t.id2,{relation:t,width:qp(t.title),height:Oe.labelHeight*h.getRows(t.title).length,labelpos:"c"},"id"+g)}),Co(c),e.debug("Graph after layout",c.nodes());const d=n.node();c.nodes().forEach(function(t){if(t!==void 0&&c.node(t)!==void 0){e.warn("Node "+t+": "+JSON.stringify(c.node(t))),i.select("#"+d.id+" #"+t).attr("transform","translate("+(c.node(t).x-c.node(t).width/2)+","+(c.node(t).y+(Cc[t]?Cc[t].y:0)-c.node(t).height/2)+" )"),i.select("#"+d.id+" #"+t).attr("data-x-shift",c.node(t).x-c.node(t).width/2);const n=a.querySelectorAll("#"+d.id+" #"+t+" .divider");n.forEach(e=>{const n=e.parentElement;let s=0,t=0;n&&(n.parentElement&&(s=n.parentElement.getBBox().width),t=parseInt(n.getAttribute("data-x-shift"),10),Number.isNaN(t)&&(t=0)),e.setAttribute("x1",0-t+8),e.setAttribute("x2",s-t-8)})}else e.debug("No Node "+t+": "+JSON.stringify(c.node(t)))});let f=d.getBBox();c.edges().forEach(function(t){t!==void 0&&c.edge(t)!==void 0&&(e.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(c.edge(t))),eg(n,c.edge(t),c.edge(t).relation))}),f=d.getBBox();const m={id:s||"root",label:s||"root",width:0,height:0};return m.width=f.width+2*Oe.padding,m.height=f.height+2*Oe.padding,e.debug("Doc rendered",m,c),m},Vp={setConf:Zp,draw:Xp},ni="rect",xc="rectWithTitle",Bp="start",Ip="end",Ep="divider",Cp="roundedWithTitle",Op="note",wp="noteGroup",Gn="statediagram",_p="state",vp=`${Gn}-${_p}`,s4="transition",pp="note",fp="note-edge",up=`${s4} ${fp}`,lp=`${Gn}-${pp}`,ap="cluster",np=`${Gn}-${ap}`,ep="cluster-alt",J6=`${Gn}-${ep}`,o4="parent",i4="note",N6="state",Oc="----",F6=`${Oc}${i4}`,f4=`${Oc}${o4}`,j4="fill:none",y4="fill: #333",_4="c",C4="text",k4="normal",wi={},Et=0,h6=function(e){const t=Object.keys(e);for(const n of t)e[n]},l6=function(t,n){e.trace("Extracting classes"),n.db.clear();try{return n.parser.parse(t),n.db.extract(n.db.getRootDocV2()),n.db.getClasses()}catch(e){return e}};function YI(e){return e==null?"":e.classes?e.classes.join(" "):""}function A4(e="",t=0,n="",s=Oc){const o=n!==null&&n.length>0?`${s}${n}`:"";return`${N6}-${e}${o}-${t}`}ro=(n,s,o,i,a,r)=>{const c=o.id,l=YI(i[c]);if(c!=="root"){let i=ni;o.start===!0&&(i=Bp),o.start===!1&&(i=Ip),o.type!==ko&&(i=o.type),wi[c]||(wi[c]={id:c,shape:i,description:h.sanitizeText(c,t()),classes:`${l} ${vp}`});const s=wi[c];o.description&&(Array.isArray(s.description)?(s.shape=xc,s.description.push(o.description)):s.description.length>0?(s.shape=xc,s.description===c?s.description=[o.description]:s.description=[s.description,o.description]):(s.shape=ni,s.description=o.description),s.description=h.sanitizeTextOrArray(s.description,t())),s.description.length===1&&s.shape===xc&&(s.shape=ni),!s.type&&o.doc&&(e.info("Setting cluster for ",c,mc(o)),s.type="group",s.dir=mc(o),s.shape=o.type===s1?Ep:Cp,s.classes=s.classes+" "+np+" "+(r?J6:""));const a={labelStyle:"",shape:s.shape,labelText:s.description,classes:s.classes,style:"",id:c,dir:s.dir,domId:A4(c,Et),type:s.type,padding:15};if(o.note){const e={labelStyle:"",shape:Op,labelText:o.note.text,classes:lp,style:"",id:c+F6+"-"+Et,domId:A4(c,Et,i4),type:s.type,padding:15},l={labelStyle:"",shape:wp,labelText:o.note.text,classes:s.classes,style:"",id:c+f4,domId:A4(c,Et,o4),type:"group",padding:0};Et++;const t=c+f4;n.setNode(t,l),n.setNode(e.id,e),n.setNode(c,a),n.setParent(c,t),n.setParent(e.id,t);let i=c,r=e.id;o.note.position==="left of"&&(i=e.id,r=c),n.setEdge(i,r,{arrowhead:"none",arrowType:"",style:j4,labelStyle:"",classes:up,arrowheadStyle:y4,labelpos:_4,labelType:C4,thickness:k4})}else n.setNode(c,a)}s&&s.id!=="root"&&(e.trace("Setting node ",c," to be child of its parent ",s.id),n.setParent(c,s.id)),o.doc&&(e.trace("Adding nodes children "),r6(n,o,o.doc,i,a,!r))},r6=(n,s,o,i,a,r)=>{e.trace("items",o),o.forEach(e=>{switch(e.stmt){case Ko:ro(n,s,e,i,a,r);break;case ko:ro(n,s,e,i,a,r);break;case Gc:{ro(n,s,e.state1,i,a,r),ro(n,s,e.state2,i,a,r);const o={id:"edge"+Et,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:j4,labelStyle:"",label:h.sanitizeText(e.description,t()),arrowheadStyle:y4,labelpos:_4,labelType:C4,thickness:k4,classes:s4};n.setEdge(e.state1.id,e.state2.id,o,Et),Et++}break}})},mc=(e,t=T5)=>{let n=t;if(e.doc)for(let t=0;t<e.doc.length;t++){const s=e.doc[t];s.stmt==="dir"&&(n=s.value)}return n},Pf=function(n,s,o,a){e.info("Drawing state diagram (v2)",s),wi={};let y=a.db.getDirection();y===void 0&&(y=t1);const{securityLevel:j,state:l}=t(),O=l.nodeSpacing||50,_=l.rankSpacing||50;e.info(a.db.getRootDocV2()),a.db.extract(a.db.getRootDocV2()),e.info(a.db.getRootDocV2());const x=a.db.getStates(),m=new D({multigraph:!0,compound:!0}).setGraph({rankdir:mc(a.db.getRootDocV2()),nodesep:O,ranksep:_,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ro(m,void 0,a.db.getRootDocV2(),x,a.db,!0);let f;j==="sandbox"&&(f=i("#i"+s));const g=i(j==="sandbox"?f.nodes()[0].contentDocument.body:"body"),r=g.select(`[id="${s}"]`),w=g.select("#"+s+" g");Ur(w,m,["barb"],Gn,s);const c=8;p.insertTitle(r,"statediagramTitleText",l.titleTopMargin,a.db.getDiagramTitle());const d=r.node().getBBox(),u=d.width+c*2,b=d.height+c*2;r.attr("class",Gn);const v=r.node().getBBox();Me(r,b,u,l.useMaxWidth);const h=`${v.x-c} ${v.y-c} ${u} ${b}`;e.debug(`viewBox ${h}`),r.attr("viewBox",h);const C=document.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const t of C){const n=t.getBBox(),e=document.createElementNS("http://www.w3.org/2000/svg",ni);e.setAttribute("rx",0),e.setAttribute("ry",0),e.setAttribute("width",n.width),e.setAttribute("height",n.height),t.insertBefore(e,t.firstChild)}},Rf={setConf:h6,getClasses:l6,draw:Pf},lc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},m=[1,2],n=[1,5],t=[6,9,11,17,18,20,22,23,24,26],h=[1,15],a=[1,16],i=[1,17],r=[1,18],c=[1,19],l=[1,20],d=[1,24],u=[4,6,9,11,17,18,20,22,23,24,26],o={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 1:return a[c-1];case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 11:o.setDiagramTitle(a[c].substr(6)),this.$=a[c].substr(6);break;case 12:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 13:case 14:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 15:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 16:o.addTask(a[c-1],a[c]),this.$="task";break;case 18:o.parseDirective("%%{","open_directive");break;case 19:o.parseDirective(a[c],"type_directive");break;case 20:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 21:o.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:m,7:3,12:4,26:n},{1:[3]},e(t,[2,3],{5:6}),{3:7,4:m,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:h,18:a,20:i,22:r,23:c,24:l,26:n},{1:[2,2]},{14:22,15:[1,23],29:d},e([15,29],[2,19]),e(t,[2,8],{1:[2,1]}),e(t,[2,4]),{7:21,10:25,12:4,17:h,18:a,20:i,22:r,23:c,24:l,26:n},e(t,[2,6]),e(t,[2,7]),e(t,[2,11]),{19:[1,26]},{21:[1,27]},e(t,[2,14]),e(t,[2,15]),{25:[1,28]},e(t,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(t,[2,5]),e(t,[2,12]),e(t,[2,13]),e(t,[2,16]),e(u,[2,9]),{14:32,29:d},{29:[2,20]},{11:[1,33]},e(u,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,c,d,f,p,g,v,b,j,_,x,k=this,i=[0],y=[],l=[null],n=[],h=this.table,C="",m=0,O=0,S=2,w=1,A=n.slice.call(arguments,1),s=Object.create(this.lexer),u={yy:{}};for(b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);s.setInput(t,u.yy),u.yy.lexer=s,u.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),_=s.options&&s.options.ranges,typeof u.yy.parseError=="function"?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(){var e=y.pop()||s.lex()||w;return typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=k.symbols_[e]||e),e}for(c={};!0;){if(d=i[i.length-1],this.defaultActions[d]?a=this.defaultActions[d]:((o===null||typeof o=="undefined")&&(o=E()),a=h[d]&&h[d][o]),typeof a=="undefined"||!a.length||!a[0]){p="",g=[];for(f in h[d])this.terminals_[f]&&f>S&&g.push("'"+this.terminals_[f]+"'");s.showPosition?p="Parse error on line "+(m+1)+`:
`+s.showPosition()+`
Expecting `+g.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(m+1)+": Unexpected "+(o==w?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:g})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+o);switch(a[0]){case 1:i.push(o),l.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,O=s.yyleng,C=s.yytext,m=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],c.$=l[l.length-r],c._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},_&&(c._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(c,[C,O,m,u.yy,a[1],l,n].concat(A)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),l=l.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),l.push(c.$),n.push(c._$),x=h[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},f=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return e}();o.lexer=f;function s(){this.yy={}}return s.prototype=o,o.Parser=s,new s}(),lc.parser=lc,Df=lc,Ff=e=>e.match(/^\s*journey/)!==null,En="",cc=[],ao=[],io=[],Cf=function(e,t,n){_.parseDirective(this,e,t,n)},hf=function(){cc.length=0,ao.length=0,En="",io.length=0,xe()},rf=function(e){En=e,cc.push(e)},sf=function(){return cc},ef=function(){let e=T4();const n=100;let t=0;for(;!e&&t<n;)e=T4(),t++;return ao.push(...io),ao},Z8=function(){const e=[];ao.forEach(t=>{t.people&&e.push(...t.people)});const t=new Set(e);return[...t].sort()},Q8=function(e,t){const n=t.substr(1).split(":");let s=0,o=[];n.length===1?(s=Number(n[0]),o=[]):(s=Number(n[0]),o=n[1].split(","));const i=o.map(e=>e.trim()),a={section:En,type:En,people:i,task:e,score:s};io.push(a)},X8=function(e){const t={section:En,type:En,description:e,task:e,classes:[]};ao.push(t)},T4=function(){const t=function(e){return io[e].processed};let e=!0;for(const[n,s]of io.entries())t(n),e=e&&s.processed;return e},$8=function(){return Z8()},z4={parseDirective:Cf,getConfig:()=>t().journey,clear:hf,setDiagramTitle:xt,getDiagramTitle:wt,setAccTitle:_e,getAccTitle:Se,setAccDescription:Fe,getAccDescription:Te,addSection:rf,getSections:sf,getTasks:ef,addTask:Q8,addTaskOrg:X8,getActors:$8},Ai=function(e,t){const n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},R8=function(e,t){const n=15,o=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",n).attr("stroke-width",2).attr("overflow","visible"),s=e.append("g");s.append("circle").attr("cx",t.cx-n/3).attr("cy",t.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",t.cx+n/3).attr("cy",t.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(e){const s=Od().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(n/2).outerRadius(n/2.2);e.append("path").attr("class","mouth").attr("d",s).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function a(e){const s=Od().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(n/2).outerRadius(n/2.2);e.append("path").attr("class","mouth").attr("d",s).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function r(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return t.score>3?i(s):t.score<3?a(s):r(s),o},N4=function(e,t){const n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},R4=function(e,t){const o=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);const s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.text(o),n},D8=function(e,t){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}const n=e.append("polygon");n.attr("points",s(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,R4(e,t)},z8=function(e,t,n){const o=e.append("g"),s=sc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+t.num,s.rx=3,s.ry=3,Ai(o,s),U4(n)(t.text,o,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+t.num},n,t.colour)},P4=-1,M8=function(e,t,n){const i=t.x+n.width/2,o=e.append("g");P4++;const r=300+5*30;o.append("line").attr("id","task"+P4).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",r).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),R8(o,{cx:i,cy:300+(5-t.score)*30,score:t.score});const s=sc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,Ai(o,s);let a=t.x+14;t.people.forEach(e=>{const n=t.actors[e].color,s={cx:a,cy:t.y,r:7,fill:n,stroke:"#000",title:e,pos:t.actors[e].position};N4(o,s),a+=10}),U4(n)(t.task,o,s.x,s.y,s.width,s.height,{class:"task"},n,t.colour)},C8=function(e,t){const n=Ai(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"});n.lower()},O8=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},sc=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},U4=function(){function n(t,n,s,o,i,a,r,c){const l=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("font-color",c).style("text-anchor","middle").text(t);e(l,r)}function t(t,n,s,o,i,a,r,c,l){const{taskFontSize:d,taskFontFamily:h}=c,u=t.split(/<br\s*\/?>/gi);for(let t=0;t<u.length;t++){const m=t*d-d*(u.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).attr("fill",l).style("text-anchor","middle").style("font-size",d).style("font-family",h);c.append("tspan").attr("x",s+i/2).attr("dy",m).text(u[t]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(c,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).attr("position","fixed"),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)n in t&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),_8=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},Xs={drawRect:Ai,drawCircle:N4,drawSection:z8,drawText:R4,drawLabel:D8,drawTask:M8,drawBackgroundRect:C8,getTextObj:O8,getNoteRect:sc,initGraphics:_8},g8=function(e){const t=Object.keys(e);t.forEach(function(t){Pi[t]=e[t]})},at={};function NB(e){const s=t().journey;let n=60;Object.keys(at).forEach(t=>{const o=at[t].color,i={cx:20,cy:n,r:7,fill:o,stroke:"#000",pos:at[t].position};Xs.drawCircle(e,i);const a={x:40,y:n+7,fill:"#666",text:t,textMargin:s.boxTextMargin|5};Xs.drawText(e,a),n+=20})}Pi=t().journey,hn=Pi.leftMargin,h8=function(e,n,s,o){const r=t().journey;o.db.clear(),o.parser.parse(e+`
`);const f=t().securityLevel;let m;f==="sandbox"&&(m=i("#i"+n));const g=i(f==="sandbox"?m.nodes()[0].contentDocument.body:"body");pe.init();const a=g.select("#"+n);Xs.initGraphics(a);const v=o.db.getTasks(),l=o.db.getDiagramTitle(),b=o.db.getActors();for(const e in at)delete at[e];let d=0;b.forEach(e=>{at[e]={color:r.actorColours[d%r.actorColours.length],position:d},d++}),NB(a),pe.insert(0,0,hn,Object.keys(at).length*50),c8(a,v,0);const c=pe.getBounds();l&&a.append("text").text(l).attr("x",hn).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const u=c.stopy-c.starty+2*r.diagramMarginY,h=hn+c.stopx+2*r.diagramMarginX;Me(a,u,h,r.useMaxWidth),a.append("line").attr("x1",hn).attr("y1",r.height*4).attr("x2",h-hn-4).attr("y2",r.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const p=l?70:0;a.attr("viewBox",`${c.startx} -25 ${h} ${u+p}`),a.attr("preserveAspectRatio","xMinYMin meet"),a.attr("height",u+p+25)},pe={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},updateBounds:function(e,n,s,o){const a=t().journey,i=this;let r=0;function c(t){return function(l){r++;const d=i.sequenceItems.length-r+1;i.updateVal(l,"starty",n-d*a.boxMargin,Math.min),i.updateVal(l,"stopy",o+d*a.boxMargin,Math.max),i.updateVal(pe.data,"startx",e-d*a.boxMargin,Math.min),i.updateVal(pe.data,"stopx",s+d*a.boxMargin,Math.max),t==="activation"||(i.updateVal(l,"startx",e-d*a.boxMargin,Math.min),i.updateVal(l,"stopx",s+d*a.boxMargin,Math.max),i.updateVal(pe.data,"starty",n-d*a.boxMargin,Math.min),i.updateVal(pe.data,"stopy",o+d*a.boxMargin,Math.max))}}this.sequenceItems.forEach(c())},insert:function(e,t,n,s){const o=Math.min(e,n),i=Math.max(e,n),a=Math.min(t,s),r=Math.max(t,s);this.updateVal(pe.data,"startx",o,Math.min),this.updateVal(pe.data,"starty",a,Math.min),this.updateVal(pe.data,"stopx",i,Math.max),this.updateVal(pe.data,"stopy",r,Math.max),this.updateBounds(o,a,i,r)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},qr=Pi.sectionFills,o0=Pi.sectionColours,c8=function(e,n,s){const o=t().journey;let l="";const d=o.height*2+o.diagramMarginY,u=s+d;let i=0,a="#CCC",r="black",c=0;for(const[s,t]of n.entries()){if(l!==t.section){a=qr[i%qr.length],c=i%qr.length,r=o0[i%o0.length];const n={x:s*o.taskMargin+s*o.width+hn,y:50,text:t.section,fill:a,num:c,colour:r};Xs.drawSection(e,n,o),l=t.section,i++}const d=t.people.reduce((e,t)=>(at[t]&&(e[t]=at[t]),e),{});t.x=s*o.taskMargin+s*o.width+hn,t.y=u,t.width=o.diagramMarginX,t.height=o.diagramMarginY,t.colour=r,t.fill=a,t.num=c,t.actors=d,Xs.drawTask(e,t,o),pe.insert(t.x,t.y,t.x+t.width+o.taskMargin,300+5*30)}},h0={setConf:g8,draw:h8},m0={},qm=function(e){m0={...m0,...e}},Im=(t,n,s)=>{try{e.debug(`Renering svg for syntax error
`);const o=i("#"+n),t=o.append("g");t.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),t.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),t.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),t.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),t.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),t.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),t.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),t.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+s),o.attr("height",100),o.attr("width",500),o.attr("viewBox","768 0 912 512")}catch(t){e.error("Error while rendering info diagram"),e.error(MF(t))}},Br={setConf:qm,draw:Im},v0=!1,qs=()=>{if(v0)return;v0=!0,B("error",{db:{clear:()=>{}},styles:tu,renderer:Br,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),B("c4",{parser:Ak,db:Z4,renderer:M2,styles:Cu,init:e=>{M2.setConf(e.c4)}},Sk),B("class",{parser:B2,db:Dn,renderer:mk,styles:go,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Dn.clear()}},oS),B("classDiagram",{parser:B2,db:Dn,renderer:cx,styles:go,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Dn.clear()}},iS),B("er",{parser:ax,db:VO,renderer:kO,styles:Qd},ix),B("gantt",{parser:Ty,db:Ha,renderer:ej,styles:su},Fy),B("info",{parser:Jb,db:Ub,renderer:Ib,styles:ou},Hb),B("pie",{parser:Pb,db:Sb,renderer:bb,styles:au},Rb),B("requirement",{parser:gb,db:K9,renderer:S9,styles:du},pb),B("sequence",{parser:C9,db:xu,renderer:Yu,styles:hu,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");xu.setWrap(e.wrap),Yu.setConf(e.sequence)}},x9),B("state",{parser:Zu,db:et,renderer:Vp,styles:ii,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,et.clear()}},P5),B("stateDiagram",{parser:Zu,db:et,renderer:Rf,styles:ii,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,et.clear()}},D5),B("journey",{parser:Df,db:z4,renderer:h0,styles:pu,init:e=>{h0.setConf(e.journey),z4.clear()}},Ff),B("flowchart",{parser:F4,db:dt,renderer:Tc,styles:li,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,O_.setConf(e.flowchart),dt.clear(),dt.setGen("gen-1")}},EO),B("flowchart-v2",{parser:F4,db:dt,renderer:Tc,styles:li,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,vd({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),Tc.setConf(e.flowchart),dt.clear(),dt.setGen("gen-2")}},wO),B("gitGraph",{parser:pE,db:rk,renderer:xk,styles:Ek},gE)},Ir=class{constructor(n,s){Ao(this,"type","graph"),Ao(this,"parser"),Ao(this,"renderer"),Ao(this,"db"),Ao(this,"detectTypeFailed",!1);var a,r;this.txt=n;const i=t();this.txt=n;try{this.type=Ml(n,i)}catch(e){this.handleError(e,s),this.type="error",this.detectTypeFailed=!0}const o=$u(this.type);e.debug("Type "+this.type),this.db=o.db,(r=(a=this.db).clear)==null?void 0:r.call(a),this.renderer=o.renderer,this.parser=o.parser;const c=this.parser.parse.bind(this.parser);this.parser.parse=e=>c(oT(e,this.db)),this.parser.parser.yy=this.db,o.init&&(o.init(i),e.debug("Initialized diagram "+this.type,i)),this.txt+=`
`,this.parse(this.txt,s)}parse(e,t){var n,s;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(s=(n=this.db).clear)==null?void 0:s.call(n),this.parser.parse(e),!0}catch(e){this.handleError(e,t)}return!1}handleError(e,t){if(t===void 0)throw e;if(ad(e)){t(e.str,e.hash);return}t(e)}getParser(){return this.parser}getType(){return this.type}},Pr=(e,n)=>{const s=Ml(e,t());try{$u(s)}catch{const t=rx(s);if(!t)throw new Error(`Diagram ${s} not found.`);return t().then(({diagram:t})=>(B(s,t,void 0),new Ir(e,n)))}return new Ir(e,n)},Rr=Ir;function JB(e,t){zn(t)||e.attr("aria-roledescription",t)}function eV(e,t,n,s){if(e.insert===void 0)return;if(t||n){{if(n){const t="chart-desc-"+s;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(n)}if(t){const n="chart-title-"+s;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}else return}Lr=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],E0="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",X0="sandbox",Z0="loose",Dm="http://www.w3.org/2000/svg",e2="http://www.w3.org/1999/xlink",m2="http://www.w3.org/1999/xhtml",Tm="100%",Fm="100%",Sm="border:0;margin:0;",Am="margin:0",km="allow-top-navigation-by-user-activation allow-popups",Em='The "iframe" tag is not supported by your browser.',w2=["foreignobject"],E2=["dominant-baseline"];function gV(e,t){qs();const n=new Rr(e,t);return n.parse(e,t)}async function vV(e,t){qs();const n=await Pr(e,t);return n.parse(e,t)}I2=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1),n=/^\+?\d+$/.test(t);return n?"\uFB02\xB0\xB0"+t+"\xB6\xDF":"\uFB02\xB0"+t+"\xB6\xDF"}),t},or=function(e){let t=e;return t=t.replace(//g,"&#"),t=t.replace(//g,"&"),t=t.replace(//g,";"),t},W2=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,ym=(e,t,n={})=>{var o;let s="";if(e.themeCSS!==void 0&&(s+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(s+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(s+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!zn(n)&&Lr.includes(t)){const t=e.htmlLabels||((o=e.flowchart)==null?void 0:o.htmlLabels),i=["> *","span"],a=["rect","polygon","ellipse","circle","path"],r=t?i:a;for(const t in n){const e=n[t];zn(e.styles)||r.forEach(t=>{s+=W2(e.id,t,e.styles)}),zn(e.textStyles)||(s+=W2(e.id,"tspan",e.textStyles))}}return s},K2=(e,t,n,s)=>{const o=ym(e,t,n),i=iE(t,o,e.themeVariables);return $0(yI(`${s}{${i}}`),FI)},q2=(e="",t,n)=>{let s=e;return!n&&!t&&(s=s.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),s=or(s),s=s.replace(/<br>/g,"<br/>"),s},t3=(e="",t)=>{const n=t?t.viewBox.baseVal.height+"px":Fm,s=btoa('<body style="'+Am+'">'+e+"</body>");return`<iframe style="width:${Tm};height:${n};${Sm}" src="data:text/html;base64,${s}" sandbox="${km}">
  ${Em}
</iframe>`},pa=(e,t,n,s,o)=>{const i=e.append("div");i.attr("id",n),s&&i.attr("style",s);const a=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Dm);return o&&a.attr("xmlns:xlink",o),a.append("g"),e};function Za(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}i3=(e,t,n,s)=>{var o,i,a;(o=e.getElementById(t))==null?void 0:o.remove(),(i=e.getElementById(n))==null?void 0:i.remove(),(a=e.getElementById(s))==null?void 0:a.remove()},rm=function(n,s,o,a){var y,_,w,O,C;qs(),mo();const b=p.detectInit(s);b&&(pn(b),Sl(b));const d=t();e.debug(d),s.length>((O=d?.maxTextSize)!=null?O:5e4)&&(s=E0),s=s.replace(/\r\n?/g,`
`);const P="#"+n,m="i"+n,L="#"+m,g="d"+n,h="#"+g;let r=i("body");const u=d.securityLevel===X0,k=d.securityLevel===Z0,T=d.fontFamily;if(a!==void 0){if(a&&(a.innerHTML=""),u){const e=Za(i(a),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i(a);pa(r,n,g,`font-family: ${T}`,e2)}else{if(i3(document,n,g,m),u){const e=Za(i("body"),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i("body");pa(r,n,g)}s=I2(s);let l,j;try{if(l=Pr(s),"then"in l)throw new Error("Diagram is a promise. Use renderAsync.")}catch(e){l=new Rr("error"),j=e}const A=r.select(h).node(),f=l.type,E=A.firstChild,S=E.firstChild,M=Lr.includes(f)?l.renderer.getClasses(s,l):{},F=K2(d,f,M,P),x=document.createElement("style");x.innerHTML=F,E.insertBefore(x,S);try{l.renderer.draw(s,n,Xi.version,l)}catch(e){throw Br.draw(s,n,Xi.version),e}const z=r.select(`${h} svg`),D=(w=(C=l.db).getAccTitle)==null?void 0:w.call(C),N=(y=(_=l.db).getAccDescription)==null?void 0:y.call(_);Zh(f,z,D,N),r.select(`[id="${n}"]`).selectAll("foreignobject > *").attr("xmlns",m2);let c=r.select(h).node().innerHTML;if(e.debug("config.arrowMarkerAbsolute",d.arrowMarkerAbsolute),c=q2(c,u,$(d.arrowMarkerAbsolute)),u){const e=r.select(h+" svg").node();c=t3(c,e)}else k||(c=Ds.default.sanitize(c,{ADD_TAGS:w2,ADD_ATTR:E2}));if(o!==void 0)switch(f){case"flowchart":case"flowchart-v2":o(c,dt.bindFunctions);break;case"gantt":o(c,Ha.bindFunctions);break;case"class":case"classDiagram":o(c,Dn.bindFunctions);break;default:o(c)}else e.debug("CB = undefined!");ku();const R=u?L:h,v=i(R).node();if(v&&"remove"in v&&v.remove(),j)throw j;return c},im=async function(n,s,o,a){var y,_,w,O,C;qs(),mo();const b=p.detectInit(s);b&&(pn(b),Sl(b));const l=t();e.debug(l),s.length>((O=l?.maxTextSize)!=null?O:5e4)&&(s=E0),s=s.replace(/\r\n?/g,`
`);const P="#"+n,m="i"+n,L="#"+m,g="d"+n,h="#"+g;let r=i("body");const u=l.securityLevel===X0,k=l.securityLevel===Z0,T=l.fontFamily;if(a!==void 0){if(a&&(a.innerHTML=""),u){const e=Za(i(a),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i(a);pa(r,n,g,`font-family: ${T}`,e2)}else{if(i3(document,n,g,m),u){const e=Za(i("body"),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i("body");pa(r,n,g)}s=I2(s);let d,j;try{d=await Pr(s)}catch(e){d=new Rr("error"),j=e}const A=r.select(h).node(),f=d.type,E=A.firstChild,S=E.firstChild,M=Lr.includes(f)?d.renderer.getClasses(s,d):{},F=K2(l,f,M,P),x=document.createElement("style");x.innerHTML=F,E.insertBefore(x,S);try{await d.renderer.draw(s,n,Xi.version,d)}catch(e){throw Br.draw(s,n,Xi.version),e}const z=r.select(`${h} svg`),D=(w=(C=d.db).getAccTitle)==null?void 0:w.call(C),N=(y=(_=d.db).getAccDescription)==null?void 0:y.call(_);Zh(f,z,D,N),r.select(`[id="${n}"]`).selectAll("foreignobject > *").attr("xmlns",m2);let c=r.select(h).node().innerHTML;if(e.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),c=q2(c,u,$(l.arrowMarkerAbsolute)),u){const e=r.select(h+" svg").node();c=t3(c,e)}else k||(c=Ds.default.sanitize(c,{ADD_TAGS:w2,ADD_ATTR:E2}));if(o!==void 0)switch(f){case"flowchart":case"flowchart-v2":o(c,dt.bindFunctions);break;case"gantt":o(c,Ha.bindFunctions);break;case"class":case"classDiagram":o(c,Dn.bindFunctions);break;default:o(c)}else e.debug("CB = undefined!");ku();const R=u?L:h,v=i(R).node();if(v&&"remove"in v&&v.remove(),j)throw j;return c},an={},tm=function(t,n,s,o){try{if(n!==void 0)switch(n=n.trim(),s){case"open_directive":an={};break;case"type_directive":if(!an)throw new Error("currentDirective is undefined");an.type=n.toLowerCase();break;case"arg_directive":if(!an)throw new Error("currentDirective is undefined");an.args=JSON.parse(n);break;case"close_directive":Jh(t,an,o),an=void 0;break}}catch(t){e.error(`Error while rendering sequenceDiagram directive: ${n} jison context: ${s}`),e.error(t.message)}},Jh=function(t,n,s){switch(e.debug(`Directive type=${n.type} with args:`,n.args),n.type){case"init":case"initialize":{["config"].forEach(e=>{n.args[e]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),n.args[s]=n.args[e],delete n.args[e])}),e.debug("sanitize in handleDirective",n.args),pn(n.args),e.debug("sanitize in handleDirective (done)",n.args),Sl(n.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(n.type==="wrap");break;case"themeCss":e.warn("themeCss encountered");break;default:e.warn(`Unhandled directive: source: '%%{${n.type}: ${JSON.stringify(n.args?n.args:{})}}%%`,n);break}};function zV(e={}){var t;e?.fontFamily&&!((t=e.themeVariables)==null?void 0:t.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),gC(e),e?.theme&&e.theme in ct?e.themeVariables=ct[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=ct.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?pC(e):pd();Qc(n.logLevel),qs()}function Zh(e,t,n,s){JB(t,e),eV(t,n,s,t.attr("id"))}_=Object.freeze({render:rm,renderAsync:im,parse:gV,parseAsync:vV,parseDirective:tm,initialize:zV,getConfig:t,setConfig:vd,getSiteConfig:pd,updateSiteConfig:vC,reset:()=>{mo()},globalReset:()=>{mo(bn)},defaultConfig:bn}),Qc(t().logLevel),mo(t()),h3=!1,Qh=async function(t,n,s){try{h3?await b3(t,n,s):g3(t,n,s)}catch(t){e.warn("Syntax Error rendering"),ad(t)&&e.warn(t.str),ue.parseError&&ue.parseError(t)}},f3=(t,n,s)=>{e.warn(t),ad(t)?(s&&s(t.str,t.hash),n.push({...t,message:t.str,error:t})):(s&&s(t),t instanceof Error&&n.push({str:t.message,message:t.message,hash:t.name,error:t}))},g3=function(t,n,s){const r=_.getConfig();t&&(ue.sequenceConfig=t),e.debug(`${s?"":"No "}Callback function found`);let o;if(n===void 0)o=document.querySelectorAll(".mermaid");else if(typeof n=="string")o=document.querySelectorAll(n);else if(n instanceof HTMLElement)o=[n];else if(n instanceof NodeList)o=n;else throw new Error("Invalid argument nodes for mermaid.init");e.debug(`Found ${o.length} diagrams`),t?.startOnLoad!==void 0&&(e.debug("Start On Load: "+t?.startOnLoad),_.updateSiteConfig({startOnLoad:t?.startOnLoad}));const c=new p.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let i;const a=[];for(const t of Array.from(o)){if(e.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const n=`mermaid-${c.next()}`;i=t.innerHTML,i=p.entityDecode(i).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=p.detectInit(i);r&&e.debug("Detected early reinit: ",r);try{_.render(n,i,(e,o)=>{t.innerHTML=e,s!==void 0&&s(n),o&&o(t)},t)}catch(e){f3(e,a,ue.parseError)}}if(a.length>0)throw a[0]},Ph=e=>{for(const{id:t,detector:n,loader:s}of e)bd(t,n,s)},Rh=async t=>{e.debug(`Loading ${t.length} external diagrams`);const s=await Promise.allSettled(t.map(async({id:e,detector:t,loader:n})=>{const{diagram:s}=await n();B(e,s,t)})),n=s.filter(e=>e.status==="rejected");if(n.length>0){e.error(`Failed to load ${n.length} external diagrams`);for(const t of n)e.error(t);throw new Error(`Failed to load ${n.length} external diagrams`)}},b3=async function(t,n,s){const r=_.getConfig();t&&(ue.sequenceConfig=t),e.debug(`${s?"":"No "}Callback function found`);let o;if(n===void 0)o=document.querySelectorAll(".mermaid");else if(typeof n=="string")o=document.querySelectorAll(n);else if(n instanceof HTMLElement)o=[n];else if(n instanceof NodeList)o=n;else throw new Error("Invalid argument nodes for mermaid.init");e.debug(`Found ${o.length} diagrams`),t?.startOnLoad!==void 0&&(e.debug("Start On Load: "+t?.startOnLoad),_.updateSiteConfig({startOnLoad:t?.startOnLoad}));const c=new p.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let i;const a=[];for(const t of Array.from(o)){if(e.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const n=`mermaid-${c.next()}`;i=t.innerHTML,i=p.entityDecode(i).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=p.detectInit(i);r&&e.debug("Detected early reinit: ",r);try{await _.renderAsync(n,i,(e,o)=>{t.innerHTML=e,s!==void 0&&s(n),o&&o(t)},t)}catch(e){f3(e,a,ue.parseError)}}if(a.length>0)throw a[0]},Fh=function(e){_.initialize(e)},Mh=async(e,{lazyLoad:t=!0}={})=>{t?Ph(e):await Rh(e),h3=!0},y3=function(){if(ue.startOnLoad){const{startOnLoad:e}=_.getConfig();e&&ue.init()}},typeof document!="undefined"&&window.addEventListener("load",y3,!1),kh=function(e){ue.parseError=e},nh=e=>_.parse(e,ue.parseError),Ea=[],$a=!1,M3=async()=>{if($a)return;for($a=!0;Ea.length>0;){const t=Ea.shift();if(t)try{await t()}catch(t){e.error("Error executing queue",t)}}$a=!1},q3=t=>new Promise((n,s)=>{const o=()=>new Promise((o,i)=>{_.parseAsync(t,ue.parseError).then(e=>{o(e),n(e)},t=>{e.error("Error parsing",t),i(t),s(t)})});Ea.push(o),M3()}),$3=(t,n,s,o)=>new Promise((i,a)=>{const r=()=>new Promise((r,c)=>{_.renderAsync(t,n,s,o).then(e=>{r(e),i(e)},t=>{e.error("Error parsing",t),c(t),a(t)})});Ea.push(r),M3()}),ue={startOnLoad:!0,diagrams:{},mermaidAPI:_,parse:nh,parseAsync:q3,render:_.render,renderAsync:$3,init:Qh,initThrowsErrors:g3,initThrowsErrorsAsync:b3,registerExternalDiagrams:Mh,initialize:Fh,parseError:void 0,contentLoaded:y3,setParseErrorHandler:kh},P3={theme:"default",fontFamily:'"Jost", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, "Helvetica Neue", arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";'},document.addEventListener("DOMContentLoaded",()=>{ue.initialize(P3),ue.init(void 0,".language-mermaid")})})()